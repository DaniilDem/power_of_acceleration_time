/*!
 * Bootstrap v3.3.7 (http://getbootstrap.com)
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under the MIT license
 */
if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(a){"use strict";var b=a.fn.jquery.split(" ")[0].split(".");if(b[0]<2&&b[1]<9||1==b[0]&&9==b[1]&&b[2]<1||b[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(jQuery),+function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one("bsTransitionEnd",function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(b){if(a(b.target).is(this))return b.handleObj.handler.apply(this,arguments)}})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var c=a(this),e=c.data("bs.alert");e||c.data("bs.alert",e=new d(this)),"string"==typeof b&&e[b].call(c)})}var c='[data-dismiss="alert"]',d=function(b){a(b).on("click",c,this.close)};d.VERSION="3.3.7",d.TRANSITION_DURATION=150,d.prototype.close=function(b){function c(){g.detach().trigger("closed.bs.alert").remove()}var e=a(this),f=e.attr("data-target");f||(f=e.attr("href"),f=f&&f.replace(/.*(?=#[^\s]*$)/,""));var g=a("#"===f?[]:f);b&&b.preventDefault(),g.length||(g=e.closest(".alert")),g.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(g.removeClass("in"),a.support.transition&&g.hasClass("fade")?g.one("bsTransitionEnd",c).emulateTransitionEnd(d.TRANSITION_DURATION):c())};var e=a.fn.alert;a.fn.alert=b,a.fn.alert.Constructor=d,a.fn.alert.noConflict=function(){return a.fn.alert=e,this},a(document).on("click.bs.alert.data-api",c,d.prototype.close)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof b&&b;e||d.data("bs.button",e=new c(this,f)),"toggle"==b?e.toggle():b&&e.setState(b)})}var c=function(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),this.isLoading=!1};c.VERSION="3.3.7",c.DEFAULTS={loadingText:"loading..."},c.prototype.setState=function(b){var c="disabled",d=this.$element,e=d.is("input")?"val":"html",f=d.data();b+="Text",null==f.resetText&&d.data("resetText",d[e]()),setTimeout(a.proxy(function(){d[e](null==f[b]?this.options[b]:f[b]),"loadingText"==b?(this.isLoading=!0,d.addClass(c).attr(c,c).prop(c,!0)):this.isLoading&&(this.isLoading=!1,d.removeClass(c).removeAttr(c).prop(c,!1))},this),0)},c.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle="buttons"]');if(b.length){var c=this.$element.find("input");"radio"==c.prop("type")?(c.prop("checked")&&(a=!1),b.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==c.prop("type")&&(c.prop("checked")!==this.$element.hasClass("active")&&(a=!1),this.$element.toggleClass("active")),c.prop("checked",this.$element.hasClass("active")),a&&c.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var d=a.fn.button;a.fn.button=b,a.fn.button.Constructor=c,a.fn.button.noConflict=function(){return a.fn.button=d,this},a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(c){var d=a(c.target).closest(".btn");b.call(d,"toggle"),a(c.target).is('input[type="radio"], input[type="checkbox"]')||(c.preventDefault(),d.is("input,button")?d.trigger("focus"):d.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(b){a(b.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(b.type))})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},c.DEFAULTS,d.data(),"object"==typeof b&&b),g="string"==typeof b?b:f.slide;e||d.data("bs.carousel",e=new c(this,f)),"number"==typeof b?e.to(b):g?e[g]():f.interval&&e.pause().cycle()})}var c=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",a.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",a.proxy(this.pause,this)).on("mouseleave.bs.carousel",a.proxy(this.cycle,this))};c.VERSION="3.3.7",c.TRANSITION_DURATION=600,c.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},c.prototype.keydown=function(a){if(!/input|textarea/i.test(a.target.tagName)){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}a.preventDefault()}},c.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},c.prototype.getItemIndex=function(a){return this.$items=a.parent().children(".item"),this.$items.index(a||this.$active)},c.prototype.getItemForDirection=function(a,b){var c=this.getItemIndex(b),d="prev"==a&&0===c||"next"==a&&c==this.$items.length-1;if(d&&!this.options.wrap)return b;var e="prev"==a?-1:1,f=(c+e)%this.$items.length;return this.$items.eq(f)},c.prototype.to=function(a){var b=this,c=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(a>this.$items.length-1||a<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){b.to(a)}):c==a?this.pause().cycle():this.slide(a>c?"next":"prev",this.$items.eq(a))},c.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},c.prototype.next=function(){if(!this.sliding)return this.slide("next")},c.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},c.prototype.slide=function(b,d){var e=this.$element.find(".item.active"),f=d||this.getItemForDirection(b,e),g=this.interval,h="next"==b?"left":"right",i=this;if(f.hasClass("active"))return this.sliding=!1;var j=f[0],k=a.Event("slide.bs.carousel",{relatedTarget:j,direction:h});if(this.$element.trigger(k),!k.isDefaultPrevented()){if(this.sliding=!0,g&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var l=a(this.$indicators.children()[this.getItemIndex(f)]);l&&l.addClass("active")}var m=a.Event("slid.bs.carousel",{relatedTarget:j,direction:h});return a.support.transition&&this.$element.hasClass("slide")?(f.addClass(b),f[0].offsetWidth,e.addClass(h),f.addClass(h),e.one("bsTransitionEnd",function(){f.removeClass([b,h].join(" ")).addClass("active"),e.removeClass(["active",h].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger(m)},0)}).emulateTransitionEnd(c.TRANSITION_DURATION)):(e.removeClass("active"),f.addClass("active"),this.sliding=!1,this.$element.trigger(m)),g&&this.cycle(),this}};var d=a.fn.carousel;a.fn.carousel=b,a.fn.carousel.Constructor=c,a.fn.carousel.noConflict=function(){return a.fn.carousel=d,this};var e=function(c){var d,e=a(this),f=a(e.attr("data-target")||(d=e.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""));if(f.hasClass("carousel")){var g=a.extend({},f.data(),e.data()),h=e.attr("data-slide-to");h&&(g.interval=!1),b.call(f,g),h&&f.data("bs.carousel").to(h),c.preventDefault()}};a(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var c=a(this);b.call(c,c.data())})})}(jQuery),+function(a){"use strict";function b(b){var c,d=b.attr("data-target")||(c=b.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"");return a(d)}function c(b){return this.each(function(){var c=a(this),e=c.data("bs.collapse"),f=a.extend({},d.DEFAULTS,c.data(),"object"==typeof b&&b);!e&&f.toggle&&/show|hide/.test(b)&&(f.toggle=!1),e||c.data("bs.collapse",e=new d(this,f)),"string"==typeof b&&e[b]()})}var d=function(b,c){this.$element=a(b),this.options=a.extend({},d.DEFAULTS,c),this.$trigger=a('[data-toggle="collapse"][href="#'+b.id+'"],[data-toggle="collapse"][data-target="#'+b.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};d.VERSION="3.3.7",d.TRANSITION_DURATION=350,d.DEFAULTS={toggle:!0},d.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},d.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&(b=e.data("bs.collapse"),b&&b.transitioning))){var f=a.Event("show.bs.collapse");if(this.$element.trigger(f),!f.isDefaultPrevented()){e&&e.length&&(c.call(e,"hide"),b||e.data("bs.collapse",null));var g=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[g](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var h=function(){this.$element.removeClass("collapsing").addClass("collapse in")[g](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return h.call(this);var i=a.camelCase(["scroll",g].join("-"));this.$element.one("bsTransitionEnd",a.proxy(h,this)).emulateTransitionEnd(d.TRANSITION_DURATION)[g](this.$element[0][i])}}}},d.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var e=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return a.support.transition?void this.$element[c](0).one("bsTransitionEnd",a.proxy(e,this)).emulateTransitionEnd(d.TRANSITION_DURATION):e.call(this)}}},d.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},d.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(c,d){var e=a(d);this.addAriaAndCollapsedClass(b(e),e)},this)).end()},d.prototype.addAriaAndCollapsedClass=function(a,b){var c=a.hasClass("in");a.attr("aria-expanded",c),b.toggleClass("collapsed",!c).attr("aria-expanded",c)};var e=a.fn.collapse;a.fn.collapse=c,a.fn.collapse.Constructor=d,a.fn.collapse.noConflict=function(){return a.fn.collapse=e,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(d){var e=a(this);e.attr("data-target")||d.preventDefault();var f=b(e),g=f.data("bs.collapse"),h=g?"toggle":e.data();c.call(f,h)})}(jQuery),+function(a){"use strict";function b(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}function c(c){c&&3===c.which||(a(e).remove(),a(f).each(function(){var d=a(this),e=b(d),f={relatedTarget:this};e.hasClass("open")&&(c&&"click"==c.type&&/input|textarea/i.test(c.target.tagName)&&a.contains(e[0],c.target)||(e.trigger(c=a.Event("hide.bs.dropdown",f)),c.isDefaultPrevented()||(d.attr("aria-expanded","false"),e.removeClass("open").trigger(a.Event("hidden.bs.dropdown",f)))))}))}function d(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new g(this)),"string"==typeof b&&d[b].call(c)})}var e=".dropdown-backdrop",f='[data-toggle="dropdown"]',g=function(b){a(b).on("click.bs.dropdown",this.toggle)};g.VERSION="3.3.7",g.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=b(e),g=f.hasClass("open");if(c(),!g){"ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(a(this)).on("click",c);var h={relatedTarget:this};if(f.trigger(d=a.Event("show.bs.dropdown",h)),d.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),f.toggleClass("open").trigger(a.Event("shown.bs.dropdown",h))}return!1}},g.prototype.keydown=function(c){if(/(38|40|27|32)/.test(c.which)&&!/input|textarea/i.test(c.target.tagName)){var d=a(this);if(c.preventDefault(),c.stopPropagation(),!d.is(".disabled, :disabled")){var e=b(d),g=e.hasClass("open");if(!g&&27!=c.which||g&&27==c.which)return 27==c.which&&e.find(f).trigger("focus"),d.trigger("click");var h=" li:not(.disabled):visible a",i=e.find(".dropdown-menu"+h);if(i.length){var j=i.index(c.target);38==c.which&&j>0&&j--,40==c.which&&j<i.length-1&&j++,~j||(j=0),i.eq(j).trigger("focus")}}}};var h=a.fn.dropdown;a.fn.dropdown=d,a.fn.dropdown.Constructor=g,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=h,this},a(document).on("click.bs.dropdown.data-api",c).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",f,g.prototype.toggle).on("keydown.bs.dropdown.data-api",f,g.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",g.prototype.keydown)}(jQuery),+function(a){"use strict";function b(b,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},c.DEFAULTS,e.data(),"object"==typeof b&&b);f||e.data("bs.modal",f=new c(this,g)),"string"==typeof b?f[b](d):g.show&&f.show(d)})}var c=function(b,c){this.options=c,this.$body=a(document.body),this.$element=a(b),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};c.VERSION="3.3.7",c.TRANSITION_DURATION=300,c.BACKDROP_TRANSITION_DURATION=150,c.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},c.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)},c.prototype.show=function(b){var d=this,e=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){d.$element.one("mouseup.dismiss.bs.modal",function(b){a(b.target).is(d.$element)&&(d.ignoreBackdropClick=!0)})}),this.backdrop(function(){var e=a.support.transition&&d.$element.hasClass("fade");d.$element.parent().length||d.$element.appendTo(d.$body),d.$element.show().scrollTop(0),d.adjustDialog(),e&&d.$element[0].offsetWidth,d.$element.addClass("in"),d.enforceFocus();var f=a.Event("shown.bs.modal",{relatedTarget:b});e?d.$dialog.one("bsTransitionEnd",function(){d.$element.trigger("focus").trigger(f)}).emulateTransitionEnd(c.TRANSITION_DURATION):d.$element.trigger("focus").trigger(f)}))},c.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(c.TRANSITION_DURATION):this.hideModal())},c.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){document===a.target||this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))},c.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},c.prototype.resize=function(){this.isShown?a(window).on("resize.bs.modal",a.proxy(this.handleUpdate,this)):a(window).off("resize.bs.modal")},c.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.$body.removeClass("modal-open"),a.resetAdjustments(),a.resetScrollbar(),a.$element.trigger("hidden.bs.modal")})},c.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},c.prototype.backdrop=function(b){var d=this,e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var f=a.support.transition&&e;if(this.$backdrop=a(document.createElement("div")).addClass("modal-backdrop "+e).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(a){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),f&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;f?this.$backdrop.one("bsTransitionEnd",b).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):b()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var g=function(){d.removeBackdrop(),b&&b()};a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",g).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):g()}else b&&b()},c.prototype.handleUpdate=function(){this.adjustDialog()},c.prototype.adjustDialog=function(){var a=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&a?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!a?this.scrollbarWidth:""})},c.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},c.prototype.checkScrollbar=function(){var a=window.innerWidth;if(!a){var b=document.documentElement.getBoundingClientRect();a=b.right-Math.abs(b.left)}this.bodyIsOverflowing=document.body.clientWidth<a,this.scrollbarWidth=this.measureScrollbar()},c.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",a+this.scrollbarWidth)},c.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},c.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure",this.$body.append(a);var b=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),b};var d=a.fn.modal;a.fn.modal=b,a.fn.modal.Constructor=c,a.fn.modal.noConflict=function(){return a.fn.modal=d,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(c){var d=a(this),e=d.attr("href"),f=a(d.attr("data-target")||e&&e.replace(/.*(?=#[^\s]+$)/,"")),g=f.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(e)&&e},f.data(),d.data());d.is("a")&&c.preventDefault(),f.one("show.bs.modal",function(a){a.isDefaultPrevented()||f.one("hidden.bs.modal",function(){d.is(":visible")&&d.trigger("focus")})}),b.call(f,g,this)})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof b&&b;!e&&/destroy|hide/.test(b)||(e||d.data("bs.tooltip",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",a,b)};c.VERSION="3.3.7",c.TRANSITION_DURATION=150,c.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},c.prototype.init=function(b,c,d){if(this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.$viewport=this.options.viewport&&a(a.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focusin",i="hover"==g?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},c.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},c.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusin"==b.type?"focus":"hover"]=!0),c.tip().hasClass("in")||"in"==c.hoverState?void(c.hoverState="in"):(clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)):c.show())},c.prototype.isInStateTrue=function(){for(var a in this.inState)if(this.inState[a])return!0;return!1},c.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);if(c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusout"==b.type?"focus":"hover"]=!1),!c.isInStateTrue())return clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?void(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)):c.hide()},c.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(b);var d=a.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(b.isDefaultPrevented()||!d)return;var e=this,f=this.tip(),g=this.getUID(this.type);this.setContent(),f.attr("id",g),this.$element.attr("aria-describedby",g),this.options.animation&&f.addClass("fade");var h="function"==typeof this.options.placement?this.options.placement.call(this,f[0],this.$element[0]):this.options.placement,i=/\s?auto?\s?/i,j=i.test(h);j&&(h=h.replace(i,"")||"top"),f.detach().css({top:0,left:0,display:"block"}).addClass(h).data("bs."+this.type,this),this.options.container?f.appendTo(this.options.container):f.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var k=this.getPosition(),l=f[0].offsetWidth,m=f[0].offsetHeight;if(j){var n=h,o=this.getPosition(this.$viewport);h="bottom"==h&&k.bottom+m>o.bottom?"top":"top"==h&&k.top-m<o.top?"bottom":"right"==h&&k.right+l>o.width?"left":"left"==h&&k.left-l<o.left?"right":h,f.removeClass(n).addClass(h)}var p=this.getCalculatedOffset(h,k,l,m);this.applyPlacement(p,h);var q=function(){var a=e.hoverState;e.$element.trigger("shown.bs."+e.type),e.hoverState=null,"out"==a&&e.leave(e)};a.support.transition&&this.$tip.hasClass("fade")?f.one("bsTransitionEnd",q).emulateTransitionEnd(c.TRANSITION_DURATION):q()}},c.prototype.applyPlacement=function(b,c){var d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),b.top+=g,b.left+=h,a.offset.setOffset(d[0],a.extend({using:function(a){d.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),d.addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;"top"==c&&j!=f&&(b.top=b.top+f-j);var k=this.getViewportAdjustedDelta(c,b,i,j);k.left?b.left+=k.left:b.top+=k.top;var l=/top|bottom/.test(c),m=l?2*k.left-e+i:2*k.top-f+j,n=l?"offsetWidth":"offsetHeight";d.offset(b),this.replaceArrow(m,d[0][n],l)},c.prototype.replaceArrow=function(a,b,c){this.arrow().css(c?"left":"top",50*(1-a/b)+"%").css(c?"top":"left","")},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},c.prototype.hide=function(b){function d(){"in"!=e.hoverState&&f.detach(),e.$element&&e.$element.removeAttr("aria-describedby").trigger("hidden.bs."+e.type),b&&b()}var e=this,f=a(this.$tip),g=a.Event("hide.bs."+this.type);if(this.$element.trigger(g),!g.isDefaultPrevented())return f.removeClass("in"),a.support.transition&&f.hasClass("fade")?f.one("bsTransitionEnd",d).emulateTransitionEnd(c.TRANSITION_DURATION):d(),this.hoverState=null,this},c.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},c.prototype.hasContent=function(){return this.getTitle()},c.prototype.getPosition=function(b){b=b||this.$element;var c=b[0],d="BODY"==c.tagName,e=c.getBoundingClientRect();null==e.width&&(e=a.extend({},e,{width:e.right-e.left,height:e.bottom-e.top}));var f=window.SVGElement&&c instanceof window.SVGElement,g=d?{top:0,left:0}:f?null:b.offset(),h={scroll:d?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop()},i=d?{width:a(window).width(),height:a(window).height()}:null;return a.extend({},e,h,i,g)},c.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},c.prototype.getViewportAdjustedDelta=function(a,b,c,d){var e={top:0,left:0};if(!this.$viewport)return e;var f=this.options.viewport&&this.options.viewport.padding||0,g=this.getPosition(this.$viewport);if(/right|left/.test(a)){var h=b.top-f-g.scroll,i=b.top+f-g.scroll+d;h<g.top?e.top=g.top-h:i>g.top+g.height&&(e.top=g.top+g.height-i)}else{var j=b.left-f,k=b.left+f+c;j<g.left?e.left=g.left-j:k>g.right&&(e.left=g.left+g.width-k)}return e},c.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},c.prototype.getUID=function(a){do a+=~~(1e6*Math.random());while(document.getElementById(a));return a},c.prototype.tip=function(){if(!this.$tip&&(this.$tip=a(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},c.prototype.enable=function(){this.enabled=!0},c.prototype.disable=function(){this.enabled=!1},c.prototype.toggleEnabled=function(){this.enabled=!this.enabled},c.prototype.toggle=function(b){var c=this;b&&(c=a(b.currentTarget).data("bs."+this.type),c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c))),b?(c.inState.click=!c.inState.click,c.isInStateTrue()?c.enter(c):c.leave(c)):c.tip().hasClass("in")?c.leave(c):c.enter(c)},c.prototype.destroy=function(){var a=this;clearTimeout(this.timeout),this.hide(function(){a.$element.off("."+a.type).removeData("bs."+a.type),a.$tip&&a.$tip.detach(),a.$tip=null,a.$arrow=null,a.$viewport=null,a.$element=null})};var d=a.fn.tooltip;a.fn.tooltip=b,a.fn.tooltip.Constructor=c,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=d,this}}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof b&&b;!e&&/destroy|hide/.test(b)||(e||d.data("bs.popover",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");c.VERSION="3.3.7",c.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),c.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),c.prototype.constructor=c,c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof c?"html":"append":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},c.prototype.hasContent=function(){return this.getTitle()||this.getContent()},c.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var d=a.fn.popover;a.fn.popover=b,a.fn.popover.Constructor=c,a.fn.popover.noConflict=function(){return a.fn.popover=d,this}}(jQuery),+function(a){"use strict";function b(c,d){this.$body=a(document.body),this.$scrollElement=a(a(c).is(document.body)?window:c),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",a.proxy(this.process,this)),this.refresh(),this.process()}function c(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})}b.VERSION="3.3.7",b.DEFAULTS={offset:10},b.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},b.prototype.refresh=function(){var b=this,c="offset",d=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),a.isWindow(this.$scrollElement[0])||(c="position",d=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var b=a(this),e=b.data("target")||b.attr("href"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(":visible")&&[[f[c]().top+d,e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){b.offsets.push(this[0]),b.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.getScrollHeight(),d=this.options.offset+c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(this.scrollHeight!=c&&this.refresh(),b>=d)return g!=(a=f[f.length-1])&&this.activate(a);if(g&&b<e[0])return this.activeTarget=null,this.clear();for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(void 0===e[a+1]||b<e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){
this.activeTarget=b,this.clear();var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate.bs.scrollspy")},b.prototype.clear=function(){a(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var d=a.fn.scrollspy;a.fn.scrollspy=c,a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=d,this},a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);c.call(b,b.data())})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new c(this)),"string"==typeof b&&e[b]()})}var c=function(b){this.element=a(b)};c.VERSION="3.3.7",c.TRANSITION_DURATION=150,c.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a"),f=a.Event("hide.bs.tab",{relatedTarget:b[0]}),g=a.Event("show.bs.tab",{relatedTarget:e[0]});if(e.trigger(f),b.trigger(g),!g.isDefaultPrevented()&&!f.isDefaultPrevented()){var h=a(d);this.activate(b.closest("li"),c),this.activate(h,h.parent(),function(){e.trigger({type:"hidden.bs.tab",relatedTarget:b[0]}),b.trigger({type:"shown.bs.tab",relatedTarget:e[0]})})}}},c.prototype.activate=function(b,d,e){function f(){g.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),b.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),h?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu").length&&b.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),e&&e()}var g=d.find("> .active"),h=e&&a.support.transition&&(g.length&&g.hasClass("fade")||!!d.find("> .fade").length);g.length&&h?g.one("bsTransitionEnd",f).emulateTransitionEnd(c.TRANSITION_DURATION):f(),g.removeClass("in")};var d=a.fn.tab;a.fn.tab=b,a.fn.tab.Constructor=c,a.fn.tab.noConflict=function(){return a.fn.tab=d,this};var e=function(c){c.preventDefault(),b.call(a(this),"show")};a(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',e).on("click.bs.tab.data-api",'[data-toggle="pill"]',e)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof b&&b;e||d.data("bs.affix",e=new c(this,f)),"string"==typeof b&&e[b]()})}var c=function(b,d){this.options=a.extend({},c.DEFAULTS,d),this.$target=a(this.options.target).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(b),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};c.VERSION="3.3.7",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getState=function(a,b,c,d){var e=this.$target.scrollTop(),f=this.$element.offset(),g=this.$target.height();if(null!=c&&"top"==this.affixed)return e<c&&"top";if("bottom"==this.affixed)return null!=c?!(e+this.unpin<=f.top)&&"bottom":!(e+g<=a-d)&&"bottom";var h=null==this.affixed,i=h?e:f.top,j=h?g:b;return null!=c&&e<=c?"top":null!=d&&i+j>=a-d&&"bottom"},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var a=this.$target.scrollTop(),b=this.$element.offset();return this.pinnedOffset=b.top-a},c.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b=this.$element.height(),d=this.options.offset,e=d.top,f=d.bottom,g=Math.max(a(document).height(),a(document.body).height());"object"!=typeof d&&(f=e=d),"function"==typeof e&&(e=d.top(this.$element)),"function"==typeof f&&(f=d.bottom(this.$element));var h=this.getState(g,b,e,f);if(this.affixed!=h){null!=this.unpin&&this.$element.css("top","");var i="affix"+(h?"-"+h:""),j=a.Event(i+".bs.affix");if(this.$element.trigger(j),j.isDefaultPrevented())return;this.affixed=h,this.unpin="bottom"==h?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(i).trigger(i.replace("affix","affixed")+".bs.affix")}"bottom"==h&&this.$element.offset({top:g-b-f})}};var d=a.fn.affix;a.fn.affix=b,a.fn.affix.Constructor=c,a.fn.affix.noConflict=function(){return a.fn.affix=d,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var c=a(this),d=c.data();d.offset=d.offset||{},null!=d.offsetBottom&&(d.offset.bottom=d.offsetBottom),null!=d.offsetTop&&(d.offset.top=d.offsetTop),b.call(c,d)})})}(jQuery);
/*
Copyright (c) 2010 Heather Arthur

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
"Software"), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

*/!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a){brain=a("./lib/brain")},{"./lib/brain":2}],2:[function(a,b,c){c.NeuralNetwork=a("./neuralnetwork").NeuralNetwork,c.crossValidate=a("./cross-validate")},{"./cross-validate":3,"./neuralnetwork":5}],3:[function(a,b){function c(a,b,c,e,f){var g=new a(b),h=Date.now(),i=g.train(e,c),j=Date.now(),k=g.test(f),l=Date.now(),m=d(k).extend({trainTime:j-h,testTime:l-j,iterations:i.iterations,trainError:i.error,learningRate:g.learningRate,hidden:g.hiddenSizes,network:g.toJSON()});return m}var d=a("underscore")._;b.exports=function(a,b,e,f,g){g=g||4;var h=b.length/g;b=d(b).sortBy(function(){return Math.random()});var i={error:0,trainTime:0,testTime:0,iterations:0,trainError:0},j={truePos:0,trueNeg:0,falsePos:0,falseNeg:0,total:0},k=[],l=d.range(g).map(function(g){var l=d(b).clone(),m=l.splice(g*h,h),n=l,o=c(a,e,f,n,m);return d(i).each(function(a,b){i[b]=a+o[b]}),d(j).each(function(a,b){j[b]=a+o[b]}),k.push(o.misclasses),o});return d(i).each(function(a,b){i[b]=a/g}),j.precision=j.truePos/(j.truePos+j.falsePos),j.recall=j.truePos/(j.truePos+j.falseNeg),j.accuracy=(j.trueNeg+j.truePos)/j.total,j.testSize=h,j.trainSize=b.length-h,{avgs:i,stats:j,sets:l,misclasses:d(k).flatten()}}},{underscore:20}],4:[function(a,b){function c(a){var b=h(a).reduce(function(a,b){return h(a).extend(b)},{});return d(b)}function d(a){var b={},c=0;for(var d in a)b[d]=c++;return b}function e(a,b){var c=[];for(var d in a)c[a[d]]=b[d]||0;return c}function f(a,b){var c={};for(var d in a)c[d]=b[a[d]];return c}function g(a){for(var b={},c=0,d=a.length;d-->0;)b[a[d]]=c++;return b}var h=a("underscore");b.exports={buildLookup:c,lookupFromHash:d,toArray:e,toHash:f,lookupFromArray:g}},{underscore:20}],5:[function(a,b,c){function d(){return.4*Math.random()-.2}function e(a){for(var b=new Array(a),c=0;a>c;c++)b[c]=0;return b}function f(a){for(var b=new Array(a),c=0;a>c;c++)b[c]=d();return b}function g(a){for(var b=0,c=0;c<a.length;c++)b+=Math.pow(a[c],2);return b/a.length}function h(a){if(k.call(this,{objectMode:!0}),a=a||{},!a.neuralNetwork)throw new Error("no neural network specified");return this.neuralNetwork=a.neuralNetwork,this.dataFormatDetermined=!1,this.inputKeys=[],this.outputKeys=[],this.i=0,this.iterations=a.iterations||2e4,this.errorThresh=a.errorThresh||.005,this.log=a.log||!1,this.logPeriod=a.logPeriod||10,this.callback=a.callback,this.callbackPeriod=a.callbackPeriod||10,this.floodCallback=a.floodCallback,this.doneTrainingCallback=a.doneTrainingCallback,this.size=0,this.count=0,this.sum=0,this.on("finish",this.finishStreamIteration),this}var i=a("underscore"),j=a("./lookup"),k=a("stream").Writable,l=a("inherits"),m=function(a){a=a||{},this.learningRate=a.learningRate||.3,this.momentum=a.momentum||.1,this.hiddenSizes=a.hiddenLayers,this.binaryThresh=a.binaryThresh||.5};m.prototype={initialize:function(a){this.sizes=a,this.outputLayer=this.sizes.length-1,this.biases=[],this.weights=[],this.outputs=[],this.deltas=[],this.changes=[],this.errors=[];for(var b=0;b<=this.outputLayer;b++){var c=this.sizes[b];if(this.deltas[b]=e(c),this.errors[b]=e(c),this.outputs[b]=e(c),b>0){this.biases[b]=f(c),this.weights[b]=new Array(c),this.changes[b]=new Array(c);for(var d=0;c>d;d++){var g=this.sizes[b-1];this.weights[b][d]=f(g),this.changes[b][d]=e(g)}}}},run:function(a){this.inputLookup&&(a=j.toArray(this.inputLookup,a));var b=this.runInput(a);return this.outputLookup&&(b=j.toHash(this.outputLookup,b)),b},runInput:function(a){this.outputs[0]=a;for(var b=1;b<=this.outputLayer;b++){for(var c=0;c<this.sizes[b];c++){for(var d=this.weights[b][c],e=this.biases[b][c],f=0;f<d.length;f++)e+=d[f]*a[f];this.outputs[b][c]=1/(1+Math.exp(-e))}var g=a=this.outputs[b]}return g},train:function(a,b){a=this.formatData(a),b=b||{};var c=b.iterations||2e4,d=b.errorThresh||.005,e=b.log||!1,f=b.logPeriod||10,g=b.callback,h=b.callbackPeriod||10,j=a[0].input.length,k=a[0].output.length,l=this.hiddenSizes;l||(l=[Math.max(3,Math.floor(j/2))]);var m=i([j,l,k]).flatten();this.initialize(m);for(var n=1,o=0;c>o&&n>d;o++){for(var p=0,q=0;q<a.length;q++){var r=this.trainPattern(a[q].input,a[q].output);p+=r}n=p/a.length,e&&o%f==0&&console.log("iterations:",o,"training error:",n),g&&o%h==0&&g({error:n,iterations:o})}return{error:n,iterations:o}},trainPattern:function(a,b){this.runInput(a),this.calculateDeltas(b),this.adjustWeights();var c=g(this.errors[this.outputLayer]);return c},calculateDeltas:function(a){for(var b=this.outputLayer;b>=0;b--)for(var c=0;c<this.sizes[b];c++){var d=this.outputs[b][c],e=0;if(b==this.outputLayer)e=a[c]-d;else for(var f=this.deltas[b+1],g=0;g<f.length;g++)e+=f[g]*this.weights[b+1][g][c];this.errors[b][c]=e,this.deltas[b][c]=e*d*(1-d)}},adjustWeights:function(){for(var a=1;a<=this.outputLayer;a++)for(var b=this.outputs[a-1],c=0;c<this.sizes[a];c++){for(var d=this.deltas[a][c],e=0;e<b.length;e++){var f=this.changes[a][c][e];f=this.learningRate*d*b[e]+this.momentum*f,this.changes[a][c][e]=f,this.weights[a][c][e]+=f}this.biases[a][c]+=this.learningRate*d}},formatData:function(a){if(!i.isArray(a)){var b=[];b.push(a),a=b}var c=a[0].input;return i(c).isArray()||c instanceof Float64Array||(this.inputLookup||(this.inputLookup=j.buildLookup(i(a).pluck("input"))),a=a.map(function(a){var b=j.toArray(this.inputLookup,a.input);return i(i(a).clone()).extend({input:b})},this)),i(a[0].output).isArray()||(this.outputLookup||(this.outputLookup=j.buildLookup(i(a).pluck("output"))),a=a.map(function(a){var b=j.toArray(this.outputLookup,a.output);return i(i(a).clone()).extend({output:b})},this)),a},test:function(a){a=this.formatData(a);for(var b=1==a[0].output.length,c=0,d=0,e=0,f=0,h=[],j=0,k=0;k<a.length;k++){var l,m,n=this.runInput(a[k].input),o=a[k].output;if(b?(l=n[0]>this.binaryThresh?1:0,m=o[0]):(l=n.indexOf(i(n).max()),m=o.indexOf(i(o).max())),l!=m){var p=a[k];i(p).extend({actual:l,expected:m}),h.push(p)}b&&(0==l&&0==m?f++:1==l&&1==m?e++:0==l&&1==m?d++:1==l&&0==m&&c++);var q=n.map(function(a,b){return o[b]-a});j+=g(q)}var r=j/a.length,s={error:r,misclasses:h};return b&&i(s).extend({trueNeg:f,truePos:e,falseNeg:d,falsePos:c,total:a.length,precision:e/(e+c),recall:e/(e+d),accuracy:(f+e)/a.length}),s},toJSON:function(){for(var a=[],b=0;b<=this.outputLayer;b++){a[b]={};var c;c=0==b&&this.inputLookup?i(this.inputLookup).keys():b==this.outputLayer&&this.outputLookup?i(this.outputLookup).keys():i.range(0,this.sizes[b]);for(var d=0;d<c.length;d++){var e=c[d];if(a[b][e]={},b>0){a[b][e].bias=this.biases[b][d],a[b][e].weights={};for(var f in a[b-1]){var g=f;1==b&&this.inputLookup&&(g=this.inputLookup[f]),a[b][e].weights[f]=this.weights[b][d][g]}}}}return{layers:a,outputLookup:!!this.outputLookup,inputLookup:!!this.inputLookup}},fromJSON:function(a){var b=a.layers.length;this.outputLayer=b-1,this.sizes=new Array(b),this.weights=new Array(b),this.biases=new Array(b),this.outputs=new Array(b);for(var c=0;c<=this.outputLayer;c++){var d=a.layers[c];0!=c||d[0]&&!a.inputLookup?c!=this.outputLayer||d[0]&&!a.outputLookup||(this.outputLookup=j.lookupFromHash(d)):this.inputLookup=j.lookupFromHash(d);var e=i(d).keys();this.sizes[c]=e.length,this.weights[c]=[],this.biases[c]=[],this.outputs[c]=[];for(var f in e){var g=e[f];this.biases[c][f]=d[g].bias,this.weights[c][f]=i(d[g].weights).toArray()}}return this},toFunction:function(){var a=this.toJSON();return new Function("input","  var net = "+JSON.stringify(a)+";\n\n  for (var i = 1; i < net.layers.length; i++) {\n    var layer = net.layers[i];\n    var output = {};\n    \n    for (var id in layer) {\n      var node = layer[id];\n      var sum = node.bias;\n      \n      for (var iid in node.weights) {\n        sum += node.weights[iid] * input[iid];\n      }\n      output[id] = (1 / (1 + Math.exp(-sum)));\n    }\n    input = output;\n  }\n  return output;")},createTrainStream:function(a){return a=a||{},a.neuralNetwork=this,this.trainStream=new h(a),this.trainStream}},c.NeuralNetwork=m,l(h,k),h.prototype._write=function(a,b,c){if(!a)return this.emit("finish"),c();if(!this.dataFormatDetermined)return this.size++,this.inputKeys=i.union(this.inputKeys,i.keys(a.input)),this.outputKeys=i.union(this.outputKeys,i.keys(a.output)),this.firstDatum=this.firstDatum||a,c();this.count++;var d=this.neuralNetwork.formatData(a);this.trainDatum(d[0]),c()},h.prototype.trainDatum=function(a){var b=this.neuralNetwork.trainPattern(a.input,a.output);this.sum+=b},h.prototype.finishStreamIteration=function(){if(this.dataFormatDetermined&&this.size!==this.count&&console.log("This iteration's data length was different from the first."),!this.dataFormatDetermined){this.neuralNetwork.inputLookup=j.lookupFromArray(this.inputKeys),this.neuralNetwork.outputLookup=j.lookupFromArray(this.outputKeys);var a=this.neuralNetwork.formatData(this.firstDatum),b=a[0].input.length,c=a[0].output.length,d=this.hiddenSizes;d||(d=[Math.max(3,Math.floor(b/2))]);var e=i([b,d,c]).flatten();return this.dataFormatDetermined=!0,this.neuralNetwork.initialize(e),void("function"==typeof this.floodCallback&&this.floodCallback())}var f=this.sum/this.size;if(this.log&&this.i%this.logPeriod==0&&console.log("iterations:",this.i,"training error:",f),this.callback&&this.i%this.callbackPeriod==0&&this.callback({error:f,iterations:this.i}),this.sum=0,this.count=0,this.i++,this.i<this.iterations&&f>this.errorThresh){if("function"==typeof this.floodCallback)return this.floodCallback()}else if("function"==typeof this.doneTrainingCallback)return this.doneTrainingCallback({error:f,iterations:this.i})}},{"./lookup":4,inherits:19,stream:12,underscore:20}],6:[function(a,b,c){function d(a,b,c){if(!(this instanceof d))return new d(a,b,c);var e=typeof a;if("base64"===b&&"string"===e)for(a=C(a);a.length%4!==0;)a+="=";var f;if("number"===e)f=F(a);else if("string"===e)f=d.byteLength(a,b);else{if("object"!==e)throw new Error("First argument needs to be a number, array or string.");f=F(a.length)}var g;d._useTypedArrays?g=D(new Uint8Array(f)):(g=this,g.length=f,g._isBuffer=!0);var h;if(d._useTypedArrays&&"function"==typeof Uint8Array&&a instanceof Uint8Array)g._set(a);else if(H(a))for(h=0;f>h;h++)g[h]=d.isBuffer(a)?a.readUInt8(h):a[h];else if("string"===e)g.write(a,0,b);else if("number"===e&&!d._useTypedArrays&&!c)for(h=0;f>h;h++)g[h]=0;return g}function e(a,b,c,e){c=Number(c)||0;var f=a.length-c;e?(e=Number(e),e>f&&(e=f)):e=f;var g=b.length;S(g%2===0,"Invalid hex string"),e>g/2&&(e=g/2);for(var h=0;e>h;h++){var i=parseInt(b.substr(2*h,2),16);S(!isNaN(i),"Invalid hex string"),a[c+h]=i}return d._charsWritten=2*h,h}function f(a,b,c,e){var f=d._charsWritten=N(J(b),a,c,e);return f}function g(a,b,c,e){var f=d._charsWritten=N(K(b),a,c,e);return f}function h(a,b,c,d){return g(a,b,c,d)}function i(a,b,c,e){var f=d._charsWritten=N(M(b),a,c,e);return f}function j(a,b,c,e){var f=d._charsWritten=N(L(b),a,c,e);return f}function k(a,b,c){return T.fromByteArray(0===b&&c===a.length?a:a.slice(b,c))}function l(a,b,c){var d="",e="";c=Math.min(a.length,c);for(var f=b;c>f;f++)a[f]<=127?(d+=O(e)+String.fromCharCode(a[f]),e=""):e+="%"+a[f].toString(16);return d+O(e)}function m(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;c>e;e++)d+=String.fromCharCode(a[e]);return d}function n(a,b,c){return m(a,b,c)}function o(a,b,c){var d=a.length;(!b||0>b)&&(b=0),(!c||0>c||c>d)&&(c=d);for(var e="",f=b;c>f;f++)e+=I(a[f]);return e}function p(a,b,c){for(var d=a.slice(b,c),e="",f=0;f<d.length;f+=2)e+=String.fromCharCode(d[f]+256*d[f+1]);return e}function q(a,b,c,d){d||(S("boolean"==typeof c,"missing or invalid endian"),S(void 0!==b&&null!==b,"missing offset"),S(b+1<a.length,"Trying to read beyond buffer length"));var e=a.length;if(!(b>=e)){var f;return c?(f=a[b],e>b+1&&(f|=a[b+1]<<8)):(f=a[b]<<8,e>b+1&&(f|=a[b+1])),f}}function r(a,b,c,d){d||(S("boolean"==typeof c,"missing or invalid endian"),S(void 0!==b&&null!==b,"missing offset"),S(b+3<a.length,"Trying to read beyond buffer length"));var e=a.length;if(!(b>=e)){var f;return c?(e>b+2&&(f=a[b+2]<<16),e>b+1&&(f|=a[b+1]<<8),f|=a[b],e>b+3&&(f+=a[b+3]<<24>>>0)):(e>b+1&&(f=a[b+1]<<16),e>b+2&&(f|=a[b+2]<<8),e>b+3&&(f|=a[b+3]),f+=a[b]<<24>>>0),f}}function s(a,b,c,d){d||(S("boolean"==typeof c,"missing or invalid endian"),S(void 0!==b&&null!==b,"missing offset"),S(b+1<a.length,"Trying to read beyond buffer length"));var e=a.length;if(!(b>=e)){var f=q(a,b,c,!0),g=32768&f;return g?-1*(65535-f+1):f}}function t(a,b,c,d){d||(S("boolean"==typeof c,"missing or invalid endian"),S(void 0!==b&&null!==b,"missing offset"),S(b+3<a.length,"Trying to read beyond buffer length"));var e=a.length;if(!(b>=e)){var f=r(a,b,c,!0),g=2147483648&f;return g?-1*(4294967295-f+1):f}}function u(a,b,c,d){return d||(S("boolean"==typeof c,"missing or invalid endian"),S(b+3<a.length,"Trying to read beyond buffer length")),U.read(a,b,c,23,4)}function v(a,b,c,d){return d||(S("boolean"==typeof c,"missing or invalid endian"),S(b+7<a.length,"Trying to read beyond buffer length")),U.read(a,b,c,52,8)}function w(a,b,c,d,e){e||(S(void 0!==b&&null!==b,"missing value"),S("boolean"==typeof d,"missing or invalid endian"),S(void 0!==c&&null!==c,"missing offset"),S(c+1<a.length,"trying to write beyond buffer length"),P(b,65535));var f=a.length;if(!(c>=f))for(var g=0,h=Math.min(f-c,2);h>g;g++)a[c+g]=(b&255<<8*(d?g:1-g))>>>8*(d?g:1-g)}function x(a,b,c,d,e){e||(S(void 0!==b&&null!==b,"missing value"),S("boolean"==typeof d,"missing or invalid endian"),S(void 0!==c&&null!==c,"missing offset"),S(c+3<a.length,"trying to write beyond buffer length"),P(b,4294967295));var f=a.length;if(!(c>=f))for(var g=0,h=Math.min(f-c,4);h>g;g++)a[c+g]=b>>>8*(d?g:3-g)&255}function y(a,b,c,d,e){e||(S(void 0!==b&&null!==b,"missing value"),S("boolean"==typeof d,"missing or invalid endian"),S(void 0!==c&&null!==c,"missing offset"),S(c+1<a.length,"Trying to write beyond buffer length"),Q(b,32767,-32768));var f=a.length;c>=f||(b>=0?w(a,b,c,d,e):w(a,65535+b+1,c,d,e))}function z(a,b,c,d,e){e||(S(void 0!==b&&null!==b,"missing value"),S("boolean"==typeof d,"missing or invalid endian"),S(void 0!==c&&null!==c,"missing offset"),S(c+3<a.length,"Trying to write beyond buffer length"),Q(b,2147483647,-2147483648));var f=a.length;c>=f||(b>=0?x(a,b,c,d,e):x(a,4294967295+b+1,c,d,e))}function A(a,b,c,d,e){e||(S(void 0!==b&&null!==b,"missing value"),S("boolean"==typeof d,"missing or invalid endian"),S(void 0!==c&&null!==c,"missing offset"),S(c+3<a.length,"Trying to write beyond buffer length"),R(b,3.4028234663852886e38,-3.4028234663852886e38));var f=a.length;c>=f||U.write(a,b,c,d,23,4)}function B(a,b,c,d,e){e||(S(void 0!==b&&null!==b,"missing value"),S("boolean"==typeof d,"missing or invalid endian"),S(void 0!==c&&null!==c,"missing offset"),S(c+7<a.length,"Trying to write beyond buffer length"),R(b,1.7976931348623157e308,-1.7976931348623157e308));var f=a.length;c>=f||U.write(a,b,c,d,52,8)}function C(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function D(a){return a._isBuffer=!0,a._get=a.get,a._set=a.set,a.get=V.get,a.set=V.set,a.write=V.write,a.toString=V.toString,a.toLocaleString=V.toString,a.toJSON=V.toJSON,a.copy=V.copy,a.slice=V.slice,a.readUInt8=V.readUInt8,a.readUInt16LE=V.readUInt16LE,a.readUInt16BE=V.readUInt16BE,a.readUInt32LE=V.readUInt32LE,a.readUInt32BE=V.readUInt32BE,a.readInt8=V.readInt8,a.readInt16LE=V.readInt16LE,a.readInt16BE=V.readInt16BE,a.readInt32LE=V.readInt32LE,a.readInt32BE=V.readInt32BE,a.readFloatLE=V.readFloatLE,a.readFloatBE=V.readFloatBE,a.readDoubleLE=V.readDoubleLE,a.readDoubleBE=V.readDoubleBE,a.writeUInt8=V.writeUInt8,a.writeUInt16LE=V.writeUInt16LE,a.writeUInt16BE=V.writeUInt16BE,a.writeUInt32LE=V.writeUInt32LE,a.writeUInt32BE=V.writeUInt32BE,a.writeInt8=V.writeInt8,a.writeInt16LE=V.writeInt16LE,a.writeInt16BE=V.writeInt16BE,a.writeInt32LE=V.writeInt32LE,a.writeInt32BE=V.writeInt32BE,a.writeFloatLE=V.writeFloatLE,a.writeFloatBE=V.writeFloatBE,a.writeDoubleLE=V.writeDoubleLE,a.writeDoubleBE=V.writeDoubleBE,a.fill=V.fill,a.inspect=V.inspect,a.toArrayBuffer=V.toArrayBuffer,a}function E(a,b,c){return"number"!=typeof a?c:(a=~~a,a>=b?b:a>=0?a:(a+=b,a>=0?a:0))}function F(a){return a=~~Math.ceil(+a),0>a?0:a}function G(a){return(Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)})(a)}function H(a){return G(a)||d.isBuffer(a)||a&&"object"==typeof a&&"number"==typeof a.length}function I(a){return 16>a?"0"+a.toString(16):a.toString(16)}function J(a){for(var b=[],c=0;c<a.length;c++){var d=a.charCodeAt(c);if(127>=d)b.push(a.charCodeAt(c));else{var e=c;d>=55296&&57343>=d&&c++;for(var f=encodeURIComponent(a.slice(e,c+1)).substr(1).split("%"),g=0;g<f.length;g++)b.push(parseInt(f[g],16))}}return b}function K(a){for(var b=[],c=0;c<a.length;c++)b.push(255&a.charCodeAt(c));return b}function L(a){for(var b,c,d,e=[],f=0;f<a.length;f++)b=a.charCodeAt(f),c=b>>8,d=b%256,e.push(d),e.push(c);return e}function M(a){return T.toByteArray(a)}function N(a,b,c,d){for(var e=0;d>e&&!(e+c>=b.length||e>=a.length);e++)b[e+c]=a[e];return e}function O(a){try{return decodeURIComponent(a)}catch(b){return String.fromCharCode(65533)}}function P(a,b){S("number"==typeof a,"cannot write a non-number as a number"),S(a>=0,"specified a negative value for writing an unsigned value"),S(b>=a,"value is larger than maximum value for type"),S(Math.floor(a)===a,"value has a fractional component")}function Q(a,b,c){S("number"==typeof a,"cannot write a non-number as a number"),S(b>=a,"value larger than maximum allowed value"),S(a>=c,"value smaller than minimum allowed value"),S(Math.floor(a)===a,"value has a fractional component")}function R(a,b,c){S("number"==typeof a,"cannot write a non-number as a number"),S(b>=a,"value larger than maximum allowed value"),S(a>=c,"value smaller than minimum allowed value")}function S(a,b){if(!a)throw new Error(b||"Failed assertion")}var T=a("base64-js"),U=a("ieee754");c.Buffer=d,c.SlowBuffer=d,c.INSPECT_MAX_BYTES=50,d.poolSize=8192,d._useTypedArrays=function(){if("function"!=typeof Uint8Array||"function"!=typeof ArrayBuffer)return!1;try{var a=new Uint8Array(0);return a.foo=function(){return 42},42===a.foo()&&"function"==typeof a.subarray}catch(b){return!1}}(),d.isEncoding=function(a){switch(String(a).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.isBuffer=function(a){return!(null===a||void 0===a||!a._isBuffer)},d.byteLength=function(a,b){var c;switch(a+="",b||"utf8"){case"hex":c=a.length/2;break;case"utf8":case"utf-8":c=J(a).length;break;case"ascii":case"binary":case"raw":c=a.length;break;case"base64":c=M(a).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":c=2*a.length;break;default:throw new Error("Unknown encoding")}return c},d.concat=function(a,b){if(S(G(a),"Usage: Buffer.concat(list, [totalLength])\nlist should be an Array."),0===a.length)return new d(0);if(1===a.length)return a[0];var c;if("number"!=typeof b)for(b=0,c=0;c<a.length;c++)b+=a[c].length;var e=new d(b),f=0;for(c=0;c<a.length;c++){var g=a[c];g.copy(e,f),f+=g.length}return e},d.prototype.write=function(a,b,c,d){if(isFinite(b))isFinite(c)||(d=c,c=void 0);else{var k=d;d=b,b=c,c=k}b=Number(b)||0;var l=this.length-b;c?(c=Number(c),c>l&&(c=l)):c=l,d=String(d||"utf8").toLowerCase();var m;switch(d){case"hex":m=e(this,a,b,c);break;case"utf8":case"utf-8":m=f(this,a,b,c);break;case"ascii":m=g(this,a,b,c);break;case"binary":m=h(this,a,b,c);break;case"base64":m=i(this,a,b,c);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":m=j(this,a,b,c);break;default:throw new Error("Unknown encoding")}return m},d.prototype.toString=function(a,b,c){var d=this;if(a=String(a||"utf8").toLowerCase(),b=Number(b)||0,c=void 0!==c?Number(c):c=d.length,c===b)return"";var e;switch(a){case"hex":e=o(d,b,c);break;case"utf8":case"utf-8":e=l(d,b,c);break;case"ascii":e=m(d,b,c);break;case"binary":e=n(d,b,c);break;case"base64":e=k(d,b,c);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":e=p(d,b,c);break;default:throw new Error("Unknown encoding")}return e},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},d.prototype.copy=function(a,b,c,d){var e=this;if(c||(c=0),d||0===d||(d=this.length),b||(b=0),d!==c&&0!==a.length&&0!==e.length){S(d>=c,"sourceEnd < sourceStart"),S(b>=0&&b<a.length,"targetStart out of bounds"),S(c>=0&&c<e.length,"sourceStart out of bounds"),S(d>=0&&d<=e.length,"sourceEnd out of bounds"),d>this.length&&(d=this.length),a.length-b<d-c&&(d=a.length-b+c);for(var f=0;d-c>f;f++)a[f+b]=this[f+c]}},d.prototype.slice=function(a,b){var c=this.length;if(a=E(a,c,0),b=E(b,c,c),d._useTypedArrays)return D(this.subarray(a,b));for(var e=b-a,f=new d(e,void 0,!0),g=0;e>g;g++)f[g]=this[g+a];return f},d.prototype.get=function(a){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(a)},d.prototype.set=function(a,b){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(a,b)},d.prototype.readUInt8=function(a,b){return b||(S(void 0!==a&&null!==a,"missing offset"),S(a<this.length,"Trying to read beyond buffer length")),a>=this.length?void 0:this[a]},d.prototype.readUInt16LE=function(a,b){return q(this,a,!0,b)},d.prototype.readUInt16BE=function(a,b){return q(this,a,!1,b)},d.prototype.readUInt32LE=function(a,b){return r(this,a,!0,b)},d.prototype.readUInt32BE=function(a,b){return r(this,a,!1,b)},d.prototype.readInt8=function(a,b){if(b||(S(void 0!==a&&null!==a,"missing offset"),S(a<this.length,"Trying to read beyond buffer length")),!(a>=this.length)){var c=128&this[a];return c?-1*(255-this[a]+1):this[a]}},d.prototype.readInt16LE=function(a,b){return s(this,a,!0,b)},d.prototype.readInt16BE=function(a,b){return s(this,a,!1,b)},d.prototype.readInt32LE=function(a,b){return t(this,a,!0,b)},d.prototype.readInt32BE=function(a,b){return t(this,a,!1,b)},d.prototype.readFloatLE=function(a,b){return u(this,a,!0,b)},d.prototype.readFloatBE=function(a,b){return u(this,a,!1,b)},d.prototype.readDoubleLE=function(a,b){return v(this,a,!0,b)},d.prototype.readDoubleBE=function(a,b){return v(this,a,!1,b)},d.prototype.writeUInt8=function(a,b,c){c||(S(void 0!==a&&null!==a,"missing value"),S(void 0!==b&&null!==b,"missing offset"),S(b<this.length,"trying to write beyond buffer length"),P(a,255)),b>=this.length||(this[b]=a)},d.prototype.writeUInt16LE=function(a,b,c){w(this,a,b,!0,c)},d.prototype.writeUInt16BE=function(a,b,c){w(this,a,b,!1,c)},d.prototype.writeUInt32LE=function(a,b,c){x(this,a,b,!0,c)},d.prototype.writeUInt32BE=function(a,b,c){x(this,a,b,!1,c)},d.prototype.writeInt8=function(a,b,c){c||(S(void 0!==a&&null!==a,"missing value"),S(void 0!==b&&null!==b,"missing offset"),S(b<this.length,"Trying to write beyond buffer length"),Q(a,127,-128)),b>=this.length||(a>=0?this.writeUInt8(a,b,c):this.writeUInt8(255+a+1,b,c))},d.prototype.writeInt16LE=function(a,b,c){y(this,a,b,!0,c)},d.prototype.writeInt16BE=function(a,b,c){y(this,a,b,!1,c)},d.prototype.writeInt32LE=function(a,b,c){z(this,a,b,!0,c)},d.prototype.writeInt32BE=function(a,b,c){z(this,a,b,!1,c)},d.prototype.writeFloatLE=function(a,b,c){A(this,a,b,!0,c)},d.prototype.writeFloatBE=function(a,b,c){A(this,a,b,!1,c)},d.prototype.writeDoubleLE=function(a,b,c){B(this,a,b,!0,c)},d.prototype.writeDoubleBE=function(a,b,c){B(this,a,b,!1,c)},d.prototype.fill=function(a,b,c){if(a||(a=0),b||(b=0),c||(c=this.length),"string"==typeof a&&(a=a.charCodeAt(0)),S("number"==typeof a&&!isNaN(a),"value is not a number"),S(c>=b,"end < start"),c!==b&&0!==this.length){S(b>=0&&b<this.length,"start out of bounds"),S(c>=0&&c<=this.length,"end out of bounds");for(var d=b;c>d;d++)this[d]=a}},d.prototype.inspect=function(){for(var a=[],b=this.length,d=0;b>d;d++)if(a[d]=I(this[d]),d===c.INSPECT_MAX_BYTES){a[d+1]="...";break}return"<Buffer "+a.join(" ")+">"},d.prototype.toArrayBuffer=function(){if("function"==typeof Uint8Array){if(d._useTypedArrays)return new d(this).buffer;for(var a=new Uint8Array(this.length),b=0,c=a.length;c>b;b+=1)a[b]=this[b];return a.buffer}throw new Error("Buffer.toArrayBuffer not supported in this browser")};var V=d.prototype},{"base64-js":7,ieee754:8}],7:[function(a,b){var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(){"use strict";function a(a){var b=a.charCodeAt(0);return b===g?62:b===h?63:i>b?-1:i+10>b?b-i+26+26:k+26>b?b-k:j+26>b?b-j+26:void 0}function d(b){function c(a){j[l++]=a}var d,e,g,h,i,j;if(b.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var k=b.length;i="="===b.charAt(k-2)?2:"="===b.charAt(k-1)?1:0,j=new f(3*b.length/4-i),g=i>0?b.length-4:b.length;var l=0;for(d=0,e=0;g>d;d+=4,e+=3)h=a(b.charAt(d))<<18|a(b.charAt(d+1))<<12|a(b.charAt(d+2))<<6|a(b.charAt(d+3)),c((16711680&h)>>16),c((65280&h)>>8),c(255&h);return 2===i?(h=a(b.charAt(d))<<2|a(b.charAt(d+1))>>4,c(255&h)):1===i&&(h=a(b.charAt(d))<<10|a(b.charAt(d+1))<<4|a(b.charAt(d+2))>>2,c(h>>8&255),c(255&h)),j}function e(a){function b(a){return c.charAt(a)}function d(a){return b(a>>18&63)+b(a>>12&63)+b(a>>6&63)+b(63&a)}var e,f,g,h=a.length%3,i="";for(e=0,g=a.length-h;g>e;e+=3)f=(a[e]<<16)+(a[e+1]<<8)+a[e+2],i+=d(f);switch(h){case 1:f=a[a.length-1],i+=b(f>>2),i+=b(f<<4&63),i+="==";break;case 2:f=(a[a.length-2]<<8)+a[a.length-1],i+=b(f>>10),i+=b(f>>4&63),i+=b(f<<2&63),i+="="}return i}var f="undefined"!=typeof Uint8Array?Uint8Array:Array,g=("0".charCodeAt(0),"+".charCodeAt(0)),h="/".charCodeAt(0),i="0".charCodeAt(0),j="a".charCodeAt(0),k="A".charCodeAt(0);b.exports.toByteArray=d,b.exports.fromByteArray=e}()},{}],8:[function(a,b,c){c.read=function(a,b,c,d,e){var f,g,h=8*e-d-1,i=(1<<h)-1,j=i>>1,k=-7,l=c?e-1:0,m=c?-1:1,n=a[b+l];for(l+=m,f=n&(1<<-k)-1,n>>=-k,k+=h;k>0;f=256*f+a[b+l],l+=m,k-=8);for(g=f&(1<<-k)-1,f>>=-k,k+=d;k>0;g=256*g+a[b+l],l+=m,k-=8);if(0===f)f=1-j;else{if(f===i)return g?0/0:1/0*(n?-1:1);g+=Math.pow(2,d),f-=j}return(n?-1:1)*g*Math.pow(2,f-d)},c.write=function(a,b,c,d,e,f){var g,h,i,j=8*f-e-1,k=(1<<j)-1,l=k>>1,m=23===e?Math.pow(2,-24)-Math.pow(2,-77):0,n=d?0:f-1,o=d?1:-1,p=0>b||0===b&&0>1/b?1:0;for(b=Math.abs(b),isNaN(b)||1/0===b?(h=isNaN(b)?1:0,g=k):(g=Math.floor(Math.log(b)/Math.LN2),b*(i=Math.pow(2,-g))<1&&(g--,i*=2),b+=g+l>=1?m/i:m*Math.pow(2,1-l),b*i>=2&&(g++,i/=2),g+l>=k?(h=0,g=k):g+l>=1?(h=(b*i-1)*Math.pow(2,e),g+=l):(h=b*Math.pow(2,l-1)*Math.pow(2,e),g=0));e>=8;a[c+n]=255&h,n+=o,h/=256,e-=8);for(g=g<<e|h,j+=e;j>0;a[c+n]=255&g,n+=o,g/=256,j-=8);a[c+n-o]|=128*p}},{}],9:[function(a,b){function c(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function d(a){return"function"==typeof a}function e(a){return"number"==typeof a}function f(a){return"object"==typeof a&&null!==a}function g(a){return void 0===a}b.exports=c,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._maxListeners=void 0,c.defaultMaxListeners=10,c.prototype.setMaxListeners=function(a){if(!e(a)||0>a||isNaN(a))throw TypeError("n must be a positive number");return this._maxListeners=a,this},c.prototype.emit=function(a){var b,c,e,h,i,j;if(this._events||(this._events={}),"error"===a&&(!this._events.error||f(this._events.error)&&!this._events.error.length))throw b=arguments[1],b instanceof Error?b:TypeError('Uncaught, unspecified "error" event.');if(c=this._events[a],g(c))return!1;if(d(c))switch(arguments.length){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:for(e=arguments.length,h=new Array(e-1),i=1;e>i;i++)h[i-1]=arguments[i];c.apply(this,h)}else if(f(c)){for(e=arguments.length,h=new Array(e-1),i=1;e>i;i++)h[i-1]=arguments[i];for(j=c.slice(),e=j.length,i=0;e>i;i++)j[i].apply(this,h)}return!0},c.prototype.addListener=function(a,b){var e;if(!d(b))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",a,d(b.listener)?b.listener:b),this._events[a]?f(this._events[a])?this._events[a].push(b):this._events[a]=[this._events[a],b]:this._events[a]=b,f(this._events[a])&&!this._events[a].warned){var e;e=g(this._maxListeners)?c.defaultMaxListeners:this._maxListeners,e&&e>0&&this._events[a].length>e&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),console.trace())}return this},c.prototype.on=c.prototype.addListener,c.prototype.once=function(a,b){function c(){this.removeListener(a,c),e||(e=!0,b.apply(this,arguments))}if(!d(b))throw TypeError("listener must be a function");var e=!1;return c.listener=b,this.on(a,c),this},c.prototype.removeListener=function(a,b){var c,e,g,h;if(!d(b))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;if(c=this._events[a],g=c.length,e=-1,c===b||d(c.listener)&&c.listener===b)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,b);else if(f(c)){for(h=g;h-->0;)if(c[h]===b||c[h].listener&&c[h].listener===b){e=h;break}if(0>e)return this;1===c.length?(c.length=0,delete this._events[a]):c.splice(e,1),this._events.removeListener&&this.emit("removeListener",a,b)}return this},c.prototype.removeAllListeners=function(a){var b,c;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[a]&&delete this._events[a],this;if(0===arguments.length){for(b in this._events)"removeListener"!==b&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events={},this}if(c=this._events[a],d(c))this.removeListener(a,c);else for(;c.length;)this.removeListener(a,c[c.length-1]);return delete this._events[a],this},c.prototype.listeners=function(a){var b;return b=this._events&&this._events[a]?d(this._events[a])?[this._events[a]]:this._events[a].slice():[]},c.listenerCount=function(a,b){var c;return c=a._events&&a._events[b]?d(a._events[b])?1:a._events[b].length:0}},{}],10:[function(a,b){var c=b.exports={};c.nextTick=function(){var a="undefined"!=typeof window&&window.setImmediate,b="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(a)return function(a){return window.setImmediate(a)};if(b){var c=[];return window.addEventListener("message",function(a){var b=a.source;if((b===window||null===b)&&"process-tick"===a.data&&(a.stopPropagation(),c.length>0)){var d=c.shift();d()}},!0),function(a){c.push(a),window.postMessage("process-tick","*")}}return function(a){setTimeout(a,0)}}(),c.title="browser",c.browser=!0,c.env={},c.argv=[],c.binding=function(){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(){throw new Error("process.chdir is not supported")}},{}],11:[function(a,b){function c(a){return this instanceof c?(g.call(this,a),h.call(this,a),a&&a.readable===!1&&(this.readable=!1),a&&a.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,a&&a.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",d)):new c(a)}function d(){if(!this.allowHalfOpen&&!this._writableState.ended){var a=this;f(function(){a.end()})}}b.exports=c;var e=a("inherits"),f=a("process/browser.js").nextTick,g=a("./readable.js"),h=a("./writable.js");e(c,g),c.prototype.write=h.prototype.write,c.prototype.end=h.prototype.end,c.prototype._write=h.prototype._write},{"./readable.js":15,"./writable.js":17,inherits:19,"process/browser.js":13}],12:[function(a,b){function c(){d.call(this)}b.exports=c;var d=a("events").EventEmitter,e=a("inherits");e(c,d),c.Readable=a("./readable.js"),c.Writable=a("./writable.js"),c.Duplex=a("./duplex.js"),c.Transform=a("./transform.js"),c.PassThrough=a("./passthrough.js"),c.Stream=c,c.prototype.pipe=function(a,b){function c(b){a.writable&&!1===a.write(b)&&j.pause&&j.pause()
}function e(){j.readable&&j.resume&&j.resume()}function f(){k||(k=!0,a.end())}function g(){k||(k=!0,"function"==typeof a.destroy&&a.destroy())}function h(a){if(i(),0===d.listenerCount(this,"error"))throw a}function i(){j.removeListener("data",c),a.removeListener("drain",e),j.removeListener("end",f),j.removeListener("close",g),j.removeListener("error",h),a.removeListener("error",h),j.removeListener("end",i),j.removeListener("close",i),a.removeListener("close",i)}var j=this;j.on("data",c),a.on("drain",e),a._isStdio||b&&b.end===!1||(j.on("end",f),j.on("close",g));var k=!1;return j.on("error",h),a.on("error",h),j.on("end",i),j.on("close",i),a.on("close",i),a.emit("pipe",j),a}},{"./duplex.js":11,"./passthrough.js":14,"./readable.js":15,"./transform.js":16,"./writable.js":17,events:9,inherits:19}],13:[function(a,b){b.exports=a(10)},{}],14:[function(a,b){function c(a){return this instanceof c?void d.call(this,a):new c(a)}b.exports=c;var d=a("./transform.js"),e=a("inherits");e(c,d),c.prototype._transform=function(a,b,c){c(null,a)}},{"./transform.js":16,inherits:19}],15:[function(a,b){(function(c){function d(b){b=b||{};var c=b.highWaterMark;this.highWaterMark=c||0===c?c:16384,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=!1,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.calledRead=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!b.objectMode,this.defaultEncoding=b.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,b.encoding&&(x||(x=a("string_decoder").StringDecoder),this.decoder=new x(b.encoding),this.encoding=b.encoding)}function e(a){return this instanceof e?(this._readableState=new d(a,this),this.readable=!0,void z.call(this)):new e(a)}function f(a,b,c,d,e){var f=j(b,c);if(f)a.emit("error",f);else if(null===c||void 0===c)b.reading=!1,b.ended||k(a,b);else if(b.objectMode||c&&c.length>0)if(b.ended&&!e){var h=new Error("stream.push() after EOF");a.emit("error",h)}else if(b.endEmitted&&e){var h=new Error("stream.unshift() after end event");a.emit("error",h)}else!b.decoder||e||d||(c=b.decoder.write(c)),b.length+=b.objectMode?1:c.length,e?b.buffer.unshift(c):(b.reading=!1,b.buffer.push(c)),b.needReadable&&l(a),n(a,b);else e||(b.reading=!1);return g(b)}function g(a){return!a.ended&&(a.needReadable||a.length<a.highWaterMark||0===a.length)}function h(a){if(a>=D)a=D;else{a--;for(var b=1;32>b;b<<=1)a|=a>>b;a++}return a}function i(a,b){return 0===b.length&&b.ended?0:b.objectMode?0===a?0:1:isNaN(a)||null===a?b.flowing&&b.buffer.length?b.buffer[0].length:b.length:0>=a?0:(a>b.highWaterMark&&(b.highWaterMark=h(a)),a>b.length?b.ended?b.length:(b.needReadable=!0,0):a)}function j(a,b){var c=null;return A.isBuffer(b)||"string"==typeof b||null===b||void 0===b||a.objectMode||c||(c=new TypeError("Invalid non-string/buffer chunk")),c}function k(a,b){if(b.decoder&&!b.ended){var c=b.decoder.end();c&&c.length&&(b.buffer.push(c),b.length+=b.objectMode?1:c.length)}b.ended=!0,b.length>0?l(a):u(a)}function l(a){var b=a._readableState;b.needReadable=!1,b.emittedReadable||(b.emittedReadable=!0,b.sync?B(function(){m(a)}):m(a))}function m(a){a.emit("readable")}function n(a,b){b.readingMore||(b.readingMore=!0,B(function(){o(a,b)}))}function o(a,b){for(var c=b.length;!b.reading&&!b.flowing&&!b.ended&&b.length<b.highWaterMark&&(a.read(0),c!==b.length);)c=b.length;b.readingMore=!1}function p(a){return function(){var b=a._readableState;b.awaitDrain--,0===b.awaitDrain&&q(a)}}function q(a){function b(a){var b=a.write(c);!1===b&&d.awaitDrain++}var c,d=a._readableState;for(d.awaitDrain=0;d.pipesCount&&null!==(c=a.read());)if(1===d.pipesCount?b(d.pipes,0,null):v(d.pipes,b),a.emit("data",c),d.awaitDrain>0)return;return 0===d.pipesCount?(d.flowing=!1,void(y.listenerCount(a,"data")>0&&s(a))):void(d.ranOut=!0)}function r(){this._readableState.ranOut&&(this._readableState.ranOut=!1,q(this))}function s(a,b){var c=a._readableState;if(c.flowing)throw new Error("Cannot switch to old mode now.");var d=b||!1,e=!1;a.readable=!0,a.pipe=z.prototype.pipe,a.on=a.addListener=z.prototype.on,a.on("readable",function(){e=!0;for(var b;!d&&null!==(b=a.read());)a.emit("data",b);null===b&&(e=!1,a._readableState.needReadable=!0)}),a.pause=function(){d=!0,this.emit("pause")},a.resume=function(){d=!1,e?B(function(){a.emit("readable")}):this.read(0),this.emit("resume")},a.emit("readable")}function t(a,b){var c,d=b.buffer,e=b.length,f=!!b.decoder,g=!!b.objectMode;if(0===d.length)return null;if(0===e)c=null;else if(g)c=d.shift();else if(!a||a>=e)c=f?d.join(""):A.concat(d,e),d.length=0;else if(a<d[0].length){var h=d[0];c=h.slice(0,a),d[0]=h.slice(a)}else if(a===d[0].length)c=d.shift();else{c=f?"":new A(a);for(var i=0,j=0,k=d.length;k>j&&a>i;j++){var h=d[0],l=Math.min(a-i,h.length);f?c+=h.slice(0,l):h.copy(c,i,0,l),l<h.length?d[0]=h.slice(l):d.shift(),i+=l}}return c}function u(a){var b=a._readableState;if(b.length>0)throw new Error("endReadable called on non-empty stream");!b.endEmitted&&b.calledRead&&(b.ended=!0,B(function(){b.endEmitted||0!==b.length||(b.endEmitted=!0,a.readable=!1,a.emit("end"))}))}function v(a,b){for(var c=0,d=a.length;d>c;c++)b(a[c],c)}function w(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1}b.exports=e,e.ReadableState=d;var x,y=a("events").EventEmitter,z=a("./index.js"),A=a("buffer").Buffer,B=a("process/browser.js").nextTick,C=a("inherits");C(e,z),e.prototype.push=function(a,b){var c=this._readableState;return"string"!=typeof a||c.objectMode||(b=b||c.defaultEncoding,b!==c.encoding&&(a=new A(a,b),b="")),f(this,c,a,b,!1)},e.prototype.unshift=function(a){var b=this._readableState;return f(this,b,a,"",!0)},e.prototype.setEncoding=function(b){x||(x=a("string_decoder").StringDecoder),this._readableState.decoder=new x(b),this._readableState.encoding=b};var D=8388608;e.prototype.read=function(a){var b=this._readableState;b.calledRead=!0;var c=a;if(("number"!=typeof a||a>0)&&(b.emittedReadable=!1),0===a&&b.needReadable&&(b.length>=b.highWaterMark||b.ended))return l(this),null;if(a=i(a,b),0===a&&b.ended)return 0===b.length&&u(this),null;var d=b.needReadable;b.length-a<=b.highWaterMark&&(d=!0),(b.ended||b.reading)&&(d=!1),d&&(b.reading=!0,b.sync=!0,0===b.length&&(b.needReadable=!0),this._read(b.highWaterMark),b.sync=!1),d&&!b.reading&&(a=i(c,b));var e;return e=a>0?t(a,b):null,null===e&&(b.needReadable=!0,a=0),b.length-=a,0!==b.length||b.ended||(b.needReadable=!0),b.ended&&!b.endEmitted&&0===b.length&&u(this),e},e.prototype._read=function(){this.emit("error",new Error("not implemented"))},e.prototype.pipe=function(a,b){function d(a){a===k&&f()}function e(){a.end()}function f(){a.removeListener("close",h),a.removeListener("finish",i),a.removeListener("drain",o),a.removeListener("error",g),a.removeListener("unpipe",d),k.removeListener("end",e),k.removeListener("end",f),(!a._writableState||a._writableState.needDrain)&&o()}function g(b){j(),0===s&&0===y.listenerCount(a,"error")&&a.emit("error",b)}function h(){a.removeListener("finish",i),j()}function i(){a.removeListener("close",h),j()}function j(){k.unpipe(a)}var k=this,l=this._readableState;switch(l.pipesCount){case 0:l.pipes=a;break;case 1:l.pipes=[l.pipes,a];break;default:l.pipes.push(a)}l.pipesCount+=1;var m=(!b||b.end!==!1)&&a!==c.stdout&&a!==c.stderr,n=m?e:f;l.endEmitted?B(n):k.once("end",n),a.on("unpipe",d);var o=p(k);a.on("drain",o);var s=y.listenerCount(a,"error");return a.once("error",g),a.once("close",h),a.once("finish",i),a.emit("pipe",k),l.flowing||(this.on("readable",r),l.flowing=!0,B(function(){q(k)})),a},e.prototype.unpipe=function(a){var b=this._readableState;if(0===b.pipesCount)return this;if(1===b.pipesCount)return a&&a!==b.pipes?this:(a||(a=b.pipes),b.pipes=null,b.pipesCount=0,this.removeListener("readable",r),b.flowing=!1,a&&a.emit("unpipe",this),this);if(!a){var c=b.pipes,d=b.pipesCount;b.pipes=null,b.pipesCount=0,this.removeListener("readable",r),b.flowing=!1;for(var e=0;d>e;e++)c[e].emit("unpipe",this);return this}var e=w(b.pipes,a);return-1===e?this:(b.pipes.splice(e,1),b.pipesCount-=1,1===b.pipesCount&&(b.pipes=b.pipes[0]),a.emit("unpipe",this),this)},e.prototype.on=function(a,b){var c=z.prototype.on.call(this,a,b);if("data"!==a||this._readableState.flowing||s(this),"readable"===a&&this.readable){var d=this._readableState;d.readableListening||(d.readableListening=!0,d.emittedReadable=!1,d.needReadable=!0,d.reading?d.length&&l(this,d):this.read(0))}return c},e.prototype.addListener=e.prototype.on,e.prototype.resume=function(){s(this),this.read(0),this.emit("resume")},e.prototype.pause=function(){s(this,!0),this.emit("pause")},e.prototype.wrap=function(a){var b=this._readableState,c=!1,d=this;a.on("end",function(){if(b.decoder&&!b.ended){var a=b.decoder.end();a&&a.length&&d.push(a)}d.push(null)}),a.on("data",function(e){if(b.decoder&&(e=b.decoder.write(e)),e&&(b.objectMode||e.length)){var f=d.push(e);f||(c=!0,a.pause())}});for(var e in a)"function"==typeof a[e]&&"undefined"==typeof this[e]&&(this[e]=function(b){return function(){return a[b].apply(a,arguments)}}(e));var f=["error","close","destroy","pause","resume"];return v(f,function(b){a.on(b,function(a){return d.emit.apply(d,b,a)})}),d._read=function(){c&&(c=!1,a.resume())},d},e._fromList=t}).call(this,a("/Users/harth/repos/brain/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))},{"./index.js":12,"/Users/harth/repos/brain/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":10,buffer:6,events:9,inherits:19,"process/browser.js":13,string_decoder:18}],16:[function(a,b){function c(a,b){this.afterTransform=function(a,c){return d(b,a,c)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function d(a,b,c){var d=a._transformState;d.transforming=!1;var e=d.writecb;if(!e)return a.emit("error",new Error("no writecb in Transform class"));d.writechunk=null,d.writecb=null,null!==c&&void 0!==c&&a.push(c),e&&e(b);var f=a._readableState;f.reading=!1,(f.needReadable||f.length<f.highWaterMark)&&a._read(f.highWaterMark)}function e(a){if(!(this instanceof e))return new e(a);g.call(this,a);var b=(this._transformState=new c(a,this),this);this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("finish",function(){"function"==typeof this._flush?this._flush(function(a){f(b,a)}):f(b)})}function f(a,b){if(b)return a.emit("error",b);var c=a._writableState,d=(a._readableState,a._transformState);if(c.length)throw new Error("calling transform done when ws.length != 0");if(d.transforming)throw new Error("calling transform done when still transforming");return a.push(null)}b.exports=e;var g=a("./duplex.js"),h=a("inherits");h(e,g),e.prototype.push=function(a,b){return this._transformState.needTransform=!1,g.prototype.push.call(this,a,b)},e.prototype._transform=function(){throw new Error("not implemented")},e.prototype._write=function(a,b,c){var d=this._transformState;if(d.writecb=c,d.writechunk=a,d.writeencoding=b,!d.transforming){var e=this._readableState;(d.needTransform||e.needReadable||e.length<e.highWaterMark)&&this._read(e.highWaterMark)}},e.prototype._read=function(){var a=this._transformState;a.writechunk&&a.writecb&&!a.transforming?(a.transforming=!0,this._transform(a.writechunk,a.writeencoding,a.afterTransform)):a.needTransform=!0}},{"./duplex.js":11,inherits:19}],17:[function(a,b){function c(a,b,c){this.chunk=a,this.encoding=b,this.callback=c}function d(a,b){a=a||{};var c=a.highWaterMark;this.highWaterMark=c||0===c?c:16384,this.objectMode=!!a.objectMode,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var d=a.decodeStrings===!1;this.decodeStrings=!d,this.defaultEncoding=a.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){m(b,a)},this.writecb=null,this.writelen=0,this.buffer=[]}function e(a){return this instanceof e||this instanceof w.Duplex?(this._writableState=new d(a,this),this.writable=!0,void w.call(this)):new e(a)}function f(a,b,c){var d=new Error("write after end");a.emit("error",d),x(function(){c(d)})}function g(a,b,c,d){var e=!0;if(!y.isBuffer(c)&&"string"!=typeof c&&null!==c&&void 0!==c&&!b.objectMode){var f=new TypeError("Invalid non-string/buffer chunk");a.emit("error",f),x(function(){d(f)}),e=!1}return e}function h(a,b,c){return a.objectMode||a.decodeStrings===!1||"string"!=typeof b||(b=new y(b,c)),b}function i(a,b,d,e,f){d=h(b,d,e);var g=b.objectMode?1:d.length;b.length+=g;var i=b.length<b.highWaterMark;return b.needDrain=!i,b.writing?b.buffer.push(new c(d,e,f)):j(a,b,g,d,e,f),i}function j(a,b,c,d,e,f){b.writelen=c,b.writecb=f,b.writing=!0,b.sync=!0,a._write(d,e,b.onwrite),b.sync=!1}function k(a,b,c,d,e){c?x(function(){e(d)}):e(d),a.emit("error",d)}function l(a){a.writing=!1,a.writecb=null,a.length-=a.writelen,a.writelen=0}function m(a,b){var c=a._writableState,d=c.sync,e=c.writecb;if(l(c),b)k(a,c,d,b,e);else{var f=q(a,c);f||c.bufferProcessing||!c.buffer.length||p(a,c),d?x(function(){n(a,c,f,e)}):n(a,c,f,e)}}function n(a,b,c,d){c||o(a,b),d(),c&&r(a,b)}function o(a,b){0===b.length&&b.needDrain&&(b.needDrain=!1,a.emit("drain"))}function p(a,b){b.bufferProcessing=!0;for(var c=0;c<b.buffer.length;c++){var d=b.buffer[c],e=d.chunk,f=d.encoding,g=d.callback,h=b.objectMode?1:e.length;if(j(a,b,h,e,f,g),b.writing){c++;break}}b.bufferProcessing=!1,c<b.buffer.length?b.buffer=b.buffer.slice(c):b.buffer.length=0}function q(a,b){return b.ending&&0===b.length&&!b.finished&&!b.writing}function r(a,b){var c=q(a,b);return c&&(b.finished=!0,a.emit("finish")),c}function s(a,b,c){b.ending=!0,r(a,b),c&&(b.finished?x(c):a.once("finish",c)),b.ended=!0}b.exports=e,e.WritableState=d;var t="undefined"!=typeof Uint8Array?function(a){return a instanceof Uint8Array}:function(a){return a&&a.constructor&&"Uint8Array"===a.constructor.name},u="undefined"!=typeof ArrayBuffer?function(a){return a instanceof ArrayBuffer}:function(a){return a&&a.constructor&&"ArrayBuffer"===a.constructor.name},v=a("inherits"),w=a("./index.js"),x=a("process/browser.js").nextTick,y=a("buffer").Buffer;v(e,w),e.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},e.prototype.write=function(a,b,c){var d=this._writableState,e=!1;return"function"==typeof b&&(c=b,b=null),!y.isBuffer(a)&&t(a)&&(a=new y(a)),u(a)&&"undefined"!=typeof Uint8Array&&(a=new y(new Uint8Array(a))),y.isBuffer(a)?b="buffer":b||(b=d.defaultEncoding),"function"!=typeof c&&(c=function(){}),d.ended?f(this,d,c):g(this,d,a,c)&&(e=i(this,d,a,b,c)),e},e.prototype._write=function(a,b,c){c(new Error("not implemented"))},e.prototype.end=function(a,b,c){var d=this._writableState;"function"==typeof a?(c=a,a=null,b=null):"function"==typeof b&&(c=b,b=null),"undefined"!=typeof a&&null!==a&&this.write(a,b),d.ending||d.finished||s(this,d,c)}},{"./index.js":12,buffer:6,inherits:19,"process/browser.js":13}],18:[function(a,b,c){function d(a){if(a&&!h.isEncoding(a))throw new Error("Unknown encoding: "+a)}function e(a){return a.toString(this.encoding)}function f(a){var b=this.charReceived=a.length%2;return this.charLength=b?2:0,b}function g(a){var b=this.charReceived=a.length%3;return this.charLength=b?3:0,b}var h=a("buffer").Buffer,i=c.StringDecoder=function(a){switch(this.encoding=(a||"utf8").toLowerCase().replace(/[-_]/,""),d(a),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=f;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=g;break;default:return void(this.write=e)}this.charBuffer=new h(6),this.charReceived=0,this.charLength=0};i.prototype.write=function(a){for(var b="",c=0;this.charLength;){var d=a.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:a.length;if(a.copy(this.charBuffer,this.charReceived,c,d),this.charReceived+=d-c,c=d,this.charReceived<this.charLength)return"";b=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var e=b.charCodeAt(b.length-1);if(!(e>=55296&&56319>=e)){if(this.charReceived=this.charLength=0,d==a.length)return b;a=a.slice(d,a.length);break}this.charLength+=this.surrogateSize,b=""}var f=this.detectIncompleteChar(a),g=a.length;this.charLength&&(a.copy(this.charBuffer,0,a.length-f,g),this.charReceived=f,g-=f),b+=a.toString(this.encoding,0,g);var g=b.length-1,e=b.charCodeAt(g);if(e>=55296&&56319>=e){var h=this.surrogateSize;return this.charLength+=h,this.charReceived+=h,this.charBuffer.copy(this.charBuffer,h,0,h),this.charBuffer.write(b.charAt(b.length-1),this.encoding),b.substring(0,g)}return b},i.prototype.detectIncompleteChar=function(a){for(var b=a.length>=3?3:a.length;b>0;b--){var c=a[a.length-b];if(1==b&&c>>5==6){this.charLength=2;break}if(2>=b&&c>>4==14){this.charLength=3;break}if(3>=b&&c>>3==30){this.charLength=4;break}}return b},i.prototype.end=function(a){var b="";if(a&&a.length&&(b=this.write(a)),this.charReceived){var c=this.charReceived,d=this.charBuffer,e=this.encoding;b+=d.slice(0,c).toString(e)}return b}},{buffer:6}],19:[function(a,b){b.exports="function"==typeof Object.create?function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:function(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}},{}],20:[function(a,b,c){(function(){var a=this,d=a._,e={},f=Array.prototype,g=Object.prototype,h=Function.prototype,i=f.push,j=f.slice,k=f.concat,l=g.toString,m=g.hasOwnProperty,n=f.forEach,o=f.map,p=f.reduce,q=f.reduceRight,r=f.filter,s=f.every,t=f.some,u=f.indexOf,v=f.lastIndexOf,w=Array.isArray,x=Object.keys,y=h.bind,z=function(a){return a instanceof z?a:this instanceof z?void(this._wrapped=a):new z(a)};"undefined"!=typeof c?("undefined"!=typeof b&&b.exports&&(c=b.exports=z),c._=z):a._=z,z.VERSION="1.6.0";var A=z.each=z.forEach=function(a,b,c){if(null==a)return a;if(n&&a.forEach===n)a.forEach(b,c);else if(a.length===+a.length){for(var d=0,f=a.length;f>d;d++)if(b.call(c,a[d],d,a)===e)return}else for(var g=z.keys(a),d=0,f=g.length;f>d;d++)if(b.call(c,a[g[d]],g[d],a)===e)return;return a};z.map=z.collect=function(a,b,c){var d=[];return null==a?d:o&&a.map===o?a.map(b,c):(A(a,function(a,e,f){d.push(b.call(c,a,e,f))}),d)};var B="Reduce of empty array with no initial value";z.reduce=z.foldl=z.inject=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),p&&a.reduce===p)return d&&(b=z.bind(b,d)),e?a.reduce(b,c):a.reduce(b);if(A(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)}),!e)throw new TypeError(B);return c},z.reduceRight=z.foldr=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),q&&a.reduceRight===q)return d&&(b=z.bind(b,d)),e?a.reduceRight(b,c):a.reduceRight(b);var f=a.length;if(f!==+f){var g=z.keys(a);f=g.length}if(A(a,function(h,i,j){i=g?g[--f]:--f,e?c=b.call(d,c,a[i],i,j):(c=a[i],e=!0)}),!e)throw new TypeError(B);return c},z.find=z.detect=function(a,b,c){var d;return C(a,function(a,e,f){return b.call(c,a,e,f)?(d=a,!0):void 0}),d},z.filter=z.select=function(a,b,c){var d=[];return null==a?d:r&&a.filter===r?a.filter(b,c):(A(a,function(a,e,f){b.call(c,a,e,f)&&d.push(a)}),d)},z.reject=function(a,b,c){return z.filter(a,function(a,d,e){return!b.call(c,a,d,e)},c)},z.every=z.all=function(a,b,c){b||(b=z.identity);var d=!0;return null==a?d:s&&a.every===s?a.every(b,c):(A(a,function(a,f,g){return(d=d&&b.call(c,a,f,g))?void 0:e}),!!d)};var C=z.some=z.any=function(a,b,c){b||(b=z.identity);var d=!1;return null==a?d:t&&a.some===t?a.some(b,c):(A(a,function(a,f,g){return d||(d=b.call(c,a,f,g))?e:void 0}),!!d)};z.contains=z.include=function(a,b){return null==a?!1:u&&a.indexOf===u?-1!=a.indexOf(b):C(a,function(a){return a===b})},z.invoke=function(a,b){var c=j.call(arguments,2),d=z.isFunction(b);return z.map(a,function(a){return(d?b:a[b]).apply(a,c)})},z.pluck=function(a,b){return z.map(a,z.property(b))},z.where=function(a,b){return z.filter(a,z.matches(b))},z.findWhere=function(a,b){return z.find(a,z.matches(b))},z.max=function(a,b,c){if(!b&&z.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.max.apply(Math,a);var d=-1/0,e=-1/0;return A(a,function(a,f,g){var h=b?b.call(c,a,f,g):a;h>e&&(d=a,e=h)}),d},z.min=function(a,b,c){if(!b&&z.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.min.apply(Math,a);var d=1/0,e=1/0;return A(a,function(a,f,g){var h=b?b.call(c,a,f,g):a;e>h&&(d=a,e=h)}),d},z.shuffle=function(a){var b,c=0,d=[];return A(a,function(a){b=z.random(c++),d[c-1]=d[b],d[b]=a}),d},z.sample=function(a,b,c){return null==b||c?(a.length!==+a.length&&(a=z.values(a)),a[z.random(a.length-1)]):z.shuffle(a).slice(0,Math.max(0,b))};var D=function(a){return null==a?z.identity:z.isFunction(a)?a:z.property(a)};z.sortBy=function(a,b,c){return b=D(b),z.pluck(z.map(a,function(a,d,e){return{value:a,index:d,criteria:b.call(c,a,d,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index-b.index}),"value")};var E=function(a){return function(b,c,d){var e={};return c=D(c),A(b,function(f,g){var h=c.call(d,f,g,b);a(e,h,f)}),e}};z.groupBy=E(function(a,b,c){z.has(a,b)?a[b].push(c):a[b]=[c]}),z.indexBy=E(function(a,b,c){a[b]=c}),z.countBy=E(function(a,b){z.has(a,b)?a[b]++:a[b]=1}),z.sortedIndex=function(a,b,c,d){c=D(c);for(var e=c.call(d,b),f=0,g=a.length;g>f;){var h=f+g>>>1;c.call(d,a[h])<e?f=h+1:g=h}return f},z.toArray=function(a){return a?z.isArray(a)?j.call(a):a.length===+a.length?z.map(a,z.identity):z.values(a):[]},z.size=function(a){return null==a?0:a.length===+a.length?a.length:z.keys(a).length},z.first=z.head=z.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:0>b?[]:j.call(a,0,b)},z.initial=function(a,b,c){return j.call(a,0,a.length-(null==b||c?1:b))},z.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:j.call(a,Math.max(a.length-b,0))},z.rest=z.tail=z.drop=function(a,b,c){return j.call(a,null==b||c?1:b)},z.compact=function(a){return z.filter(a,z.identity)};var F=function(a,b,c){return b&&z.every(a,z.isArray)?k.apply(c,a):(A(a,function(a){z.isArray(a)||z.isArguments(a)?b?i.apply(c,a):F(a,b,c):c.push(a)}),c)};z.flatten=function(a,b){return F(a,b,[])},z.without=function(a){return z.difference(a,j.call(arguments,1))},z.partition=function(a,b){var c=[],d=[];return A(a,function(a){(b(a)?c:d).push(a)}),[c,d]},z.uniq=z.unique=function(a,b,c,d){z.isFunction(b)&&(d=c,c=b,b=!1);var e=c?z.map(a,c,d):a,f=[],g=[];return A(e,function(c,d){(b?d&&g[g.length-1]===c:z.contains(g,c))||(g.push(c),f.push(a[d]))}),f},z.union=function(){return z.uniq(z.flatten(arguments,!0))},z.intersection=function(a){var b=j.call(arguments,1);return z.filter(z.uniq(a),function(a){return z.every(b,function(b){return z.contains(b,a)})})},z.difference=function(a){var b=k.apply(f,j.call(arguments,1));return z.filter(a,function(a){return!z.contains(b,a)})},z.zip=function(){for(var a=z.max(z.pluck(arguments,"length").concat(0)),b=new Array(a),c=0;a>c;c++)b[c]=z.pluck(arguments,""+c);return b},z.object=function(a,b){if(null==a)return{};for(var c={},d=0,e=a.length;e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},z.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(c){if("number"!=typeof c)return d=z.sortedIndex(a,b),a[d]===b?d:-1;d=0>c?Math.max(0,e+c):c}if(u&&a.indexOf===u)return a.indexOf(b,c);for(;e>d;d++)if(a[d]===b)return d;return-1},z.lastIndexOf=function(a,b,c){if(null==a)return-1;var d=null!=c;if(v&&a.lastIndexOf===v)return d?a.lastIndexOf(b,c):a.lastIndexOf(b);for(var e=d?c:a.length;e--;)if(a[e]===b)return e;return-1},z.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=arguments[2]||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=new Array(d);d>e;)f[e++]=a,a+=c;return f};var G=function(){};z.bind=function(a,b){var c,d;if(y&&a.bind===y)return y.apply(a,j.call(arguments,1));if(!z.isFunction(a))throw new TypeError;return c=j.call(arguments,2),d=function(){if(!(this instanceof d))return a.apply(b,c.concat(j.call(arguments)));G.prototype=a.prototype;var e=new G;G.prototype=null;var f=a.apply(e,c.concat(j.call(arguments)));return Object(f)===f?f:e}},z.partial=function(a){var b=j.call(arguments,1);return function(){for(var c=0,d=b.slice(),e=0,f=d.length;f>e;e++)d[e]===z&&(d[e]=arguments[c++]);for(;c<arguments.length;)d.push(arguments[c++]);return a.apply(this,d)}},z.bindAll=function(a){var b=j.call(arguments,1);if(0===b.length)throw new Error("bindAll must be passed function names");return A(b,function(b){a[b]=z.bind(a[b],a)}),a},z.memoize=function(a,b){var c={};return b||(b=z.identity),function(){var d=b.apply(this,arguments);return z.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}},z.delay=function(a,b){var c=j.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},z.defer=function(a){return z.delay.apply(z,[a,1].concat(j.call(arguments,1)))},z.throttle=function(a,b,c){var d,e,f,g=null,h=0;c||(c={});var i=function(){h=c.leading===!1?0:z.now(),g=null,f=a.apply(d,e),d=e=null};return function(){var j=z.now();h||c.leading!==!1||(h=j);var k=b-(j-h);return d=this,e=arguments,0>=k?(clearTimeout(g),g=null,h=j,f=a.apply(d,e),d=e=null):g||c.trailing===!1||(g=setTimeout(i,k)),f}},z.debounce=function(a,b,c){var d,e,f,g,h,i=function(){var j=z.now()-g;b>j?d=setTimeout(i,b-j):(d=null,c||(h=a.apply(f,e),f=e=null))};return function(){f=this,e=arguments,g=z.now();var j=c&&!d;return d||(d=setTimeout(i,b)),j&&(h=a.apply(f,e),f=e=null),h}},z.once=function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}},z.wrap=function(a,b){return z.partial(b,a)},z.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},z.after=function(a,b){return function(){return--a<1?b.apply(this,arguments):void 0}},z.keys=function(a){if(!z.isObject(a))return[];if(x)return x(a);var b=[];for(var c in a)z.has(a,c)&&b.push(c);return b},z.values=function(a){for(var b=z.keys(a),c=b.length,d=new Array(c),e=0;c>e;e++)d[e]=a[b[e]];return d},z.pairs=function(a){for(var b=z.keys(a),c=b.length,d=new Array(c),e=0;c>e;e++)d[e]=[b[e],a[b[e]]];return d},z.invert=function(a){for(var b={},c=z.keys(a),d=0,e=c.length;e>d;d++)b[a[c[d]]]=c[d];return b},z.functions=z.methods=function(a){var b=[];for(var c in a)z.isFunction(a[c])&&b.push(c);return b.sort()},z.extend=function(a){return A(j.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]}),a},z.pick=function(a){var b={},c=k.apply(f,j.call(arguments,1));return A(c,function(c){c in a&&(b[c]=a[c])}),b},z.omit=function(a){var b={},c=k.apply(f,j.call(arguments,1));for(var d in a)z.contains(c,d)||(b[d]=a[d]);return b},z.defaults=function(a){return A(j.call(arguments,1),function(b){if(b)for(var c in b)void 0===a[c]&&(a[c]=b[c])}),a},z.clone=function(a){return z.isObject(a)?z.isArray(a)?a.slice():z.extend({},a):a},z.tap=function(a,b){return b(a),a};var H=function(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof z&&(a=a._wrapped),b instanceof z&&(b=b._wrapped);var e=l.call(a);if(e!=l.call(b))return!1;switch(e){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var f=c.length;f--;)if(c[f]==a)return d[f]==b;var g=a.constructor,h=b.constructor;if(g!==h&&!(z.isFunction(g)&&g instanceof g&&z.isFunction(h)&&h instanceof h)&&"constructor"in a&&"constructor"in b)return!1;c.push(a),d.push(b);var i=0,j=!0;if("[object Array]"==e){if(i=a.length,j=i==b.length)for(;i--&&(j=H(a[i],b[i],c,d)););}else{for(var k in a)if(z.has(a,k)&&(i++,!(j=z.has(b,k)&&H(a[k],b[k],c,d))))break;if(j){for(k in b)if(z.has(b,k)&&!i--)break;j=!i}}return c.pop(),d.pop(),j};z.isEqual=function(a,b){return H(a,b,[],[])},z.isEmpty=function(a){if(null==a)return!0;if(z.isArray(a)||z.isString(a))return 0===a.length;for(var b in a)if(z.has(a,b))return!1;return!0},z.isElement=function(a){return!(!a||1!==a.nodeType)},z.isArray=w||function(a){return"[object Array]"==l.call(a)},z.isObject=function(a){return a===Object(a)},A(["Arguments","Function","String","Number","Date","RegExp"],function(a){z["is"+a]=function(b){return l.call(b)=="[object "+a+"]"}}),z.isArguments(arguments)||(z.isArguments=function(a){return!(!a||!z.has(a,"callee"))}),"function"!=typeof/./&&(z.isFunction=function(a){return"function"==typeof a}),z.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},z.isNaN=function(a){return z.isNumber(a)&&a!=+a},z.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"==l.call(a)},z.isNull=function(a){return null===a},z.isUndefined=function(a){return void 0===a},z.has=function(a,b){return m.call(a,b)},z.noConflict=function(){return a._=d,this},z.identity=function(a){return a},z.constant=function(a){return function(){return a}},z.property=function(a){return function(b){return b[a]}},z.matches=function(a){return function(b){if(b===a)return!0;for(var c in a)if(a[c]!==b[c])return!1;return!0}},z.times=function(a,b,c){for(var d=Array(Math.max(0,a)),e=0;a>e;e++)d[e]=b.call(c,e);return d},z.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))},z.now=Date.now||function(){return(new Date).getTime()};var I={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};I.unescape=z.invert(I.escape);var J={escape:new RegExp("["+z.keys(I.escape).join("")+"]","g"),unescape:new RegExp("("+z.keys(I.unescape).join("|")+")","g")};z.each(["escape","unescape"],function(a){z[a]=function(b){return null==b?"":(""+b).replace(J[a],function(b){return I[a][b]})}}),z.result=function(a,b){if(null==a)return void 0;var c=a[b];return z.isFunction(c)?c.call(a):c},z.mixin=function(a){A(z.functions(a),function(b){var c=z[b]=a[b];z.prototype[b]=function(){var a=[this._wrapped];return i.apply(a,arguments),O.call(this,c.apply(z,a))}})};var K=0;z.uniqueId=function(a){var b=++K+"";return a?a+b:b},z.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var L=/(.)^/,M={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},N=/\\|'|\r|\n|\t|\u2028|\u2029/g;z.template=function(a,b,c){var d;c=z.defaults({},c,z.templateSettings);var e=new RegExp([(c.escape||L).source,(c.interpolate||L).source,(c.evaluate||L).source].join("|")+"|$","g"),f=0,g="__p+='";a.replace(e,function(b,c,d,e,h){return g+=a.slice(f,h).replace(N,function(a){return"\\"+M[a]}),c&&(g+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'"),d&&(g+="'+\n((__t=("+d+"))==null?'':__t)+\n'"),e&&(g+="';\n"+e+"\n__p+='"),f=h+b.length,b}),g+="';\n",c.variable||(g="with(obj||{}){\n"+g+"}\n"),g="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+g+"return __p;\n";try{d=new Function(c.variable||"obj","_",g)}catch(h){throw h.source=g,h}if(b)return d(b,z);var i=function(a){return d.call(this,a,z)};return i.source="function("+(c.variable||"obj")+"){\n"+g+"}",i},z.chain=function(a){return z(a).chain()};var O=function(a){return this._chain?z(a).chain():a};z.mixin(z),A(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=f[a];z.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!=a&&"splice"!=a||0!==c.length||delete c[0],O.call(this,c)}}),A(["concat","join","slice"],function(a){var b=f[a];z.prototype[a]=function(){return O.call(this,b.apply(this._wrapped,arguments))}}),z.extend(z.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return z})}).call(this)},{}]},{},[1]);
'use strict';


$(document).ready(function ()
{

    var promise = new Promise((resolve, reject) =>
    {

        $.getJSON("./nerual_network/network.json", function (json)
        {
            resolve(json);
        });


    });

    promise
        .then(
            response =>
            {
                console.log(response);
                return response;
            }
        )
        .then(
            responseNetwork =>
            {
                return  getResultNetwork({time:7, weight:1000}, responseNetwork);
            }
        )
        .then(
            resultNetwork =>
            {
                console.log(resultNetwork);
                return resultNetwork;
            }
        )


});


function getResultNetwork(input, networkJSON)
{
    //BEGIN preparation

    var maxValueObj = networkJSON.maxValueObj;
    var net = new brain.NeuralNetwork().fromJSON(networkJSON);
    net.fromJSON(networkJSON);

    //END preparation

    //BEGIN normalize input
    for (var key in input) {
        if (input.hasOwnProperty(key))
        {
            input[key] /= maxValueObj[key];
        }
    }
    //END normalize input
    var resultNetwork = net.run(input);
    //BEGIN normalize output
    for (key in resultNetwork) {
        if (resultNetwork.hasOwnProperty(key))
        {
            resultNetwork[key] *= maxValueObj[key];
        }
    }
    //END normalize output
    return resultNetwork;

}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJvb3RzdHJhcC5taW4uanMiLCJicmFpbi0wLjYuMy5taW4uanMiLCJtYWluLmpzIiwiTmV0d29ya0NvbnZJTy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3ZCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDeENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiYnVpbGQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcclxuICogQm9vdHN0cmFwIHYzLjMuNyAoaHR0cDovL2dldGJvb3RzdHJhcC5jb20pXHJcbiAqIENvcHlyaWdodCAyMDExLTIwMTYgVHdpdHRlciwgSW5jLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcclxuICovXHJcbmlmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBqUXVlcnkpdGhyb3cgbmV3IEVycm9yKFwiQm9vdHN0cmFwJ3MgSmF2YVNjcmlwdCByZXF1aXJlcyBqUXVlcnlcIik7K2Z1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO3ZhciBiPWEuZm4uanF1ZXJ5LnNwbGl0KFwiIFwiKVswXS5zcGxpdChcIi5cIik7aWYoYlswXTwyJiZiWzFdPDl8fDE9PWJbMF0mJjk9PWJbMV0mJmJbMl08MXx8YlswXT4zKXRocm93IG5ldyBFcnJvcihcIkJvb3RzdHJhcCdzIEphdmFTY3JpcHQgcmVxdWlyZXMgalF1ZXJ5IHZlcnNpb24gMS45LjEgb3IgaGlnaGVyLCBidXQgbG93ZXIgdGhhbiB2ZXJzaW9uIDRcIil9KGpRdWVyeSksK2Z1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGIoKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYm9vdHN0cmFwXCIpLGI9e1dlYmtpdFRyYW5zaXRpb246XCJ3ZWJraXRUcmFuc2l0aW9uRW5kXCIsTW96VHJhbnNpdGlvbjpcInRyYW5zaXRpb25lbmRcIixPVHJhbnNpdGlvbjpcIm9UcmFuc2l0aW9uRW5kIG90cmFuc2l0aW9uZW5kXCIsdHJhbnNpdGlvbjpcInRyYW5zaXRpb25lbmRcIn07Zm9yKHZhciBjIGluIGIpaWYodm9pZCAwIT09YS5zdHlsZVtjXSlyZXR1cm57ZW5kOmJbY119O3JldHVybiExfWEuZm4uZW11bGF0ZVRyYW5zaXRpb25FbmQ9ZnVuY3Rpb24oYil7dmFyIGM9ITEsZD10aGlzO2EodGhpcykub25lKFwiYnNUcmFuc2l0aW9uRW5kXCIsZnVuY3Rpb24oKXtjPSEwfSk7dmFyIGU9ZnVuY3Rpb24oKXtjfHxhKGQpLnRyaWdnZXIoYS5zdXBwb3J0LnRyYW5zaXRpb24uZW5kKX07cmV0dXJuIHNldFRpbWVvdXQoZSxiKSx0aGlzfSxhKGZ1bmN0aW9uKCl7YS5zdXBwb3J0LnRyYW5zaXRpb249YigpLGEuc3VwcG9ydC50cmFuc2l0aW9uJiYoYS5ldmVudC5zcGVjaWFsLmJzVHJhbnNpdGlvbkVuZD17YmluZFR5cGU6YS5zdXBwb3J0LnRyYW5zaXRpb24uZW5kLGRlbGVnYXRlVHlwZTphLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQsaGFuZGxlOmZ1bmN0aW9uKGIpe2lmKGEoYi50YXJnZXQpLmlzKHRoaXMpKXJldHVybiBiLmhhbmRsZU9iai5oYW5kbGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KX0pfShqUXVlcnkpLCtmdW5jdGlvbihhKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBiKGIpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1hKHRoaXMpLGU9Yy5kYXRhKFwiYnMuYWxlcnRcIik7ZXx8Yy5kYXRhKFwiYnMuYWxlcnRcIixlPW5ldyBkKHRoaXMpKSxcInN0cmluZ1wiPT10eXBlb2YgYiYmZVtiXS5jYWxsKGMpfSl9dmFyIGM9J1tkYXRhLWRpc21pc3M9XCJhbGVydFwiXScsZD1mdW5jdGlvbihiKXthKGIpLm9uKFwiY2xpY2tcIixjLHRoaXMuY2xvc2UpfTtkLlZFUlNJT049XCIzLjMuN1wiLGQuVFJBTlNJVElPTl9EVVJBVElPTj0xNTAsZC5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oYil7ZnVuY3Rpb24gYygpe2cuZGV0YWNoKCkudHJpZ2dlcihcImNsb3NlZC5icy5hbGVydFwiKS5yZW1vdmUoKX12YXIgZT1hKHRoaXMpLGY9ZS5hdHRyKFwiZGF0YS10YXJnZXRcIik7Znx8KGY9ZS5hdHRyKFwiaHJlZlwiKSxmPWYmJmYucmVwbGFjZSgvLiooPz0jW15cXHNdKiQpLyxcIlwiKSk7dmFyIGc9YShcIiNcIj09PWY/W106Zik7YiYmYi5wcmV2ZW50RGVmYXVsdCgpLGcubGVuZ3RofHwoZz1lLmNsb3Nlc3QoXCIuYWxlcnRcIikpLGcudHJpZ2dlcihiPWEuRXZlbnQoXCJjbG9zZS5icy5hbGVydFwiKSksYi5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KGcucmVtb3ZlQ2xhc3MoXCJpblwiKSxhLnN1cHBvcnQudHJhbnNpdGlvbiYmZy5oYXNDbGFzcyhcImZhZGVcIik/Zy5vbmUoXCJic1RyYW5zaXRpb25FbmRcIixjKS5lbXVsYXRlVHJhbnNpdGlvbkVuZChkLlRSQU5TSVRJT05fRFVSQVRJT04pOmMoKSl9O3ZhciBlPWEuZm4uYWxlcnQ7YS5mbi5hbGVydD1iLGEuZm4uYWxlcnQuQ29uc3RydWN0b3I9ZCxhLmZuLmFsZXJ0Lm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gYS5mbi5hbGVydD1lLHRoaXN9LGEoZG9jdW1lbnQpLm9uKFwiY2xpY2suYnMuYWxlcnQuZGF0YS1hcGlcIixjLGQucHJvdG90eXBlLmNsb3NlKX0oalF1ZXJ5KSwrZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYihiKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGQ9YSh0aGlzKSxlPWQuZGF0YShcImJzLmJ1dHRvblwiKSxmPVwib2JqZWN0XCI9PXR5cGVvZiBiJiZiO2V8fGQuZGF0YShcImJzLmJ1dHRvblwiLGU9bmV3IGModGhpcyxmKSksXCJ0b2dnbGVcIj09Yj9lLnRvZ2dsZSgpOmImJmUuc2V0U3RhdGUoYil9KX12YXIgYz1mdW5jdGlvbihiLGQpe3RoaXMuJGVsZW1lbnQ9YShiKSx0aGlzLm9wdGlvbnM9YS5leHRlbmQoe30sYy5ERUZBVUxUUyxkKSx0aGlzLmlzTG9hZGluZz0hMX07Yy5WRVJTSU9OPVwiMy4zLjdcIixjLkRFRkFVTFRTPXtsb2FkaW5nVGV4dDpcImxvYWRpbmcuLi5cIn0sYy5wcm90b3R5cGUuc2V0U3RhdGU9ZnVuY3Rpb24oYil7dmFyIGM9XCJkaXNhYmxlZFwiLGQ9dGhpcy4kZWxlbWVudCxlPWQuaXMoXCJpbnB1dFwiKT9cInZhbFwiOlwiaHRtbFwiLGY9ZC5kYXRhKCk7Yis9XCJUZXh0XCIsbnVsbD09Zi5yZXNldFRleHQmJmQuZGF0YShcInJlc2V0VGV4dFwiLGRbZV0oKSksc2V0VGltZW91dChhLnByb3h5KGZ1bmN0aW9uKCl7ZFtlXShudWxsPT1mW2JdP3RoaXMub3B0aW9uc1tiXTpmW2JdKSxcImxvYWRpbmdUZXh0XCI9PWI/KHRoaXMuaXNMb2FkaW5nPSEwLGQuYWRkQ2xhc3MoYykuYXR0cihjLGMpLnByb3AoYywhMCkpOnRoaXMuaXNMb2FkaW5nJiYodGhpcy5pc0xvYWRpbmc9ITEsZC5yZW1vdmVDbGFzcyhjKS5yZW1vdmVBdHRyKGMpLnByb3AoYywhMSkpfSx0aGlzKSwwKX0sYy5wcm90b3R5cGUudG9nZ2xlPWZ1bmN0aW9uKCl7dmFyIGE9ITAsYj10aGlzLiRlbGVtZW50LmNsb3Nlc3QoJ1tkYXRhLXRvZ2dsZT1cImJ1dHRvbnNcIl0nKTtpZihiLmxlbmd0aCl7dmFyIGM9dGhpcy4kZWxlbWVudC5maW5kKFwiaW5wdXRcIik7XCJyYWRpb1wiPT1jLnByb3AoXCJ0eXBlXCIpPyhjLnByb3AoXCJjaGVja2VkXCIpJiYoYT0hMSksYi5maW5kKFwiLmFjdGl2ZVwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKSx0aGlzLiRlbGVtZW50LmFkZENsYXNzKFwiYWN0aXZlXCIpKTpcImNoZWNrYm94XCI9PWMucHJvcChcInR5cGVcIikmJihjLnByb3AoXCJjaGVja2VkXCIpIT09dGhpcy4kZWxlbWVudC5oYXNDbGFzcyhcImFjdGl2ZVwiKSYmKGE9ITEpLHRoaXMuJGVsZW1lbnQudG9nZ2xlQ2xhc3MoXCJhY3RpdmVcIikpLGMucHJvcChcImNoZWNrZWRcIix0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKFwiYWN0aXZlXCIpKSxhJiZjLnRyaWdnZXIoXCJjaGFuZ2VcIil9ZWxzZSB0aGlzLiRlbGVtZW50LmF0dHIoXCJhcmlhLXByZXNzZWRcIiwhdGhpcy4kZWxlbWVudC5oYXNDbGFzcyhcImFjdGl2ZVwiKSksdGhpcy4kZWxlbWVudC50b2dnbGVDbGFzcyhcImFjdGl2ZVwiKX07dmFyIGQ9YS5mbi5idXR0b247YS5mbi5idXR0b249YixhLmZuLmJ1dHRvbi5Db25zdHJ1Y3Rvcj1jLGEuZm4uYnV0dG9uLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gYS5mbi5idXR0b249ZCx0aGlzfSxhKGRvY3VtZW50KS5vbihcImNsaWNrLmJzLmJ1dHRvbi5kYXRhLWFwaVwiLCdbZGF0YS10b2dnbGVePVwiYnV0dG9uXCJdJyxmdW5jdGlvbihjKXt2YXIgZD1hKGMudGFyZ2V0KS5jbG9zZXN0KFwiLmJ0blwiKTtiLmNhbGwoZCxcInRvZ2dsZVwiKSxhKGMudGFyZ2V0KS5pcygnaW5wdXRbdHlwZT1cInJhZGlvXCJdLCBpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0nKXx8KGMucHJldmVudERlZmF1bHQoKSxkLmlzKFwiaW5wdXQsYnV0dG9uXCIpP2QudHJpZ2dlcihcImZvY3VzXCIpOmQuZmluZChcImlucHV0OnZpc2libGUsYnV0dG9uOnZpc2libGVcIikuZmlyc3QoKS50cmlnZ2VyKFwiZm9jdXNcIikpfSkub24oXCJmb2N1cy5icy5idXR0b24uZGF0YS1hcGkgYmx1ci5icy5idXR0b24uZGF0YS1hcGlcIiwnW2RhdGEtdG9nZ2xlXj1cImJ1dHRvblwiXScsZnVuY3Rpb24oYil7YShiLnRhcmdldCkuY2xvc2VzdChcIi5idG5cIikudG9nZ2xlQ2xhc3MoXCJmb2N1c1wiLC9eZm9jdXMoaW4pPyQvLnRlc3QoYi50eXBlKSl9KX0oalF1ZXJ5KSwrZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYihiKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGQ9YSh0aGlzKSxlPWQuZGF0YShcImJzLmNhcm91c2VsXCIpLGY9YS5leHRlbmQoe30sYy5ERUZBVUxUUyxkLmRhdGEoKSxcIm9iamVjdFwiPT10eXBlb2YgYiYmYiksZz1cInN0cmluZ1wiPT10eXBlb2YgYj9iOmYuc2xpZGU7ZXx8ZC5kYXRhKFwiYnMuY2Fyb3VzZWxcIixlPW5ldyBjKHRoaXMsZikpLFwibnVtYmVyXCI9PXR5cGVvZiBiP2UudG8oYik6Zz9lW2ddKCk6Zi5pbnRlcnZhbCYmZS5wYXVzZSgpLmN5Y2xlKCl9KX12YXIgYz1mdW5jdGlvbihiLGMpe3RoaXMuJGVsZW1lbnQ9YShiKSx0aGlzLiRpbmRpY2F0b3JzPXRoaXMuJGVsZW1lbnQuZmluZChcIi5jYXJvdXNlbC1pbmRpY2F0b3JzXCIpLHRoaXMub3B0aW9ucz1jLHRoaXMucGF1c2VkPW51bGwsdGhpcy5zbGlkaW5nPW51bGwsdGhpcy5pbnRlcnZhbD1udWxsLHRoaXMuJGFjdGl2ZT1udWxsLHRoaXMuJGl0ZW1zPW51bGwsdGhpcy5vcHRpb25zLmtleWJvYXJkJiZ0aGlzLiRlbGVtZW50Lm9uKFwia2V5ZG93bi5icy5jYXJvdXNlbFwiLGEucHJveHkodGhpcy5rZXlkb3duLHRoaXMpKSxcImhvdmVyXCI9PXRoaXMub3B0aW9ucy5wYXVzZSYmIShcIm9udG91Y2hzdGFydFwiaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSYmdGhpcy4kZWxlbWVudC5vbihcIm1vdXNlZW50ZXIuYnMuY2Fyb3VzZWxcIixhLnByb3h5KHRoaXMucGF1c2UsdGhpcykpLm9uKFwibW91c2VsZWF2ZS5icy5jYXJvdXNlbFwiLGEucHJveHkodGhpcy5jeWNsZSx0aGlzKSl9O2MuVkVSU0lPTj1cIjMuMy43XCIsYy5UUkFOU0lUSU9OX0RVUkFUSU9OPTYwMCxjLkRFRkFVTFRTPXtpbnRlcnZhbDo1ZTMscGF1c2U6XCJob3ZlclwiLHdyYXA6ITAsa2V5Ym9hcmQ6ITB9LGMucHJvdG90eXBlLmtleWRvd249ZnVuY3Rpb24oYSl7aWYoIS9pbnB1dHx0ZXh0YXJlYS9pLnRlc3QoYS50YXJnZXQudGFnTmFtZSkpe3N3aXRjaChhLndoaWNoKXtjYXNlIDM3OnRoaXMucHJldigpO2JyZWFrO2Nhc2UgMzk6dGhpcy5uZXh0KCk7YnJlYWs7ZGVmYXVsdDpyZXR1cm59YS5wcmV2ZW50RGVmYXVsdCgpfX0sYy5wcm90b3R5cGUuY3ljbGU9ZnVuY3Rpb24oYil7cmV0dXJuIGJ8fCh0aGlzLnBhdXNlZD0hMSksdGhpcy5pbnRlcnZhbCYmY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKSx0aGlzLm9wdGlvbnMuaW50ZXJ2YWwmJiF0aGlzLnBhdXNlZCYmKHRoaXMuaW50ZXJ2YWw9c2V0SW50ZXJ2YWwoYS5wcm94eSh0aGlzLm5leHQsdGhpcyksdGhpcy5vcHRpb25zLmludGVydmFsKSksdGhpc30sYy5wcm90b3R5cGUuZ2V0SXRlbUluZGV4PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLiRpdGVtcz1hLnBhcmVudCgpLmNoaWxkcmVuKFwiLml0ZW1cIiksdGhpcy4kaXRlbXMuaW5kZXgoYXx8dGhpcy4kYWN0aXZlKX0sYy5wcm90b3R5cGUuZ2V0SXRlbUZvckRpcmVjdGlvbj1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0SXRlbUluZGV4KGIpLGQ9XCJwcmV2XCI9PWEmJjA9PT1jfHxcIm5leHRcIj09YSYmYz09dGhpcy4kaXRlbXMubGVuZ3RoLTE7aWYoZCYmIXRoaXMub3B0aW9ucy53cmFwKXJldHVybiBiO3ZhciBlPVwicHJldlwiPT1hPy0xOjEsZj0oYytlKSV0aGlzLiRpdGVtcy5sZW5ndGg7cmV0dXJuIHRoaXMuJGl0ZW1zLmVxKGYpfSxjLnByb3RvdHlwZS50bz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9dGhpcy5nZXRJdGVtSW5kZXgodGhpcy4kYWN0aXZlPXRoaXMuJGVsZW1lbnQuZmluZChcIi5pdGVtLmFjdGl2ZVwiKSk7aWYoIShhPnRoaXMuJGl0ZW1zLmxlbmd0aC0xfHxhPDApKXJldHVybiB0aGlzLnNsaWRpbmc/dGhpcy4kZWxlbWVudC5vbmUoXCJzbGlkLmJzLmNhcm91c2VsXCIsZnVuY3Rpb24oKXtiLnRvKGEpfSk6Yz09YT90aGlzLnBhdXNlKCkuY3ljbGUoKTp0aGlzLnNsaWRlKGE+Yz9cIm5leHRcIjpcInByZXZcIix0aGlzLiRpdGVtcy5lcShhKSl9LGMucHJvdG90eXBlLnBhdXNlPWZ1bmN0aW9uKGIpe3JldHVybiBifHwodGhpcy5wYXVzZWQ9ITApLHRoaXMuJGVsZW1lbnQuZmluZChcIi5uZXh0LCAucHJldlwiKS5sZW5ndGgmJmEuc3VwcG9ydC50cmFuc2l0aW9uJiYodGhpcy4kZWxlbWVudC50cmlnZ2VyKGEuc3VwcG9ydC50cmFuc2l0aW9uLmVuZCksdGhpcy5jeWNsZSghMCkpLHRoaXMuaW50ZXJ2YWw9Y2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKSx0aGlzfSxjLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKCl7aWYoIXRoaXMuc2xpZGluZylyZXR1cm4gdGhpcy5zbGlkZShcIm5leHRcIil9LGMucHJvdG90eXBlLnByZXY9ZnVuY3Rpb24oKXtpZighdGhpcy5zbGlkaW5nKXJldHVybiB0aGlzLnNsaWRlKFwicHJldlwiKX0sYy5wcm90b3R5cGUuc2xpZGU9ZnVuY3Rpb24oYixkKXt2YXIgZT10aGlzLiRlbGVtZW50LmZpbmQoXCIuaXRlbS5hY3RpdmVcIiksZj1kfHx0aGlzLmdldEl0ZW1Gb3JEaXJlY3Rpb24oYixlKSxnPXRoaXMuaW50ZXJ2YWwsaD1cIm5leHRcIj09Yj9cImxlZnRcIjpcInJpZ2h0XCIsaT10aGlzO2lmKGYuaGFzQ2xhc3MoXCJhY3RpdmVcIikpcmV0dXJuIHRoaXMuc2xpZGluZz0hMTt2YXIgaj1mWzBdLGs9YS5FdmVudChcInNsaWRlLmJzLmNhcm91c2VsXCIse3JlbGF0ZWRUYXJnZXQ6aixkaXJlY3Rpb246aH0pO2lmKHRoaXMuJGVsZW1lbnQudHJpZ2dlcihrKSwhay5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl7aWYodGhpcy5zbGlkaW5nPSEwLGcmJnRoaXMucGF1c2UoKSx0aGlzLiRpbmRpY2F0b3JzLmxlbmd0aCl7dGhpcy4kaW5kaWNhdG9ycy5maW5kKFwiLmFjdGl2ZVwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTt2YXIgbD1hKHRoaXMuJGluZGljYXRvcnMuY2hpbGRyZW4oKVt0aGlzLmdldEl0ZW1JbmRleChmKV0pO2wmJmwuYWRkQ2xhc3MoXCJhY3RpdmVcIil9dmFyIG09YS5FdmVudChcInNsaWQuYnMuY2Fyb3VzZWxcIix7cmVsYXRlZFRhcmdldDpqLGRpcmVjdGlvbjpofSk7cmV0dXJuIGEuc3VwcG9ydC50cmFuc2l0aW9uJiZ0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKFwic2xpZGVcIik/KGYuYWRkQ2xhc3MoYiksZlswXS5vZmZzZXRXaWR0aCxlLmFkZENsYXNzKGgpLGYuYWRkQ2xhc3MoaCksZS5vbmUoXCJic1RyYW5zaXRpb25FbmRcIixmdW5jdGlvbigpe2YucmVtb3ZlQ2xhc3MoW2IsaF0uam9pbihcIiBcIikpLmFkZENsYXNzKFwiYWN0aXZlXCIpLGUucmVtb3ZlQ2xhc3MoW1wiYWN0aXZlXCIsaF0uam9pbihcIiBcIikpLGkuc2xpZGluZz0hMSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aS4kZWxlbWVudC50cmlnZ2VyKG0pfSwwKX0pLmVtdWxhdGVUcmFuc2l0aW9uRW5kKGMuVFJBTlNJVElPTl9EVVJBVElPTikpOihlLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpLGYuYWRkQ2xhc3MoXCJhY3RpdmVcIiksdGhpcy5zbGlkaW5nPSExLHRoaXMuJGVsZW1lbnQudHJpZ2dlcihtKSksZyYmdGhpcy5jeWNsZSgpLHRoaXN9fTt2YXIgZD1hLmZuLmNhcm91c2VsO2EuZm4uY2Fyb3VzZWw9YixhLmZuLmNhcm91c2VsLkNvbnN0cnVjdG9yPWMsYS5mbi5jYXJvdXNlbC5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIGEuZm4uY2Fyb3VzZWw9ZCx0aGlzfTt2YXIgZT1mdW5jdGlvbihjKXt2YXIgZCxlPWEodGhpcyksZj1hKGUuYXR0cihcImRhdGEtdGFyZ2V0XCIpfHwoZD1lLmF0dHIoXCJocmVmXCIpKSYmZC5yZXBsYWNlKC8uKig/PSNbXlxcc10rJCkvLFwiXCIpKTtpZihmLmhhc0NsYXNzKFwiY2Fyb3VzZWxcIikpe3ZhciBnPWEuZXh0ZW5kKHt9LGYuZGF0YSgpLGUuZGF0YSgpKSxoPWUuYXR0cihcImRhdGEtc2xpZGUtdG9cIik7aCYmKGcuaW50ZXJ2YWw9ITEpLGIuY2FsbChmLGcpLGgmJmYuZGF0YShcImJzLmNhcm91c2VsXCIpLnRvKGgpLGMucHJldmVudERlZmF1bHQoKX19O2EoZG9jdW1lbnQpLm9uKFwiY2xpY2suYnMuY2Fyb3VzZWwuZGF0YS1hcGlcIixcIltkYXRhLXNsaWRlXVwiLGUpLm9uKFwiY2xpY2suYnMuY2Fyb3VzZWwuZGF0YS1hcGlcIixcIltkYXRhLXNsaWRlLXRvXVwiLGUpLGEod2luZG93KS5vbihcImxvYWRcIixmdW5jdGlvbigpe2EoJ1tkYXRhLXJpZGU9XCJjYXJvdXNlbFwiXScpLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1hKHRoaXMpO2IuY2FsbChjLGMuZGF0YSgpKX0pfSl9KGpRdWVyeSksK2Z1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGIoYil7dmFyIGMsZD1iLmF0dHIoXCJkYXRhLXRhcmdldFwiKXx8KGM9Yi5hdHRyKFwiaHJlZlwiKSkmJmMucmVwbGFjZSgvLiooPz0jW15cXHNdKyQpLyxcIlwiKTtyZXR1cm4gYShkKX1mdW5jdGlvbiBjKGIpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1hKHRoaXMpLGU9Yy5kYXRhKFwiYnMuY29sbGFwc2VcIiksZj1hLmV4dGVuZCh7fSxkLkRFRkFVTFRTLGMuZGF0YSgpLFwib2JqZWN0XCI9PXR5cGVvZiBiJiZiKTshZSYmZi50b2dnbGUmJi9zaG93fGhpZGUvLnRlc3QoYikmJihmLnRvZ2dsZT0hMSksZXx8Yy5kYXRhKFwiYnMuY29sbGFwc2VcIixlPW5ldyBkKHRoaXMsZikpLFwic3RyaW5nXCI9PXR5cGVvZiBiJiZlW2JdKCl9KX12YXIgZD1mdW5jdGlvbihiLGMpe3RoaXMuJGVsZW1lbnQ9YShiKSx0aGlzLm9wdGlvbnM9YS5leHRlbmQoe30sZC5ERUZBVUxUUyxjKSx0aGlzLiR0cmlnZ2VyPWEoJ1tkYXRhLXRvZ2dsZT1cImNvbGxhcHNlXCJdW2hyZWY9XCIjJytiLmlkKydcIl0sW2RhdGEtdG9nZ2xlPVwiY29sbGFwc2VcIl1bZGF0YS10YXJnZXQ9XCIjJytiLmlkKydcIl0nKSx0aGlzLnRyYW5zaXRpb25pbmc9bnVsbCx0aGlzLm9wdGlvbnMucGFyZW50P3RoaXMuJHBhcmVudD10aGlzLmdldFBhcmVudCgpOnRoaXMuYWRkQXJpYUFuZENvbGxhcHNlZENsYXNzKHRoaXMuJGVsZW1lbnQsdGhpcy4kdHJpZ2dlciksdGhpcy5vcHRpb25zLnRvZ2dsZSYmdGhpcy50b2dnbGUoKX07ZC5WRVJTSU9OPVwiMy4zLjdcIixkLlRSQU5TSVRJT05fRFVSQVRJT049MzUwLGQuREVGQVVMVFM9e3RvZ2dsZTohMH0sZC5wcm90b3R5cGUuZGltZW5zaW9uPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy4kZWxlbWVudC5oYXNDbGFzcyhcIndpZHRoXCIpO3JldHVybiBhP1wid2lkdGhcIjpcImhlaWdodFwifSxkLnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKCl7aWYoIXRoaXMudHJhbnNpdGlvbmluZyYmIXRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoXCJpblwiKSl7dmFyIGIsZT10aGlzLiRwYXJlbnQmJnRoaXMuJHBhcmVudC5jaGlsZHJlbihcIi5wYW5lbFwiKS5jaGlsZHJlbihcIi5pbiwgLmNvbGxhcHNpbmdcIik7aWYoIShlJiZlLmxlbmd0aCYmKGI9ZS5kYXRhKFwiYnMuY29sbGFwc2VcIiksYiYmYi50cmFuc2l0aW9uaW5nKSkpe3ZhciBmPWEuRXZlbnQoXCJzaG93LmJzLmNvbGxhcHNlXCIpO2lmKHRoaXMuJGVsZW1lbnQudHJpZ2dlcihmKSwhZi5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl7ZSYmZS5sZW5ndGgmJihjLmNhbGwoZSxcImhpZGVcIiksYnx8ZS5kYXRhKFwiYnMuY29sbGFwc2VcIixudWxsKSk7dmFyIGc9dGhpcy5kaW1lbnNpb24oKTt0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKFwiY29sbGFwc2VcIikuYWRkQ2xhc3MoXCJjb2xsYXBzaW5nXCIpW2ddKDApLmF0dHIoXCJhcmlhLWV4cGFuZGVkXCIsITApLHRoaXMuJHRyaWdnZXIucmVtb3ZlQ2xhc3MoXCJjb2xsYXBzZWRcIikuYXR0cihcImFyaWEtZXhwYW5kZWRcIiwhMCksdGhpcy50cmFuc2l0aW9uaW5nPTE7dmFyIGg9ZnVuY3Rpb24oKXt0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKFwiY29sbGFwc2luZ1wiKS5hZGRDbGFzcyhcImNvbGxhcHNlIGluXCIpW2ddKFwiXCIpLHRoaXMudHJhbnNpdGlvbmluZz0wLHRoaXMuJGVsZW1lbnQudHJpZ2dlcihcInNob3duLmJzLmNvbGxhcHNlXCIpfTtpZighYS5zdXBwb3J0LnRyYW5zaXRpb24pcmV0dXJuIGguY2FsbCh0aGlzKTt2YXIgaT1hLmNhbWVsQ2FzZShbXCJzY3JvbGxcIixnXS5qb2luKFwiLVwiKSk7dGhpcy4kZWxlbWVudC5vbmUoXCJic1RyYW5zaXRpb25FbmRcIixhLnByb3h5KGgsdGhpcykpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKGQuVFJBTlNJVElPTl9EVVJBVElPTilbZ10odGhpcy4kZWxlbWVudFswXVtpXSl9fX19LGQucHJvdG90eXBlLmhpZGU9ZnVuY3Rpb24oKXtpZighdGhpcy50cmFuc2l0aW9uaW5nJiZ0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKFwiaW5cIikpe3ZhciBiPWEuRXZlbnQoXCJoaWRlLmJzLmNvbGxhcHNlXCIpO2lmKHRoaXMuJGVsZW1lbnQudHJpZ2dlcihiKSwhYi5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl7dmFyIGM9dGhpcy5kaW1lbnNpb24oKTt0aGlzLiRlbGVtZW50W2NdKHRoaXMuJGVsZW1lbnRbY10oKSlbMF0ub2Zmc2V0SGVpZ2h0LHRoaXMuJGVsZW1lbnQuYWRkQ2xhc3MoXCJjb2xsYXBzaW5nXCIpLnJlbW92ZUNsYXNzKFwiY29sbGFwc2UgaW5cIikuYXR0cihcImFyaWEtZXhwYW5kZWRcIiwhMSksdGhpcy4kdHJpZ2dlci5hZGRDbGFzcyhcImNvbGxhcHNlZFwiKS5hdHRyKFwiYXJpYS1leHBhbmRlZFwiLCExKSx0aGlzLnRyYW5zaXRpb25pbmc9MTt2YXIgZT1mdW5jdGlvbigpe3RoaXMudHJhbnNpdGlvbmluZz0wLHRoaXMuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoXCJjb2xsYXBzaW5nXCIpLmFkZENsYXNzKFwiY29sbGFwc2VcIikudHJpZ2dlcihcImhpZGRlbi5icy5jb2xsYXBzZVwiKX07cmV0dXJuIGEuc3VwcG9ydC50cmFuc2l0aW9uP3ZvaWQgdGhpcy4kZWxlbWVudFtjXSgwKS5vbmUoXCJic1RyYW5zaXRpb25FbmRcIixhLnByb3h5KGUsdGhpcykpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKGQuVFJBTlNJVElPTl9EVVJBVElPTik6ZS5jYWxsKHRoaXMpfX19LGQucHJvdG90eXBlLnRvZ2dsZT1mdW5jdGlvbigpe3RoaXNbdGhpcy4kZWxlbWVudC5oYXNDbGFzcyhcImluXCIpP1wiaGlkZVwiOlwic2hvd1wiXSgpfSxkLnByb3RvdHlwZS5nZXRQYXJlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gYSh0aGlzLm9wdGlvbnMucGFyZW50KS5maW5kKCdbZGF0YS10b2dnbGU9XCJjb2xsYXBzZVwiXVtkYXRhLXBhcmVudD1cIicrdGhpcy5vcHRpb25zLnBhcmVudCsnXCJdJykuZWFjaChhLnByb3h5KGZ1bmN0aW9uKGMsZCl7dmFyIGU9YShkKTt0aGlzLmFkZEFyaWFBbmRDb2xsYXBzZWRDbGFzcyhiKGUpLGUpfSx0aGlzKSkuZW5kKCl9LGQucHJvdG90eXBlLmFkZEFyaWFBbmRDb2xsYXBzZWRDbGFzcz1mdW5jdGlvbihhLGIpe3ZhciBjPWEuaGFzQ2xhc3MoXCJpblwiKTthLmF0dHIoXCJhcmlhLWV4cGFuZGVkXCIsYyksYi50b2dnbGVDbGFzcyhcImNvbGxhcHNlZFwiLCFjKS5hdHRyKFwiYXJpYS1leHBhbmRlZFwiLGMpfTt2YXIgZT1hLmZuLmNvbGxhcHNlO2EuZm4uY29sbGFwc2U9YyxhLmZuLmNvbGxhcHNlLkNvbnN0cnVjdG9yPWQsYS5mbi5jb2xsYXBzZS5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIGEuZm4uY29sbGFwc2U9ZSx0aGlzfSxhKGRvY3VtZW50KS5vbihcImNsaWNrLmJzLmNvbGxhcHNlLmRhdGEtYXBpXCIsJ1tkYXRhLXRvZ2dsZT1cImNvbGxhcHNlXCJdJyxmdW5jdGlvbihkKXt2YXIgZT1hKHRoaXMpO2UuYXR0cihcImRhdGEtdGFyZ2V0XCIpfHxkLnByZXZlbnREZWZhdWx0KCk7dmFyIGY9YihlKSxnPWYuZGF0YShcImJzLmNvbGxhcHNlXCIpLGg9Zz9cInRvZ2dsZVwiOmUuZGF0YSgpO2MuY2FsbChmLGgpfSl9KGpRdWVyeSksK2Z1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGIoYil7dmFyIGM9Yi5hdHRyKFwiZGF0YS10YXJnZXRcIik7Y3x8KGM9Yi5hdHRyKFwiaHJlZlwiKSxjPWMmJi8jW0EtWmEtel0vLnRlc3QoYykmJmMucmVwbGFjZSgvLiooPz0jW15cXHNdKiQpLyxcIlwiKSk7dmFyIGQ9YyYmYShjKTtyZXR1cm4gZCYmZC5sZW5ndGg/ZDpiLnBhcmVudCgpfWZ1bmN0aW9uIGMoYyl7YyYmMz09PWMud2hpY2h8fChhKGUpLnJlbW92ZSgpLGEoZikuZWFjaChmdW5jdGlvbigpe3ZhciBkPWEodGhpcyksZT1iKGQpLGY9e3JlbGF0ZWRUYXJnZXQ6dGhpc307ZS5oYXNDbGFzcyhcIm9wZW5cIikmJihjJiZcImNsaWNrXCI9PWMudHlwZSYmL2lucHV0fHRleHRhcmVhL2kudGVzdChjLnRhcmdldC50YWdOYW1lKSYmYS5jb250YWlucyhlWzBdLGMudGFyZ2V0KXx8KGUudHJpZ2dlcihjPWEuRXZlbnQoXCJoaWRlLmJzLmRyb3Bkb3duXCIsZikpLGMuaXNEZWZhdWx0UHJldmVudGVkKCl8fChkLmF0dHIoXCJhcmlhLWV4cGFuZGVkXCIsXCJmYWxzZVwiKSxlLnJlbW92ZUNsYXNzKFwib3BlblwiKS50cmlnZ2VyKGEuRXZlbnQoXCJoaWRkZW4uYnMuZHJvcGRvd25cIixmKSkpKSl9KSl9ZnVuY3Rpb24gZChiKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGM9YSh0aGlzKSxkPWMuZGF0YShcImJzLmRyb3Bkb3duXCIpO2R8fGMuZGF0YShcImJzLmRyb3Bkb3duXCIsZD1uZXcgZyh0aGlzKSksXCJzdHJpbmdcIj09dHlwZW9mIGImJmRbYl0uY2FsbChjKX0pfXZhciBlPVwiLmRyb3Bkb3duLWJhY2tkcm9wXCIsZj0nW2RhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIl0nLGc9ZnVuY3Rpb24oYil7YShiKS5vbihcImNsaWNrLmJzLmRyb3Bkb3duXCIsdGhpcy50b2dnbGUpfTtnLlZFUlNJT049XCIzLjMuN1wiLGcucHJvdG90eXBlLnRvZ2dsZT1mdW5jdGlvbihkKXt2YXIgZT1hKHRoaXMpO2lmKCFlLmlzKFwiLmRpc2FibGVkLCA6ZGlzYWJsZWRcIikpe3ZhciBmPWIoZSksZz1mLmhhc0NsYXNzKFwib3BlblwiKTtpZihjKCksIWcpe1wib250b3VjaHN0YXJ0XCJpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQmJiFmLmNsb3Nlc3QoXCIubmF2YmFyLW5hdlwiKS5sZW5ndGgmJmEoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSkuYWRkQ2xhc3MoXCJkcm9wZG93bi1iYWNrZHJvcFwiKS5pbnNlcnRBZnRlcihhKHRoaXMpKS5vbihcImNsaWNrXCIsYyk7dmFyIGg9e3JlbGF0ZWRUYXJnZXQ6dGhpc307aWYoZi50cmlnZ2VyKGQ9YS5FdmVudChcInNob3cuYnMuZHJvcGRvd25cIixoKSksZC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSlyZXR1cm47ZS50cmlnZ2VyKFwiZm9jdXNcIikuYXR0cihcImFyaWEtZXhwYW5kZWRcIixcInRydWVcIiksZi50b2dnbGVDbGFzcyhcIm9wZW5cIikudHJpZ2dlcihhLkV2ZW50KFwic2hvd24uYnMuZHJvcGRvd25cIixoKSl9cmV0dXJuITF9fSxnLnByb3RvdHlwZS5rZXlkb3duPWZ1bmN0aW9uKGMpe2lmKC8oMzh8NDB8Mjd8MzIpLy50ZXN0KGMud2hpY2gpJiYhL2lucHV0fHRleHRhcmVhL2kudGVzdChjLnRhcmdldC50YWdOYW1lKSl7dmFyIGQ9YSh0aGlzKTtpZihjLnByZXZlbnREZWZhdWx0KCksYy5zdG9wUHJvcGFnYXRpb24oKSwhZC5pcyhcIi5kaXNhYmxlZCwgOmRpc2FibGVkXCIpKXt2YXIgZT1iKGQpLGc9ZS5oYXNDbGFzcyhcIm9wZW5cIik7aWYoIWcmJjI3IT1jLndoaWNofHxnJiYyNz09Yy53aGljaClyZXR1cm4gMjc9PWMud2hpY2gmJmUuZmluZChmKS50cmlnZ2VyKFwiZm9jdXNcIiksZC50cmlnZ2VyKFwiY2xpY2tcIik7dmFyIGg9XCIgbGk6bm90KC5kaXNhYmxlZCk6dmlzaWJsZSBhXCIsaT1lLmZpbmQoXCIuZHJvcGRvd24tbWVudVwiK2gpO2lmKGkubGVuZ3RoKXt2YXIgaj1pLmluZGV4KGMudGFyZ2V0KTszOD09Yy53aGljaCYmaj4wJiZqLS0sNDA9PWMud2hpY2gmJmo8aS5sZW5ndGgtMSYmaisrLH5qfHwoaj0wKSxpLmVxKGopLnRyaWdnZXIoXCJmb2N1c1wiKX19fX07dmFyIGg9YS5mbi5kcm9wZG93bjthLmZuLmRyb3Bkb3duPWQsYS5mbi5kcm9wZG93bi5Db25zdHJ1Y3Rvcj1nLGEuZm4uZHJvcGRvd24ubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiBhLmZuLmRyb3Bkb3duPWgsdGhpc30sYShkb2N1bWVudCkub24oXCJjbGljay5icy5kcm9wZG93bi5kYXRhLWFwaVwiLGMpLm9uKFwiY2xpY2suYnMuZHJvcGRvd24uZGF0YS1hcGlcIixcIi5kcm9wZG93biBmb3JtXCIsZnVuY3Rpb24oYSl7YS5zdG9wUHJvcGFnYXRpb24oKX0pLm9uKFwiY2xpY2suYnMuZHJvcGRvd24uZGF0YS1hcGlcIixmLGcucHJvdG90eXBlLnRvZ2dsZSkub24oXCJrZXlkb3duLmJzLmRyb3Bkb3duLmRhdGEtYXBpXCIsZixnLnByb3RvdHlwZS5rZXlkb3duKS5vbihcImtleWRvd24uYnMuZHJvcGRvd24uZGF0YS1hcGlcIixcIi5kcm9wZG93bi1tZW51XCIsZy5wcm90b3R5cGUua2V5ZG93bil9KGpRdWVyeSksK2Z1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGIoYixkKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9YSh0aGlzKSxmPWUuZGF0YShcImJzLm1vZGFsXCIpLGc9YS5leHRlbmQoe30sYy5ERUZBVUxUUyxlLmRhdGEoKSxcIm9iamVjdFwiPT10eXBlb2YgYiYmYik7Znx8ZS5kYXRhKFwiYnMubW9kYWxcIixmPW5ldyBjKHRoaXMsZykpLFwic3RyaW5nXCI9PXR5cGVvZiBiP2ZbYl0oZCk6Zy5zaG93JiZmLnNob3coZCl9KX12YXIgYz1mdW5jdGlvbihiLGMpe3RoaXMub3B0aW9ucz1jLHRoaXMuJGJvZHk9YShkb2N1bWVudC5ib2R5KSx0aGlzLiRlbGVtZW50PWEoYiksdGhpcy4kZGlhbG9nPXRoaXMuJGVsZW1lbnQuZmluZChcIi5tb2RhbC1kaWFsb2dcIiksdGhpcy4kYmFja2Ryb3A9bnVsbCx0aGlzLmlzU2hvd249bnVsbCx0aGlzLm9yaWdpbmFsQm9keVBhZD1udWxsLHRoaXMuc2Nyb2xsYmFyV2lkdGg9MCx0aGlzLmlnbm9yZUJhY2tkcm9wQ2xpY2s9ITEsdGhpcy5vcHRpb25zLnJlbW90ZSYmdGhpcy4kZWxlbWVudC5maW5kKFwiLm1vZGFsLWNvbnRlbnRcIikubG9hZCh0aGlzLm9wdGlvbnMucmVtb3RlLGEucHJveHkoZnVuY3Rpb24oKXt0aGlzLiRlbGVtZW50LnRyaWdnZXIoXCJsb2FkZWQuYnMubW9kYWxcIil9LHRoaXMpKX07Yy5WRVJTSU9OPVwiMy4zLjdcIixjLlRSQU5TSVRJT05fRFVSQVRJT049MzAwLGMuQkFDS0RST1BfVFJBTlNJVElPTl9EVVJBVElPTj0xNTAsYy5ERUZBVUxUUz17YmFja2Ryb3A6ITAsa2V5Ym9hcmQ6ITAsc2hvdzohMH0sYy5wcm90b3R5cGUudG9nZ2xlPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmlzU2hvd24/dGhpcy5oaWRlKCk6dGhpcy5zaG93KGEpfSxjLnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKGIpe3ZhciBkPXRoaXMsZT1hLkV2ZW50KFwic2hvdy5icy5tb2RhbFwiLHtyZWxhdGVkVGFyZ2V0OmJ9KTt0aGlzLiRlbGVtZW50LnRyaWdnZXIoZSksdGhpcy5pc1Nob3dufHxlLmlzRGVmYXVsdFByZXZlbnRlZCgpfHwodGhpcy5pc1Nob3duPSEwLHRoaXMuY2hlY2tTY3JvbGxiYXIoKSx0aGlzLnNldFNjcm9sbGJhcigpLHRoaXMuJGJvZHkuYWRkQ2xhc3MoXCJtb2RhbC1vcGVuXCIpLHRoaXMuZXNjYXBlKCksdGhpcy5yZXNpemUoKSx0aGlzLiRlbGVtZW50Lm9uKFwiY2xpY2suZGlzbWlzcy5icy5tb2RhbFwiLCdbZGF0YS1kaXNtaXNzPVwibW9kYWxcIl0nLGEucHJveHkodGhpcy5oaWRlLHRoaXMpKSx0aGlzLiRkaWFsb2cub24oXCJtb3VzZWRvd24uZGlzbWlzcy5icy5tb2RhbFwiLGZ1bmN0aW9uKCl7ZC4kZWxlbWVudC5vbmUoXCJtb3VzZXVwLmRpc21pc3MuYnMubW9kYWxcIixmdW5jdGlvbihiKXthKGIudGFyZ2V0KS5pcyhkLiRlbGVtZW50KSYmKGQuaWdub3JlQmFja2Ryb3BDbGljaz0hMCl9KX0pLHRoaXMuYmFja2Ryb3AoZnVuY3Rpb24oKXt2YXIgZT1hLnN1cHBvcnQudHJhbnNpdGlvbiYmZC4kZWxlbWVudC5oYXNDbGFzcyhcImZhZGVcIik7ZC4kZWxlbWVudC5wYXJlbnQoKS5sZW5ndGh8fGQuJGVsZW1lbnQuYXBwZW5kVG8oZC4kYm9keSksZC4kZWxlbWVudC5zaG93KCkuc2Nyb2xsVG9wKDApLGQuYWRqdXN0RGlhbG9nKCksZSYmZC4kZWxlbWVudFswXS5vZmZzZXRXaWR0aCxkLiRlbGVtZW50LmFkZENsYXNzKFwiaW5cIiksZC5lbmZvcmNlRm9jdXMoKTt2YXIgZj1hLkV2ZW50KFwic2hvd24uYnMubW9kYWxcIix7cmVsYXRlZFRhcmdldDpifSk7ZT9kLiRkaWFsb2cub25lKFwiYnNUcmFuc2l0aW9uRW5kXCIsZnVuY3Rpb24oKXtkLiRlbGVtZW50LnRyaWdnZXIoXCJmb2N1c1wiKS50cmlnZ2VyKGYpfSkuZW11bGF0ZVRyYW5zaXRpb25FbmQoYy5UUkFOU0lUSU9OX0RVUkFUSU9OKTpkLiRlbGVtZW50LnRyaWdnZXIoXCJmb2N1c1wiKS50cmlnZ2VyKGYpfSkpfSxjLnByb3RvdHlwZS5oaWRlPWZ1bmN0aW9uKGIpe2ImJmIucHJldmVudERlZmF1bHQoKSxiPWEuRXZlbnQoXCJoaWRlLmJzLm1vZGFsXCIpLHRoaXMuJGVsZW1lbnQudHJpZ2dlcihiKSx0aGlzLmlzU2hvd24mJiFiLmlzRGVmYXVsdFByZXZlbnRlZCgpJiYodGhpcy5pc1Nob3duPSExLHRoaXMuZXNjYXBlKCksdGhpcy5yZXNpemUoKSxhKGRvY3VtZW50KS5vZmYoXCJmb2N1c2luLmJzLm1vZGFsXCIpLHRoaXMuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoXCJpblwiKS5vZmYoXCJjbGljay5kaXNtaXNzLmJzLm1vZGFsXCIpLm9mZihcIm1vdXNldXAuZGlzbWlzcy5icy5tb2RhbFwiKSx0aGlzLiRkaWFsb2cub2ZmKFwibW91c2Vkb3duLmRpc21pc3MuYnMubW9kYWxcIiksYS5zdXBwb3J0LnRyYW5zaXRpb24mJnRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoXCJmYWRlXCIpP3RoaXMuJGVsZW1lbnQub25lKFwiYnNUcmFuc2l0aW9uRW5kXCIsYS5wcm94eSh0aGlzLmhpZGVNb2RhbCx0aGlzKSkuZW11bGF0ZVRyYW5zaXRpb25FbmQoYy5UUkFOU0lUSU9OX0RVUkFUSU9OKTp0aGlzLmhpZGVNb2RhbCgpKX0sYy5wcm90b3R5cGUuZW5mb3JjZUZvY3VzPWZ1bmN0aW9uKCl7YShkb2N1bWVudCkub2ZmKFwiZm9jdXNpbi5icy5tb2RhbFwiKS5vbihcImZvY3VzaW4uYnMubW9kYWxcIixhLnByb3h5KGZ1bmN0aW9uKGEpe2RvY3VtZW50PT09YS50YXJnZXR8fHRoaXMuJGVsZW1lbnRbMF09PT1hLnRhcmdldHx8dGhpcy4kZWxlbWVudC5oYXMoYS50YXJnZXQpLmxlbmd0aHx8dGhpcy4kZWxlbWVudC50cmlnZ2VyKFwiZm9jdXNcIil9LHRoaXMpKX0sYy5wcm90b3R5cGUuZXNjYXBlPWZ1bmN0aW9uKCl7dGhpcy5pc1Nob3duJiZ0aGlzLm9wdGlvbnMua2V5Ym9hcmQ/dGhpcy4kZWxlbWVudC5vbihcImtleWRvd24uZGlzbWlzcy5icy5tb2RhbFwiLGEucHJveHkoZnVuY3Rpb24oYSl7Mjc9PWEud2hpY2gmJnRoaXMuaGlkZSgpfSx0aGlzKSk6dGhpcy5pc1Nob3dufHx0aGlzLiRlbGVtZW50Lm9mZihcImtleWRvd24uZGlzbWlzcy5icy5tb2RhbFwiKX0sYy5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKCl7dGhpcy5pc1Nob3duP2Eod2luZG93KS5vbihcInJlc2l6ZS5icy5tb2RhbFwiLGEucHJveHkodGhpcy5oYW5kbGVVcGRhdGUsdGhpcykpOmEod2luZG93KS5vZmYoXCJyZXNpemUuYnMubW9kYWxcIil9LGMucHJvdG90eXBlLmhpZGVNb2RhbD1mdW5jdGlvbigpe3ZhciBhPXRoaXM7dGhpcy4kZWxlbWVudC5oaWRlKCksdGhpcy5iYWNrZHJvcChmdW5jdGlvbigpe2EuJGJvZHkucmVtb3ZlQ2xhc3MoXCJtb2RhbC1vcGVuXCIpLGEucmVzZXRBZGp1c3RtZW50cygpLGEucmVzZXRTY3JvbGxiYXIoKSxhLiRlbGVtZW50LnRyaWdnZXIoXCJoaWRkZW4uYnMubW9kYWxcIil9KX0sYy5wcm90b3R5cGUucmVtb3ZlQmFja2Ryb3A9ZnVuY3Rpb24oKXt0aGlzLiRiYWNrZHJvcCYmdGhpcy4kYmFja2Ryb3AucmVtb3ZlKCksdGhpcy4kYmFja2Ryb3A9bnVsbH0sYy5wcm90b3R5cGUuYmFja2Ryb3A9ZnVuY3Rpb24oYil7dmFyIGQ9dGhpcyxlPXRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoXCJmYWRlXCIpP1wiZmFkZVwiOlwiXCI7aWYodGhpcy5pc1Nob3duJiZ0aGlzLm9wdGlvbnMuYmFja2Ryb3Ape3ZhciBmPWEuc3VwcG9ydC50cmFuc2l0aW9uJiZlO2lmKHRoaXMuJGJhY2tkcm9wPWEoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSkuYWRkQ2xhc3MoXCJtb2RhbC1iYWNrZHJvcCBcIitlKS5hcHBlbmRUbyh0aGlzLiRib2R5KSx0aGlzLiRlbGVtZW50Lm9uKFwiY2xpY2suZGlzbWlzcy5icy5tb2RhbFwiLGEucHJveHkoZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaWdub3JlQmFja2Ryb3BDbGljaz92b2lkKHRoaXMuaWdub3JlQmFja2Ryb3BDbGljaz0hMSk6dm9pZChhLnRhcmdldD09PWEuY3VycmVudFRhcmdldCYmKFwic3RhdGljXCI9PXRoaXMub3B0aW9ucy5iYWNrZHJvcD90aGlzLiRlbGVtZW50WzBdLmZvY3VzKCk6dGhpcy5oaWRlKCkpKX0sdGhpcykpLGYmJnRoaXMuJGJhY2tkcm9wWzBdLm9mZnNldFdpZHRoLHRoaXMuJGJhY2tkcm9wLmFkZENsYXNzKFwiaW5cIiksIWIpcmV0dXJuO2Y/dGhpcy4kYmFja2Ryb3Aub25lKFwiYnNUcmFuc2l0aW9uRW5kXCIsYikuZW11bGF0ZVRyYW5zaXRpb25FbmQoYy5CQUNLRFJPUF9UUkFOU0lUSU9OX0RVUkFUSU9OKTpiKCl9ZWxzZSBpZighdGhpcy5pc1Nob3duJiZ0aGlzLiRiYWNrZHJvcCl7dGhpcy4kYmFja2Ryb3AucmVtb3ZlQ2xhc3MoXCJpblwiKTt2YXIgZz1mdW5jdGlvbigpe2QucmVtb3ZlQmFja2Ryb3AoKSxiJiZiKCl9O2Euc3VwcG9ydC50cmFuc2l0aW9uJiZ0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKFwiZmFkZVwiKT90aGlzLiRiYWNrZHJvcC5vbmUoXCJic1RyYW5zaXRpb25FbmRcIixnKS5lbXVsYXRlVHJhbnNpdGlvbkVuZChjLkJBQ0tEUk9QX1RSQU5TSVRJT05fRFVSQVRJT04pOmcoKX1lbHNlIGImJmIoKX0sYy5wcm90b3R5cGUuaGFuZGxlVXBkYXRlPWZ1bmN0aW9uKCl7dGhpcy5hZGp1c3REaWFsb2coKX0sYy5wcm90b3R5cGUuYWRqdXN0RGlhbG9nPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy4kZWxlbWVudFswXS5zY3JvbGxIZWlnaHQ+ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDt0aGlzLiRlbGVtZW50LmNzcyh7cGFkZGluZ0xlZnQ6IXRoaXMuYm9keUlzT3ZlcmZsb3dpbmcmJmE/dGhpcy5zY3JvbGxiYXJXaWR0aDpcIlwiLHBhZGRpbmdSaWdodDp0aGlzLmJvZHlJc092ZXJmbG93aW5nJiYhYT90aGlzLnNjcm9sbGJhcldpZHRoOlwiXCJ9KX0sYy5wcm90b3R5cGUucmVzZXRBZGp1c3RtZW50cz1mdW5jdGlvbigpe3RoaXMuJGVsZW1lbnQuY3NzKHtwYWRkaW5nTGVmdDpcIlwiLHBhZGRpbmdSaWdodDpcIlwifSl9LGMucHJvdG90eXBlLmNoZWNrU2Nyb2xsYmFyPWZ1bmN0aW9uKCl7dmFyIGE9d2luZG93LmlubmVyV2lkdGg7aWYoIWEpe3ZhciBiPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTthPWIucmlnaHQtTWF0aC5hYnMoYi5sZWZ0KX10aGlzLmJvZHlJc092ZXJmbG93aW5nPWRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGg8YSx0aGlzLnNjcm9sbGJhcldpZHRoPXRoaXMubWVhc3VyZVNjcm9sbGJhcigpfSxjLnByb3RvdHlwZS5zZXRTY3JvbGxiYXI9ZnVuY3Rpb24oKXt2YXIgYT1wYXJzZUludCh0aGlzLiRib2R5LmNzcyhcInBhZGRpbmctcmlnaHRcIil8fDAsMTApO3RoaXMub3JpZ2luYWxCb2R5UGFkPWRvY3VtZW50LmJvZHkuc3R5bGUucGFkZGluZ1JpZ2h0fHxcIlwiLHRoaXMuYm9keUlzT3ZlcmZsb3dpbmcmJnRoaXMuJGJvZHkuY3NzKFwicGFkZGluZy1yaWdodFwiLGErdGhpcy5zY3JvbGxiYXJXaWR0aCl9LGMucHJvdG90eXBlLnJlc2V0U2Nyb2xsYmFyPWZ1bmN0aW9uKCl7dGhpcy4kYm9keS5jc3MoXCJwYWRkaW5nLXJpZ2h0XCIsdGhpcy5vcmlnaW5hbEJvZHlQYWQpfSxjLnByb3RvdHlwZS5tZWFzdXJlU2Nyb2xsYmFyPWZ1bmN0aW9uKCl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTthLmNsYXNzTmFtZT1cIm1vZGFsLXNjcm9sbGJhci1tZWFzdXJlXCIsdGhpcy4kYm9keS5hcHBlbmQoYSk7dmFyIGI9YS5vZmZzZXRXaWR0aC1hLmNsaWVudFdpZHRoO3JldHVybiB0aGlzLiRib2R5WzBdLnJlbW92ZUNoaWxkKGEpLGJ9O3ZhciBkPWEuZm4ubW9kYWw7YS5mbi5tb2RhbD1iLGEuZm4ubW9kYWwuQ29uc3RydWN0b3I9YyxhLmZuLm1vZGFsLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gYS5mbi5tb2RhbD1kLHRoaXN9LGEoZG9jdW1lbnQpLm9uKFwiY2xpY2suYnMubW9kYWwuZGF0YS1hcGlcIiwnW2RhdGEtdG9nZ2xlPVwibW9kYWxcIl0nLGZ1bmN0aW9uKGMpe3ZhciBkPWEodGhpcyksZT1kLmF0dHIoXCJocmVmXCIpLGY9YShkLmF0dHIoXCJkYXRhLXRhcmdldFwiKXx8ZSYmZS5yZXBsYWNlKC8uKig/PSNbXlxcc10rJCkvLFwiXCIpKSxnPWYuZGF0YShcImJzLm1vZGFsXCIpP1widG9nZ2xlXCI6YS5leHRlbmQoe3JlbW90ZTohLyMvLnRlc3QoZSkmJmV9LGYuZGF0YSgpLGQuZGF0YSgpKTtkLmlzKFwiYVwiKSYmYy5wcmV2ZW50RGVmYXVsdCgpLGYub25lKFwic2hvdy5icy5tb2RhbFwiLGZ1bmN0aW9uKGEpe2EuaXNEZWZhdWx0UHJldmVudGVkKCl8fGYub25lKFwiaGlkZGVuLmJzLm1vZGFsXCIsZnVuY3Rpb24oKXtkLmlzKFwiOnZpc2libGVcIikmJmQudHJpZ2dlcihcImZvY3VzXCIpfSl9KSxiLmNhbGwoZixnLHRoaXMpfSl9KGpRdWVyeSksK2Z1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGIoYil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBkPWEodGhpcyksZT1kLmRhdGEoXCJicy50b29sdGlwXCIpLGY9XCJvYmplY3RcIj09dHlwZW9mIGImJmI7IWUmJi9kZXN0cm95fGhpZGUvLnRlc3QoYil8fChlfHxkLmRhdGEoXCJicy50b29sdGlwXCIsZT1uZXcgYyh0aGlzLGYpKSxcInN0cmluZ1wiPT10eXBlb2YgYiYmZVtiXSgpKX0pfXZhciBjPWZ1bmN0aW9uKGEsYil7dGhpcy50eXBlPW51bGwsdGhpcy5vcHRpb25zPW51bGwsdGhpcy5lbmFibGVkPW51bGwsdGhpcy50aW1lb3V0PW51bGwsdGhpcy5ob3ZlclN0YXRlPW51bGwsdGhpcy4kZWxlbWVudD1udWxsLHRoaXMuaW5TdGF0ZT1udWxsLHRoaXMuaW5pdChcInRvb2x0aXBcIixhLGIpfTtjLlZFUlNJT049XCIzLjMuN1wiLGMuVFJBTlNJVElPTl9EVVJBVElPTj0xNTAsYy5ERUZBVUxUUz17YW5pbWF0aW9uOiEwLHBsYWNlbWVudDpcInRvcFwiLHNlbGVjdG9yOiExLHRlbXBsYXRlOic8ZGl2IGNsYXNzPVwidG9vbHRpcFwiIHJvbGU9XCJ0b29sdGlwXCI+PGRpdiBjbGFzcz1cInRvb2x0aXAtYXJyb3dcIj48L2Rpdj48ZGl2IGNsYXNzPVwidG9vbHRpcC1pbm5lclwiPjwvZGl2PjwvZGl2PicsdHJpZ2dlcjpcImhvdmVyIGZvY3VzXCIsdGl0bGU6XCJcIixkZWxheTowLGh0bWw6ITEsY29udGFpbmVyOiExLHZpZXdwb3J0OntzZWxlY3RvcjpcImJvZHlcIixwYWRkaW5nOjB9fSxjLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGIsYyxkKXtpZih0aGlzLmVuYWJsZWQ9ITAsdGhpcy50eXBlPWIsdGhpcy4kZWxlbWVudD1hKGMpLHRoaXMub3B0aW9ucz10aGlzLmdldE9wdGlvbnMoZCksdGhpcy4kdmlld3BvcnQ9dGhpcy5vcHRpb25zLnZpZXdwb3J0JiZhKGEuaXNGdW5jdGlvbih0aGlzLm9wdGlvbnMudmlld3BvcnQpP3RoaXMub3B0aW9ucy52aWV3cG9ydC5jYWxsKHRoaXMsdGhpcy4kZWxlbWVudCk6dGhpcy5vcHRpb25zLnZpZXdwb3J0LnNlbGVjdG9yfHx0aGlzLm9wdGlvbnMudmlld3BvcnQpLHRoaXMuaW5TdGF0ZT17Y2xpY2s6ITEsaG92ZXI6ITEsZm9jdXM6ITF9LHRoaXMuJGVsZW1lbnRbMF1pbnN0YW5jZW9mIGRvY3VtZW50LmNvbnN0cnVjdG9yJiYhdGhpcy5vcHRpb25zLnNlbGVjdG9yKXRocm93IG5ldyBFcnJvcihcImBzZWxlY3RvcmAgb3B0aW9uIG11c3QgYmUgc3BlY2lmaWVkIHdoZW4gaW5pdGlhbGl6aW5nIFwiK3RoaXMudHlwZStcIiBvbiB0aGUgd2luZG93LmRvY3VtZW50IG9iamVjdCFcIik7Zm9yKHZhciBlPXRoaXMub3B0aW9ucy50cmlnZ2VyLnNwbGl0KFwiIFwiKSxmPWUubGVuZ3RoO2YtLTspe3ZhciBnPWVbZl07aWYoXCJjbGlja1wiPT1nKXRoaXMuJGVsZW1lbnQub24oXCJjbGljay5cIit0aGlzLnR5cGUsdGhpcy5vcHRpb25zLnNlbGVjdG9yLGEucHJveHkodGhpcy50b2dnbGUsdGhpcykpO2Vsc2UgaWYoXCJtYW51YWxcIiE9Zyl7dmFyIGg9XCJob3ZlclwiPT1nP1wibW91c2VlbnRlclwiOlwiZm9jdXNpblwiLGk9XCJob3ZlclwiPT1nP1wibW91c2VsZWF2ZVwiOlwiZm9jdXNvdXRcIjt0aGlzLiRlbGVtZW50Lm9uKGgrXCIuXCIrdGhpcy50eXBlLHRoaXMub3B0aW9ucy5zZWxlY3RvcixhLnByb3h5KHRoaXMuZW50ZXIsdGhpcykpLHRoaXMuJGVsZW1lbnQub24oaStcIi5cIit0aGlzLnR5cGUsdGhpcy5vcHRpb25zLnNlbGVjdG9yLGEucHJveHkodGhpcy5sZWF2ZSx0aGlzKSl9fXRoaXMub3B0aW9ucy5zZWxlY3Rvcj90aGlzLl9vcHRpb25zPWEuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyx7dHJpZ2dlcjpcIm1hbnVhbFwiLHNlbGVjdG9yOlwiXCJ9KTp0aGlzLmZpeFRpdGxlKCl9LGMucHJvdG90eXBlLmdldERlZmF1bHRzPWZ1bmN0aW9uKCl7cmV0dXJuIGMuREVGQVVMVFN9LGMucHJvdG90eXBlLmdldE9wdGlvbnM9ZnVuY3Rpb24oYil7cmV0dXJuIGI9YS5leHRlbmQoe30sdGhpcy5nZXREZWZhdWx0cygpLHRoaXMuJGVsZW1lbnQuZGF0YSgpLGIpLGIuZGVsYXkmJlwibnVtYmVyXCI9PXR5cGVvZiBiLmRlbGF5JiYoYi5kZWxheT17c2hvdzpiLmRlbGF5LGhpZGU6Yi5kZWxheX0pLGJ9LGMucHJvdG90eXBlLmdldERlbGVnYXRlT3B0aW9ucz1mdW5jdGlvbigpe3ZhciBiPXt9LGM9dGhpcy5nZXREZWZhdWx0cygpO3JldHVybiB0aGlzLl9vcHRpb25zJiZhLmVhY2godGhpcy5fb3B0aW9ucyxmdW5jdGlvbihhLGQpe2NbYV0hPWQmJihiW2FdPWQpfSksYn0sYy5wcm90b3R5cGUuZW50ZXI9ZnVuY3Rpb24oYil7dmFyIGM9YiBpbnN0YW5jZW9mIHRoaXMuY29uc3RydWN0b3I/YjphKGIuY3VycmVudFRhcmdldCkuZGF0YShcImJzLlwiK3RoaXMudHlwZSk7cmV0dXJuIGN8fChjPW5ldyB0aGlzLmNvbnN0cnVjdG9yKGIuY3VycmVudFRhcmdldCx0aGlzLmdldERlbGVnYXRlT3B0aW9ucygpKSxhKGIuY3VycmVudFRhcmdldCkuZGF0YShcImJzLlwiK3RoaXMudHlwZSxjKSksYiBpbnN0YW5jZW9mIGEuRXZlbnQmJihjLmluU3RhdGVbXCJmb2N1c2luXCI9PWIudHlwZT9cImZvY3VzXCI6XCJob3ZlclwiXT0hMCksYy50aXAoKS5oYXNDbGFzcyhcImluXCIpfHxcImluXCI9PWMuaG92ZXJTdGF0ZT92b2lkKGMuaG92ZXJTdGF0ZT1cImluXCIpOihjbGVhclRpbWVvdXQoYy50aW1lb3V0KSxjLmhvdmVyU3RhdGU9XCJpblwiLGMub3B0aW9ucy5kZWxheSYmYy5vcHRpb25zLmRlbGF5LnNob3c/dm9pZChjLnRpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbigpe1wiaW5cIj09Yy5ob3ZlclN0YXRlJiZjLnNob3coKX0sYy5vcHRpb25zLmRlbGF5LnNob3cpKTpjLnNob3coKSl9LGMucHJvdG90eXBlLmlzSW5TdGF0ZVRydWU9ZnVuY3Rpb24oKXtmb3IodmFyIGEgaW4gdGhpcy5pblN0YXRlKWlmKHRoaXMuaW5TdGF0ZVthXSlyZXR1cm4hMDtyZXR1cm4hMX0sYy5wcm90b3R5cGUubGVhdmU9ZnVuY3Rpb24oYil7dmFyIGM9YiBpbnN0YW5jZW9mIHRoaXMuY29uc3RydWN0b3I/YjphKGIuY3VycmVudFRhcmdldCkuZGF0YShcImJzLlwiK3RoaXMudHlwZSk7aWYoY3x8KGM9bmV3IHRoaXMuY29uc3RydWN0b3IoYi5jdXJyZW50VGFyZ2V0LHRoaXMuZ2V0RGVsZWdhdGVPcHRpb25zKCkpLGEoYi5jdXJyZW50VGFyZ2V0KS5kYXRhKFwiYnMuXCIrdGhpcy50eXBlLGMpKSxiIGluc3RhbmNlb2YgYS5FdmVudCYmKGMuaW5TdGF0ZVtcImZvY3Vzb3V0XCI9PWIudHlwZT9cImZvY3VzXCI6XCJob3ZlclwiXT0hMSksIWMuaXNJblN0YXRlVHJ1ZSgpKXJldHVybiBjbGVhclRpbWVvdXQoYy50aW1lb3V0KSxjLmhvdmVyU3RhdGU9XCJvdXRcIixjLm9wdGlvbnMuZGVsYXkmJmMub3B0aW9ucy5kZWxheS5oaWRlP3ZvaWQoYy50aW1lb3V0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXtcIm91dFwiPT1jLmhvdmVyU3RhdGUmJmMuaGlkZSgpfSxjLm9wdGlvbnMuZGVsYXkuaGlkZSkpOmMuaGlkZSgpfSxjLnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKCl7dmFyIGI9YS5FdmVudChcInNob3cuYnMuXCIrdGhpcy50eXBlKTtpZih0aGlzLmhhc0NvbnRlbnQoKSYmdGhpcy5lbmFibGVkKXt0aGlzLiRlbGVtZW50LnRyaWdnZXIoYik7dmFyIGQ9YS5jb250YWlucyh0aGlzLiRlbGVtZW50WzBdLm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LHRoaXMuJGVsZW1lbnRbMF0pO2lmKGIuaXNEZWZhdWx0UHJldmVudGVkKCl8fCFkKXJldHVybjt2YXIgZT10aGlzLGY9dGhpcy50aXAoKSxnPXRoaXMuZ2V0VUlEKHRoaXMudHlwZSk7dGhpcy5zZXRDb250ZW50KCksZi5hdHRyKFwiaWRcIixnKSx0aGlzLiRlbGVtZW50LmF0dHIoXCJhcmlhLWRlc2NyaWJlZGJ5XCIsZyksdGhpcy5vcHRpb25zLmFuaW1hdGlvbiYmZi5hZGRDbGFzcyhcImZhZGVcIik7dmFyIGg9XCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5vcHRpb25zLnBsYWNlbWVudD90aGlzLm9wdGlvbnMucGxhY2VtZW50LmNhbGwodGhpcyxmWzBdLHRoaXMuJGVsZW1lbnRbMF0pOnRoaXMub3B0aW9ucy5wbGFjZW1lbnQsaT0vXFxzP2F1dG8/XFxzPy9pLGo9aS50ZXN0KGgpO2omJihoPWgucmVwbGFjZShpLFwiXCIpfHxcInRvcFwiKSxmLmRldGFjaCgpLmNzcyh7dG9wOjAsbGVmdDowLGRpc3BsYXk6XCJibG9ja1wifSkuYWRkQ2xhc3MoaCkuZGF0YShcImJzLlwiK3RoaXMudHlwZSx0aGlzKSx0aGlzLm9wdGlvbnMuY29udGFpbmVyP2YuYXBwZW5kVG8odGhpcy5vcHRpb25zLmNvbnRhaW5lcik6Zi5pbnNlcnRBZnRlcih0aGlzLiRlbGVtZW50KSx0aGlzLiRlbGVtZW50LnRyaWdnZXIoXCJpbnNlcnRlZC5icy5cIit0aGlzLnR5cGUpO3ZhciBrPXRoaXMuZ2V0UG9zaXRpb24oKSxsPWZbMF0ub2Zmc2V0V2lkdGgsbT1mWzBdLm9mZnNldEhlaWdodDtpZihqKXt2YXIgbj1oLG89dGhpcy5nZXRQb3NpdGlvbih0aGlzLiR2aWV3cG9ydCk7aD1cImJvdHRvbVwiPT1oJiZrLmJvdHRvbSttPm8uYm90dG9tP1widG9wXCI6XCJ0b3BcIj09aCYmay50b3AtbTxvLnRvcD9cImJvdHRvbVwiOlwicmlnaHRcIj09aCYmay5yaWdodCtsPm8ud2lkdGg/XCJsZWZ0XCI6XCJsZWZ0XCI9PWgmJmsubGVmdC1sPG8ubGVmdD9cInJpZ2h0XCI6aCxmLnJlbW92ZUNsYXNzKG4pLmFkZENsYXNzKGgpfXZhciBwPXRoaXMuZ2V0Q2FsY3VsYXRlZE9mZnNldChoLGssbCxtKTt0aGlzLmFwcGx5UGxhY2VtZW50KHAsaCk7dmFyIHE9ZnVuY3Rpb24oKXt2YXIgYT1lLmhvdmVyU3RhdGU7ZS4kZWxlbWVudC50cmlnZ2VyKFwic2hvd24uYnMuXCIrZS50eXBlKSxlLmhvdmVyU3RhdGU9bnVsbCxcIm91dFwiPT1hJiZlLmxlYXZlKGUpfTthLnN1cHBvcnQudHJhbnNpdGlvbiYmdGhpcy4kdGlwLmhhc0NsYXNzKFwiZmFkZVwiKT9mLm9uZShcImJzVHJhbnNpdGlvbkVuZFwiLHEpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKGMuVFJBTlNJVElPTl9EVVJBVElPTik6cSgpfX0sYy5wcm90b3R5cGUuYXBwbHlQbGFjZW1lbnQ9ZnVuY3Rpb24oYixjKXt2YXIgZD10aGlzLnRpcCgpLGU9ZFswXS5vZmZzZXRXaWR0aCxmPWRbMF0ub2Zmc2V0SGVpZ2h0LGc9cGFyc2VJbnQoZC5jc3MoXCJtYXJnaW4tdG9wXCIpLDEwKSxoPXBhcnNlSW50KGQuY3NzKFwibWFyZ2luLWxlZnRcIiksMTApO2lzTmFOKGcpJiYoZz0wKSxpc05hTihoKSYmKGg9MCksYi50b3ArPWcsYi5sZWZ0Kz1oLGEub2Zmc2V0LnNldE9mZnNldChkWzBdLGEuZXh0ZW5kKHt1c2luZzpmdW5jdGlvbihhKXtkLmNzcyh7dG9wOk1hdGgucm91bmQoYS50b3ApLGxlZnQ6TWF0aC5yb3VuZChhLmxlZnQpfSl9fSxiKSwwKSxkLmFkZENsYXNzKFwiaW5cIik7dmFyIGk9ZFswXS5vZmZzZXRXaWR0aCxqPWRbMF0ub2Zmc2V0SGVpZ2h0O1widG9wXCI9PWMmJmohPWYmJihiLnRvcD1iLnRvcCtmLWopO3ZhciBrPXRoaXMuZ2V0Vmlld3BvcnRBZGp1c3RlZERlbHRhKGMsYixpLGopO2subGVmdD9iLmxlZnQrPWsubGVmdDpiLnRvcCs9ay50b3A7dmFyIGw9L3RvcHxib3R0b20vLnRlc3QoYyksbT1sPzIqay5sZWZ0LWUraToyKmsudG9wLWYraixuPWw/XCJvZmZzZXRXaWR0aFwiOlwib2Zmc2V0SGVpZ2h0XCI7ZC5vZmZzZXQoYiksdGhpcy5yZXBsYWNlQXJyb3cobSxkWzBdW25dLGwpfSxjLnByb3RvdHlwZS5yZXBsYWNlQXJyb3c9ZnVuY3Rpb24oYSxiLGMpe3RoaXMuYXJyb3coKS5jc3MoYz9cImxlZnRcIjpcInRvcFwiLDUwKigxLWEvYikrXCIlXCIpLmNzcyhjP1widG9wXCI6XCJsZWZ0XCIsXCJcIil9LGMucHJvdG90eXBlLnNldENvbnRlbnQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnRpcCgpLGI9dGhpcy5nZXRUaXRsZSgpO2EuZmluZChcIi50b29sdGlwLWlubmVyXCIpW3RoaXMub3B0aW9ucy5odG1sP1wiaHRtbFwiOlwidGV4dFwiXShiKSxhLnJlbW92ZUNsYXNzKFwiZmFkZSBpbiB0b3AgYm90dG9tIGxlZnQgcmlnaHRcIil9LGMucHJvdG90eXBlLmhpZGU9ZnVuY3Rpb24oYil7ZnVuY3Rpb24gZCgpe1wiaW5cIiE9ZS5ob3ZlclN0YXRlJiZmLmRldGFjaCgpLGUuJGVsZW1lbnQmJmUuJGVsZW1lbnQucmVtb3ZlQXR0cihcImFyaWEtZGVzY3JpYmVkYnlcIikudHJpZ2dlcihcImhpZGRlbi5icy5cIitlLnR5cGUpLGImJmIoKX12YXIgZT10aGlzLGY9YSh0aGlzLiR0aXApLGc9YS5FdmVudChcImhpZGUuYnMuXCIrdGhpcy50eXBlKTtpZih0aGlzLiRlbGVtZW50LnRyaWdnZXIoZyksIWcuaXNEZWZhdWx0UHJldmVudGVkKCkpcmV0dXJuIGYucmVtb3ZlQ2xhc3MoXCJpblwiKSxhLnN1cHBvcnQudHJhbnNpdGlvbiYmZi5oYXNDbGFzcyhcImZhZGVcIik/Zi5vbmUoXCJic1RyYW5zaXRpb25FbmRcIixkKS5lbXVsYXRlVHJhbnNpdGlvbkVuZChjLlRSQU5TSVRJT05fRFVSQVRJT04pOmQoKSx0aGlzLmhvdmVyU3RhdGU9bnVsbCx0aGlzfSxjLnByb3RvdHlwZS5maXhUaXRsZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuJGVsZW1lbnQ7KGEuYXR0cihcInRpdGxlXCIpfHxcInN0cmluZ1wiIT10eXBlb2YgYS5hdHRyKFwiZGF0YS1vcmlnaW5hbC10aXRsZVwiKSkmJmEuYXR0cihcImRhdGEtb3JpZ2luYWwtdGl0bGVcIixhLmF0dHIoXCJ0aXRsZVwiKXx8XCJcIikuYXR0cihcInRpdGxlXCIsXCJcIil9LGMucHJvdG90eXBlLmhhc0NvbnRlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRUaXRsZSgpfSxjLnByb3RvdHlwZS5nZXRQb3NpdGlvbj1mdW5jdGlvbihiKXtiPWJ8fHRoaXMuJGVsZW1lbnQ7dmFyIGM9YlswXSxkPVwiQk9EWVwiPT1jLnRhZ05hbWUsZT1jLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO251bGw9PWUud2lkdGgmJihlPWEuZXh0ZW5kKHt9LGUse3dpZHRoOmUucmlnaHQtZS5sZWZ0LGhlaWdodDplLmJvdHRvbS1lLnRvcH0pKTt2YXIgZj13aW5kb3cuU1ZHRWxlbWVudCYmYyBpbnN0YW5jZW9mIHdpbmRvdy5TVkdFbGVtZW50LGc9ZD97dG9wOjAsbGVmdDowfTpmP251bGw6Yi5vZmZzZXQoKSxoPXtzY3JvbGw6ZD9kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wfHxkb2N1bWVudC5ib2R5LnNjcm9sbFRvcDpiLnNjcm9sbFRvcCgpfSxpPWQ/e3dpZHRoOmEod2luZG93KS53aWR0aCgpLGhlaWdodDphKHdpbmRvdykuaGVpZ2h0KCl9Om51bGw7cmV0dXJuIGEuZXh0ZW5kKHt9LGUsaCxpLGcpfSxjLnByb3RvdHlwZS5nZXRDYWxjdWxhdGVkT2Zmc2V0PWZ1bmN0aW9uKGEsYixjLGQpe3JldHVyblwiYm90dG9tXCI9PWE/e3RvcDpiLnRvcCtiLmhlaWdodCxsZWZ0OmIubGVmdCtiLndpZHRoLzItYy8yfTpcInRvcFwiPT1hP3t0b3A6Yi50b3AtZCxsZWZ0OmIubGVmdCtiLndpZHRoLzItYy8yfTpcImxlZnRcIj09YT97dG9wOmIudG9wK2IuaGVpZ2h0LzItZC8yLGxlZnQ6Yi5sZWZ0LWN9Ont0b3A6Yi50b3ArYi5oZWlnaHQvMi1kLzIsbGVmdDpiLmxlZnQrYi53aWR0aH19LGMucHJvdG90eXBlLmdldFZpZXdwb3J0QWRqdXN0ZWREZWx0YT1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT17dG9wOjAsbGVmdDowfTtpZighdGhpcy4kdmlld3BvcnQpcmV0dXJuIGU7dmFyIGY9dGhpcy5vcHRpb25zLnZpZXdwb3J0JiZ0aGlzLm9wdGlvbnMudmlld3BvcnQucGFkZGluZ3x8MCxnPXRoaXMuZ2V0UG9zaXRpb24odGhpcy4kdmlld3BvcnQpO2lmKC9yaWdodHxsZWZ0Ly50ZXN0KGEpKXt2YXIgaD1iLnRvcC1mLWcuc2Nyb2xsLGk9Yi50b3ArZi1nLnNjcm9sbCtkO2g8Zy50b3A/ZS50b3A9Zy50b3AtaDppPmcudG9wK2cuaGVpZ2h0JiYoZS50b3A9Zy50b3ArZy5oZWlnaHQtaSl9ZWxzZXt2YXIgaj1iLmxlZnQtZixrPWIubGVmdCtmK2M7ajxnLmxlZnQ/ZS5sZWZ0PWcubGVmdC1qOms+Zy5yaWdodCYmKGUubGVmdD1nLmxlZnQrZy53aWR0aC1rKX1yZXR1cm4gZX0sYy5wcm90b3R5cGUuZ2V0VGl0bGU9ZnVuY3Rpb24oKXt2YXIgYSxiPXRoaXMuJGVsZW1lbnQsYz10aGlzLm9wdGlvbnM7cmV0dXJuIGE9Yi5hdHRyKFwiZGF0YS1vcmlnaW5hbC10aXRsZVwiKXx8KFwiZnVuY3Rpb25cIj09dHlwZW9mIGMudGl0bGU/Yy50aXRsZS5jYWxsKGJbMF0pOmMudGl0bGUpfSxjLnByb3RvdHlwZS5nZXRVSUQ9ZnVuY3Rpb24oYSl7ZG8gYSs9fn4oMWU2Kk1hdGgucmFuZG9tKCkpO3doaWxlKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGEpKTtyZXR1cm4gYX0sYy5wcm90b3R5cGUudGlwPWZ1bmN0aW9uKCl7aWYoIXRoaXMuJHRpcCYmKHRoaXMuJHRpcD1hKHRoaXMub3B0aW9ucy50ZW1wbGF0ZSksMSE9dGhpcy4kdGlwLmxlbmd0aCkpdGhyb3cgbmV3IEVycm9yKHRoaXMudHlwZStcIiBgdGVtcGxhdGVgIG9wdGlvbiBtdXN0IGNvbnNpc3Qgb2YgZXhhY3RseSAxIHRvcC1sZXZlbCBlbGVtZW50IVwiKTtyZXR1cm4gdGhpcy4kdGlwfSxjLnByb3RvdHlwZS5hcnJvdz1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRhcnJvdz10aGlzLiRhcnJvd3x8dGhpcy50aXAoKS5maW5kKFwiLnRvb2x0aXAtYXJyb3dcIil9LGMucHJvdG90eXBlLmVuYWJsZT1mdW5jdGlvbigpe3RoaXMuZW5hYmxlZD0hMH0sYy5wcm90b3R5cGUuZGlzYWJsZT1mdW5jdGlvbigpe3RoaXMuZW5hYmxlZD0hMX0sYy5wcm90b3R5cGUudG9nZ2xlRW5hYmxlZD1mdW5jdGlvbigpe3RoaXMuZW5hYmxlZD0hdGhpcy5lbmFibGVkfSxjLnByb3RvdHlwZS50b2dnbGU9ZnVuY3Rpb24oYil7dmFyIGM9dGhpcztiJiYoYz1hKGIuY3VycmVudFRhcmdldCkuZGF0YShcImJzLlwiK3RoaXMudHlwZSksY3x8KGM9bmV3IHRoaXMuY29uc3RydWN0b3IoYi5jdXJyZW50VGFyZ2V0LHRoaXMuZ2V0RGVsZWdhdGVPcHRpb25zKCkpLGEoYi5jdXJyZW50VGFyZ2V0KS5kYXRhKFwiYnMuXCIrdGhpcy50eXBlLGMpKSksYj8oYy5pblN0YXRlLmNsaWNrPSFjLmluU3RhdGUuY2xpY2ssYy5pc0luU3RhdGVUcnVlKCk/Yy5lbnRlcihjKTpjLmxlYXZlKGMpKTpjLnRpcCgpLmhhc0NsYXNzKFwiaW5cIik/Yy5sZWF2ZShjKTpjLmVudGVyKGMpfSxjLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcztjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KSx0aGlzLmhpZGUoZnVuY3Rpb24oKXthLiRlbGVtZW50Lm9mZihcIi5cIithLnR5cGUpLnJlbW92ZURhdGEoXCJicy5cIithLnR5cGUpLGEuJHRpcCYmYS4kdGlwLmRldGFjaCgpLGEuJHRpcD1udWxsLGEuJGFycm93PW51bGwsYS4kdmlld3BvcnQ9bnVsbCxhLiRlbGVtZW50PW51bGx9KX07dmFyIGQ9YS5mbi50b29sdGlwO2EuZm4udG9vbHRpcD1iLGEuZm4udG9vbHRpcC5Db25zdHJ1Y3Rvcj1jLGEuZm4udG9vbHRpcC5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIGEuZm4udG9vbHRpcD1kLHRoaXN9fShqUXVlcnkpLCtmdW5jdGlvbihhKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBiKGIpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZD1hKHRoaXMpLGU9ZC5kYXRhKFwiYnMucG9wb3ZlclwiKSxmPVwib2JqZWN0XCI9PXR5cGVvZiBiJiZiOyFlJiYvZGVzdHJveXxoaWRlLy50ZXN0KGIpfHwoZXx8ZC5kYXRhKFwiYnMucG9wb3ZlclwiLGU9bmV3IGModGhpcyxmKSksXCJzdHJpbmdcIj09dHlwZW9mIGImJmVbYl0oKSl9KX12YXIgYz1mdW5jdGlvbihhLGIpe3RoaXMuaW5pdChcInBvcG92ZXJcIixhLGIpfTtpZighYS5mbi50b29sdGlwKXRocm93IG5ldyBFcnJvcihcIlBvcG92ZXIgcmVxdWlyZXMgdG9vbHRpcC5qc1wiKTtjLlZFUlNJT049XCIzLjMuN1wiLGMuREVGQVVMVFM9YS5leHRlbmQoe30sYS5mbi50b29sdGlwLkNvbnN0cnVjdG9yLkRFRkFVTFRTLHtwbGFjZW1lbnQ6XCJyaWdodFwiLHRyaWdnZXI6XCJjbGlja1wiLGNvbnRlbnQ6XCJcIix0ZW1wbGF0ZTonPGRpdiBjbGFzcz1cInBvcG92ZXJcIiByb2xlPVwidG9vbHRpcFwiPjxkaXYgY2xhc3M9XCJhcnJvd1wiPjwvZGl2PjxoMyBjbGFzcz1cInBvcG92ZXItdGl0bGVcIj48L2gzPjxkaXYgY2xhc3M9XCJwb3BvdmVyLWNvbnRlbnRcIj48L2Rpdj48L2Rpdj4nfSksYy5wcm90b3R5cGU9YS5leHRlbmQoe30sYS5mbi50b29sdGlwLkNvbnN0cnVjdG9yLnByb3RvdHlwZSksYy5wcm90b3R5cGUuY29uc3RydWN0b3I9YyxjLnByb3RvdHlwZS5nZXREZWZhdWx0cz1mdW5jdGlvbigpe3JldHVybiBjLkRFRkFVTFRTfSxjLnByb3RvdHlwZS5zZXRDb250ZW50PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy50aXAoKSxiPXRoaXMuZ2V0VGl0bGUoKSxjPXRoaXMuZ2V0Q29udGVudCgpO2EuZmluZChcIi5wb3BvdmVyLXRpdGxlXCIpW3RoaXMub3B0aW9ucy5odG1sP1wiaHRtbFwiOlwidGV4dFwiXShiKSxhLmZpbmQoXCIucG9wb3Zlci1jb250ZW50XCIpLmNoaWxkcmVuKCkuZGV0YWNoKCkuZW5kKClbdGhpcy5vcHRpb25zLmh0bWw/XCJzdHJpbmdcIj09dHlwZW9mIGM/XCJodG1sXCI6XCJhcHBlbmRcIjpcInRleHRcIl0oYyksYS5yZW1vdmVDbGFzcyhcImZhZGUgdG9wIGJvdHRvbSBsZWZ0IHJpZ2h0IGluXCIpLGEuZmluZChcIi5wb3BvdmVyLXRpdGxlXCIpLmh0bWwoKXx8YS5maW5kKFwiLnBvcG92ZXItdGl0bGVcIikuaGlkZSgpfSxjLnByb3RvdHlwZS5oYXNDb250ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0VGl0bGUoKXx8dGhpcy5nZXRDb250ZW50KCl9LGMucHJvdG90eXBlLmdldENvbnRlbnQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLiRlbGVtZW50LGI9dGhpcy5vcHRpb25zO3JldHVybiBhLmF0dHIoXCJkYXRhLWNvbnRlbnRcIil8fChcImZ1bmN0aW9uXCI9PXR5cGVvZiBiLmNvbnRlbnQ/Yi5jb250ZW50LmNhbGwoYVswXSk6Yi5jb250ZW50KX0sYy5wcm90b3R5cGUuYXJyb3c9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kYXJyb3c9dGhpcy4kYXJyb3d8fHRoaXMudGlwKCkuZmluZChcIi5hcnJvd1wiKX07dmFyIGQ9YS5mbi5wb3BvdmVyO2EuZm4ucG9wb3Zlcj1iLGEuZm4ucG9wb3Zlci5Db25zdHJ1Y3Rvcj1jLGEuZm4ucG9wb3Zlci5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIGEuZm4ucG9wb3Zlcj1kLHRoaXN9fShqUXVlcnkpLCtmdW5jdGlvbihhKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBiKGMsZCl7dGhpcy4kYm9keT1hKGRvY3VtZW50LmJvZHkpLHRoaXMuJHNjcm9sbEVsZW1lbnQ9YShhKGMpLmlzKGRvY3VtZW50LmJvZHkpP3dpbmRvdzpjKSx0aGlzLm9wdGlvbnM9YS5leHRlbmQoe30sYi5ERUZBVUxUUyxkKSx0aGlzLnNlbGVjdG9yPSh0aGlzLm9wdGlvbnMudGFyZ2V0fHxcIlwiKStcIiAubmF2IGxpID4gYVwiLHRoaXMub2Zmc2V0cz1bXSx0aGlzLnRhcmdldHM9W10sdGhpcy5hY3RpdmVUYXJnZXQ9bnVsbCx0aGlzLnNjcm9sbEhlaWdodD0wLHRoaXMuJHNjcm9sbEVsZW1lbnQub24oXCJzY3JvbGwuYnMuc2Nyb2xsc3B5XCIsYS5wcm94eSh0aGlzLnByb2Nlc3MsdGhpcykpLHRoaXMucmVmcmVzaCgpLHRoaXMucHJvY2VzcygpfWZ1bmN0aW9uIGMoYyl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBkPWEodGhpcyksZT1kLmRhdGEoXCJicy5zY3JvbGxzcHlcIiksZj1cIm9iamVjdFwiPT10eXBlb2YgYyYmYztlfHxkLmRhdGEoXCJicy5zY3JvbGxzcHlcIixlPW5ldyBiKHRoaXMsZikpLFwic3RyaW5nXCI9PXR5cGVvZiBjJiZlW2NdKCl9KX1iLlZFUlNJT049XCIzLjMuN1wiLGIuREVGQVVMVFM9e29mZnNldDoxMH0sYi5wcm90b3R5cGUuZ2V0U2Nyb2xsSGVpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJHNjcm9sbEVsZW1lbnRbMF0uc2Nyb2xsSGVpZ2h0fHxNYXRoLm1heCh0aGlzLiRib2R5WzBdLnNjcm9sbEhlaWdodCxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0KX0sYi5wcm90b3R5cGUucmVmcmVzaD1mdW5jdGlvbigpe3ZhciBiPXRoaXMsYz1cIm9mZnNldFwiLGQ9MDt0aGlzLm9mZnNldHM9W10sdGhpcy50YXJnZXRzPVtdLHRoaXMuc2Nyb2xsSGVpZ2h0PXRoaXMuZ2V0U2Nyb2xsSGVpZ2h0KCksYS5pc1dpbmRvdyh0aGlzLiRzY3JvbGxFbGVtZW50WzBdKXx8KGM9XCJwb3NpdGlvblwiLGQ9dGhpcy4kc2Nyb2xsRWxlbWVudC5zY3JvbGxUb3AoKSksdGhpcy4kYm9keS5maW5kKHRoaXMuc2VsZWN0b3IpLm1hcChmdW5jdGlvbigpe3ZhciBiPWEodGhpcyksZT1iLmRhdGEoXCJ0YXJnZXRcIil8fGIuYXR0cihcImhyZWZcIiksZj0vXiMuLy50ZXN0KGUpJiZhKGUpO3JldHVybiBmJiZmLmxlbmd0aCYmZi5pcyhcIjp2aXNpYmxlXCIpJiZbW2ZbY10oKS50b3ArZCxlXV18fG51bGx9KS5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGFbMF0tYlswXX0pLmVhY2goZnVuY3Rpb24oKXtiLm9mZnNldHMucHVzaCh0aGlzWzBdKSxiLnRhcmdldHMucHVzaCh0aGlzWzFdKX0pfSxiLnByb3RvdHlwZS5wcm9jZXNzPWZ1bmN0aW9uKCl7dmFyIGEsYj10aGlzLiRzY3JvbGxFbGVtZW50LnNjcm9sbFRvcCgpK3RoaXMub3B0aW9ucy5vZmZzZXQsYz10aGlzLmdldFNjcm9sbEhlaWdodCgpLGQ9dGhpcy5vcHRpb25zLm9mZnNldCtjLXRoaXMuJHNjcm9sbEVsZW1lbnQuaGVpZ2h0KCksZT10aGlzLm9mZnNldHMsZj10aGlzLnRhcmdldHMsZz10aGlzLmFjdGl2ZVRhcmdldDtpZih0aGlzLnNjcm9sbEhlaWdodCE9YyYmdGhpcy5yZWZyZXNoKCksYj49ZClyZXR1cm4gZyE9KGE9ZltmLmxlbmd0aC0xXSkmJnRoaXMuYWN0aXZhdGUoYSk7aWYoZyYmYjxlWzBdKXJldHVybiB0aGlzLmFjdGl2ZVRhcmdldD1udWxsLHRoaXMuY2xlYXIoKTtmb3IoYT1lLmxlbmd0aDthLS07KWchPWZbYV0mJmI+PWVbYV0mJih2b2lkIDA9PT1lW2ErMV18fGI8ZVthKzFdKSYmdGhpcy5hY3RpdmF0ZShmW2FdKX0sYi5wcm90b3R5cGUuYWN0aXZhdGU9ZnVuY3Rpb24oYil7XHJcbnRoaXMuYWN0aXZlVGFyZ2V0PWIsdGhpcy5jbGVhcigpO3ZhciBjPXRoaXMuc2VsZWN0b3IrJ1tkYXRhLXRhcmdldD1cIicrYisnXCJdLCcrdGhpcy5zZWxlY3RvcisnW2hyZWY9XCInK2IrJ1wiXScsZD1hKGMpLnBhcmVudHMoXCJsaVwiKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtkLnBhcmVudChcIi5kcm9wZG93bi1tZW51XCIpLmxlbmd0aCYmKGQ9ZC5jbG9zZXN0KFwibGkuZHJvcGRvd25cIikuYWRkQ2xhc3MoXCJhY3RpdmVcIikpLGQudHJpZ2dlcihcImFjdGl2YXRlLmJzLnNjcm9sbHNweVwiKX0sYi5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXthKHRoaXMuc2VsZWN0b3IpLnBhcmVudHNVbnRpbCh0aGlzLm9wdGlvbnMudGFyZ2V0LFwiLmFjdGl2ZVwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKX07dmFyIGQ9YS5mbi5zY3JvbGxzcHk7YS5mbi5zY3JvbGxzcHk9YyxhLmZuLnNjcm9sbHNweS5Db25zdHJ1Y3Rvcj1iLGEuZm4uc2Nyb2xsc3B5Lm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gYS5mbi5zY3JvbGxzcHk9ZCx0aGlzfSxhKHdpbmRvdykub24oXCJsb2FkLmJzLnNjcm9sbHNweS5kYXRhLWFwaVwiLGZ1bmN0aW9uKCl7YSgnW2RhdGEtc3B5PVwic2Nyb2xsXCJdJykuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcyk7Yy5jYWxsKGIsYi5kYXRhKCkpfSl9KX0oalF1ZXJ5KSwrZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYihiKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGQ9YSh0aGlzKSxlPWQuZGF0YShcImJzLnRhYlwiKTtlfHxkLmRhdGEoXCJicy50YWJcIixlPW5ldyBjKHRoaXMpKSxcInN0cmluZ1wiPT10eXBlb2YgYiYmZVtiXSgpfSl9dmFyIGM9ZnVuY3Rpb24oYil7dGhpcy5lbGVtZW50PWEoYil9O2MuVkVSU0lPTj1cIjMuMy43XCIsYy5UUkFOU0lUSU9OX0RVUkFUSU9OPTE1MCxjLnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LGM9Yi5jbG9zZXN0KFwidWw6bm90KC5kcm9wZG93bi1tZW51KVwiKSxkPWIuZGF0YShcInRhcmdldFwiKTtpZihkfHwoZD1iLmF0dHIoXCJocmVmXCIpLGQ9ZCYmZC5yZXBsYWNlKC8uKig/PSNbXlxcc10qJCkvLFwiXCIpKSwhYi5wYXJlbnQoXCJsaVwiKS5oYXNDbGFzcyhcImFjdGl2ZVwiKSl7dmFyIGU9Yy5maW5kKFwiLmFjdGl2ZTpsYXN0IGFcIiksZj1hLkV2ZW50KFwiaGlkZS5icy50YWJcIix7cmVsYXRlZFRhcmdldDpiWzBdfSksZz1hLkV2ZW50KFwic2hvdy5icy50YWJcIix7cmVsYXRlZFRhcmdldDplWzBdfSk7aWYoZS50cmlnZ2VyKGYpLGIudHJpZ2dlcihnKSwhZy5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmIWYuaXNEZWZhdWx0UHJldmVudGVkKCkpe3ZhciBoPWEoZCk7dGhpcy5hY3RpdmF0ZShiLmNsb3Nlc3QoXCJsaVwiKSxjKSx0aGlzLmFjdGl2YXRlKGgsaC5wYXJlbnQoKSxmdW5jdGlvbigpe2UudHJpZ2dlcih7dHlwZTpcImhpZGRlbi5icy50YWJcIixyZWxhdGVkVGFyZ2V0OmJbMF19KSxiLnRyaWdnZXIoe3R5cGU6XCJzaG93bi5icy50YWJcIixyZWxhdGVkVGFyZ2V0OmVbMF19KX0pfX19LGMucHJvdG90eXBlLmFjdGl2YXRlPWZ1bmN0aW9uKGIsZCxlKXtmdW5jdGlvbiBmKCl7Zy5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKS5maW5kKFwiPiAuZHJvcGRvd24tbWVudSA+IC5hY3RpdmVcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIikuZW5kKCkuZmluZCgnW2RhdGEtdG9nZ2xlPVwidGFiXCJdJykuYXR0cihcImFyaWEtZXhwYW5kZWRcIiwhMSksYi5hZGRDbGFzcyhcImFjdGl2ZVwiKS5maW5kKCdbZGF0YS10b2dnbGU9XCJ0YWJcIl0nKS5hdHRyKFwiYXJpYS1leHBhbmRlZFwiLCEwKSxoPyhiWzBdLm9mZnNldFdpZHRoLGIuYWRkQ2xhc3MoXCJpblwiKSk6Yi5yZW1vdmVDbGFzcyhcImZhZGVcIiksYi5wYXJlbnQoXCIuZHJvcGRvd24tbWVudVwiKS5sZW5ndGgmJmIuY2xvc2VzdChcImxpLmRyb3Bkb3duXCIpLmFkZENsYXNzKFwiYWN0aXZlXCIpLmVuZCgpLmZpbmQoJ1tkYXRhLXRvZ2dsZT1cInRhYlwiXScpLmF0dHIoXCJhcmlhLWV4cGFuZGVkXCIsITApLGUmJmUoKX12YXIgZz1kLmZpbmQoXCI+IC5hY3RpdmVcIiksaD1lJiZhLnN1cHBvcnQudHJhbnNpdGlvbiYmKGcubGVuZ3RoJiZnLmhhc0NsYXNzKFwiZmFkZVwiKXx8ISFkLmZpbmQoXCI+IC5mYWRlXCIpLmxlbmd0aCk7Zy5sZW5ndGgmJmg/Zy5vbmUoXCJic1RyYW5zaXRpb25FbmRcIixmKS5lbXVsYXRlVHJhbnNpdGlvbkVuZChjLlRSQU5TSVRJT05fRFVSQVRJT04pOmYoKSxnLnJlbW92ZUNsYXNzKFwiaW5cIil9O3ZhciBkPWEuZm4udGFiO2EuZm4udGFiPWIsYS5mbi50YWIuQ29uc3RydWN0b3I9YyxhLmZuLnRhYi5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIGEuZm4udGFiPWQsdGhpc307dmFyIGU9ZnVuY3Rpb24oYyl7Yy5wcmV2ZW50RGVmYXVsdCgpLGIuY2FsbChhKHRoaXMpLFwic2hvd1wiKX07YShkb2N1bWVudCkub24oXCJjbGljay5icy50YWIuZGF0YS1hcGlcIiwnW2RhdGEtdG9nZ2xlPVwidGFiXCJdJyxlKS5vbihcImNsaWNrLmJzLnRhYi5kYXRhLWFwaVwiLCdbZGF0YS10b2dnbGU9XCJwaWxsXCJdJyxlKX0oalF1ZXJ5KSwrZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYihiKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGQ9YSh0aGlzKSxlPWQuZGF0YShcImJzLmFmZml4XCIpLGY9XCJvYmplY3RcIj09dHlwZW9mIGImJmI7ZXx8ZC5kYXRhKFwiYnMuYWZmaXhcIixlPW5ldyBjKHRoaXMsZikpLFwic3RyaW5nXCI9PXR5cGVvZiBiJiZlW2JdKCl9KX12YXIgYz1mdW5jdGlvbihiLGQpe3RoaXMub3B0aW9ucz1hLmV4dGVuZCh7fSxjLkRFRkFVTFRTLGQpLHRoaXMuJHRhcmdldD1hKHRoaXMub3B0aW9ucy50YXJnZXQpLm9uKFwic2Nyb2xsLmJzLmFmZml4LmRhdGEtYXBpXCIsYS5wcm94eSh0aGlzLmNoZWNrUG9zaXRpb24sdGhpcykpLm9uKFwiY2xpY2suYnMuYWZmaXguZGF0YS1hcGlcIixhLnByb3h5KHRoaXMuY2hlY2tQb3NpdGlvbldpdGhFdmVudExvb3AsdGhpcykpLHRoaXMuJGVsZW1lbnQ9YShiKSx0aGlzLmFmZml4ZWQ9bnVsbCx0aGlzLnVucGluPW51bGwsdGhpcy5waW5uZWRPZmZzZXQ9bnVsbCx0aGlzLmNoZWNrUG9zaXRpb24oKX07Yy5WRVJTSU9OPVwiMy4zLjdcIixjLlJFU0VUPVwiYWZmaXggYWZmaXgtdG9wIGFmZml4LWJvdHRvbVwiLGMuREVGQVVMVFM9e29mZnNldDowLHRhcmdldDp3aW5kb3d9LGMucHJvdG90eXBlLmdldFN0YXRlPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPXRoaXMuJHRhcmdldC5zY3JvbGxUb3AoKSxmPXRoaXMuJGVsZW1lbnQub2Zmc2V0KCksZz10aGlzLiR0YXJnZXQuaGVpZ2h0KCk7aWYobnVsbCE9YyYmXCJ0b3BcIj09dGhpcy5hZmZpeGVkKXJldHVybiBlPGMmJlwidG9wXCI7aWYoXCJib3R0b21cIj09dGhpcy5hZmZpeGVkKXJldHVybiBudWxsIT1jPyEoZSt0aGlzLnVucGluPD1mLnRvcCkmJlwiYm90dG9tXCI6IShlK2c8PWEtZCkmJlwiYm90dG9tXCI7dmFyIGg9bnVsbD09dGhpcy5hZmZpeGVkLGk9aD9lOmYudG9wLGo9aD9nOmI7cmV0dXJuIG51bGwhPWMmJmU8PWM/XCJ0b3BcIjpudWxsIT1kJiZpK2o+PWEtZCYmXCJib3R0b21cIn0sYy5wcm90b3R5cGUuZ2V0UGlubmVkT2Zmc2V0PWZ1bmN0aW9uKCl7aWYodGhpcy5waW5uZWRPZmZzZXQpcmV0dXJuIHRoaXMucGlubmVkT2Zmc2V0O3RoaXMuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoYy5SRVNFVCkuYWRkQ2xhc3MoXCJhZmZpeFwiKTt2YXIgYT10aGlzLiR0YXJnZXQuc2Nyb2xsVG9wKCksYj10aGlzLiRlbGVtZW50Lm9mZnNldCgpO3JldHVybiB0aGlzLnBpbm5lZE9mZnNldD1iLnRvcC1hfSxjLnByb3RvdHlwZS5jaGVja1Bvc2l0aW9uV2l0aEV2ZW50TG9vcD1mdW5jdGlvbigpe3NldFRpbWVvdXQoYS5wcm94eSh0aGlzLmNoZWNrUG9zaXRpb24sdGhpcyksMSl9LGMucHJvdG90eXBlLmNoZWNrUG9zaXRpb249ZnVuY3Rpb24oKXtpZih0aGlzLiRlbGVtZW50LmlzKFwiOnZpc2libGVcIikpe3ZhciBiPXRoaXMuJGVsZW1lbnQuaGVpZ2h0KCksZD10aGlzLm9wdGlvbnMub2Zmc2V0LGU9ZC50b3AsZj1kLmJvdHRvbSxnPU1hdGgubWF4KGEoZG9jdW1lbnQpLmhlaWdodCgpLGEoZG9jdW1lbnQuYm9keSkuaGVpZ2h0KCkpO1wib2JqZWN0XCIhPXR5cGVvZiBkJiYoZj1lPWQpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGUmJihlPWQudG9wKHRoaXMuJGVsZW1lbnQpKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBmJiYoZj1kLmJvdHRvbSh0aGlzLiRlbGVtZW50KSk7dmFyIGg9dGhpcy5nZXRTdGF0ZShnLGIsZSxmKTtpZih0aGlzLmFmZml4ZWQhPWgpe251bGwhPXRoaXMudW5waW4mJnRoaXMuJGVsZW1lbnQuY3NzKFwidG9wXCIsXCJcIik7dmFyIGk9XCJhZmZpeFwiKyhoP1wiLVwiK2g6XCJcIiksaj1hLkV2ZW50KGkrXCIuYnMuYWZmaXhcIik7aWYodGhpcy4kZWxlbWVudC50cmlnZ2VyKGopLGouaXNEZWZhdWx0UHJldmVudGVkKCkpcmV0dXJuO3RoaXMuYWZmaXhlZD1oLHRoaXMudW5waW49XCJib3R0b21cIj09aD90aGlzLmdldFBpbm5lZE9mZnNldCgpOm51bGwsdGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcyhjLlJFU0VUKS5hZGRDbGFzcyhpKS50cmlnZ2VyKGkucmVwbGFjZShcImFmZml4XCIsXCJhZmZpeGVkXCIpK1wiLmJzLmFmZml4XCIpfVwiYm90dG9tXCI9PWgmJnRoaXMuJGVsZW1lbnQub2Zmc2V0KHt0b3A6Zy1iLWZ9KX19O3ZhciBkPWEuZm4uYWZmaXg7YS5mbi5hZmZpeD1iLGEuZm4uYWZmaXguQ29uc3RydWN0b3I9YyxhLmZuLmFmZml4Lm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gYS5mbi5hZmZpeD1kLHRoaXN9LGEod2luZG93KS5vbihcImxvYWRcIixmdW5jdGlvbigpe2EoJ1tkYXRhLXNweT1cImFmZml4XCJdJykuZWFjaChmdW5jdGlvbigpe3ZhciBjPWEodGhpcyksZD1jLmRhdGEoKTtkLm9mZnNldD1kLm9mZnNldHx8e30sbnVsbCE9ZC5vZmZzZXRCb3R0b20mJihkLm9mZnNldC5ib3R0b209ZC5vZmZzZXRCb3R0b20pLG51bGwhPWQub2Zmc2V0VG9wJiYoZC5vZmZzZXQudG9wPWQub2Zmc2V0VG9wKSxiLmNhbGwoYyxkKX0pfSl9KGpRdWVyeSk7IiwiLypcbkNvcHlyaWdodCAoYykgMjAxMCBIZWF0aGVyIEFydGh1clxuXG5QZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmdcbmEgY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG53aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG5kaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG9cbnBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0b1xudGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuXG5UaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZVxuaW5jbHVkZWQgaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG5cblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsXG5FWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbk1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EXG5OT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFXG5MSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OXG5PRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT05cbldJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4qLyFmdW5jdGlvbiBhKGIsYyxkKXtmdW5jdGlvbiBlKGcsaCl7aWYoIWNbZ10pe2lmKCFiW2ddKXt2YXIgaT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFoJiZpKXJldHVybiBpKGcsITApO2lmKGYpcmV0dXJuIGYoZywhMCk7dGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitnK1wiJ1wiKX12YXIgaj1jW2ddPXtleHBvcnRzOnt9fTtiW2ddWzBdLmNhbGwoai5leHBvcnRzLGZ1bmN0aW9uKGEpe3ZhciBjPWJbZ11bMV1bYV07cmV0dXJuIGUoYz9jOmEpfSxqLGouZXhwb3J0cyxhLGIsYyxkKX1yZXR1cm4gY1tnXS5leHBvcnRzfWZvcih2YXIgZj1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGc9MDtnPGQubGVuZ3RoO2crKyllKGRbZ10pO3JldHVybiBlfSh7MTpbZnVuY3Rpb24oYSl7YnJhaW49YShcIi4vbGliL2JyYWluXCIpfSx7XCIuL2xpYi9icmFpblwiOjJ9XSwyOltmdW5jdGlvbihhLGIsYyl7Yy5OZXVyYWxOZXR3b3JrPWEoXCIuL25ldXJhbG5ldHdvcmtcIikuTmV1cmFsTmV0d29yayxjLmNyb3NzVmFsaWRhdGU9YShcIi4vY3Jvc3MtdmFsaWRhdGVcIil9LHtcIi4vY3Jvc3MtdmFsaWRhdGVcIjozLFwiLi9uZXVyYWxuZXR3b3JrXCI6NX1dLDM6W2Z1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYyhhLGIsYyxlLGYpe3ZhciBnPW5ldyBhKGIpLGg9RGF0ZS5ub3coKSxpPWcudHJhaW4oZSxjKSxqPURhdGUubm93KCksaz1nLnRlc3QoZiksbD1EYXRlLm5vdygpLG09ZChrKS5leHRlbmQoe3RyYWluVGltZTpqLWgsdGVzdFRpbWU6bC1qLGl0ZXJhdGlvbnM6aS5pdGVyYXRpb25zLHRyYWluRXJyb3I6aS5lcnJvcixsZWFybmluZ1JhdGU6Zy5sZWFybmluZ1JhdGUsaGlkZGVuOmcuaGlkZGVuU2l6ZXMsbmV0d29yazpnLnRvSlNPTigpfSk7cmV0dXJuIG19dmFyIGQ9YShcInVuZGVyc2NvcmVcIikuXztiLmV4cG9ydHM9ZnVuY3Rpb24oYSxiLGUsZixnKXtnPWd8fDQ7dmFyIGg9Yi5sZW5ndGgvZztiPWQoYikuc29ydEJ5KGZ1bmN0aW9uKCl7cmV0dXJuIE1hdGgucmFuZG9tKCl9KTt2YXIgaT17ZXJyb3I6MCx0cmFpblRpbWU6MCx0ZXN0VGltZTowLGl0ZXJhdGlvbnM6MCx0cmFpbkVycm9yOjB9LGo9e3RydWVQb3M6MCx0cnVlTmVnOjAsZmFsc2VQb3M6MCxmYWxzZU5lZzowLHRvdGFsOjB9LGs9W10sbD1kLnJhbmdlKGcpLm1hcChmdW5jdGlvbihnKXt2YXIgbD1kKGIpLmNsb25lKCksbT1sLnNwbGljZShnKmgsaCksbj1sLG89YyhhLGUsZixuLG0pO3JldHVybiBkKGkpLmVhY2goZnVuY3Rpb24oYSxiKXtpW2JdPWErb1tiXX0pLGQoaikuZWFjaChmdW5jdGlvbihhLGIpe2pbYl09YStvW2JdfSksay5wdXNoKG8ubWlzY2xhc3Nlcyksb30pO3JldHVybiBkKGkpLmVhY2goZnVuY3Rpb24oYSxiKXtpW2JdPWEvZ30pLGoucHJlY2lzaW9uPWoudHJ1ZVBvcy8oai50cnVlUG9zK2ouZmFsc2VQb3MpLGoucmVjYWxsPWoudHJ1ZVBvcy8oai50cnVlUG9zK2ouZmFsc2VOZWcpLGouYWNjdXJhY3k9KGoudHJ1ZU5lZytqLnRydWVQb3MpL2oudG90YWwsai50ZXN0U2l6ZT1oLGoudHJhaW5TaXplPWIubGVuZ3RoLWgse2F2Z3M6aSxzdGF0czpqLHNldHM6bCxtaXNjbGFzc2VzOmQoaykuZmxhdHRlbigpfX19LHt1bmRlcnNjb3JlOjIwfV0sNDpbZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGEpe3ZhciBiPWgoYSkucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGgoYSkuZXh0ZW5kKGIpfSx7fSk7cmV0dXJuIGQoYil9ZnVuY3Rpb24gZChhKXt2YXIgYj17fSxjPTA7Zm9yKHZhciBkIGluIGEpYltkXT1jKys7cmV0dXJuIGJ9ZnVuY3Rpb24gZShhLGIpe3ZhciBjPVtdO2Zvcih2YXIgZCBpbiBhKWNbYVtkXV09YltkXXx8MDtyZXR1cm4gY31mdW5jdGlvbiBmKGEsYil7dmFyIGM9e307Zm9yKHZhciBkIGluIGEpY1tkXT1iW2FbZF1dO3JldHVybiBjfWZ1bmN0aW9uIGcoYSl7Zm9yKHZhciBiPXt9LGM9MCxkPWEubGVuZ3RoO2QtLT4wOyliW2FbZF1dPWMrKztyZXR1cm4gYn12YXIgaD1hKFwidW5kZXJzY29yZVwiKTtiLmV4cG9ydHM9e2J1aWxkTG9va3VwOmMsbG9va3VwRnJvbUhhc2g6ZCx0b0FycmF5OmUsdG9IYXNoOmYsbG9va3VwRnJvbUFycmF5Omd9fSx7dW5kZXJzY29yZToyMH1dLDU6W2Z1bmN0aW9uKGEsYixjKXtmdW5jdGlvbiBkKCl7cmV0dXJuLjQqTWF0aC5yYW5kb20oKS0uMn1mdW5jdGlvbiBlKGEpe2Zvcih2YXIgYj1uZXcgQXJyYXkoYSksYz0wO2E+YztjKyspYltjXT0wO3JldHVybiBifWZ1bmN0aW9uIGYoYSl7Zm9yKHZhciBiPW5ldyBBcnJheShhKSxjPTA7YT5jO2MrKyliW2NdPWQoKTtyZXR1cm4gYn1mdW5jdGlvbiBnKGEpe2Zvcih2YXIgYj0wLGM9MDtjPGEubGVuZ3RoO2MrKyliKz1NYXRoLnBvdyhhW2NdLDIpO3JldHVybiBiL2EubGVuZ3RofWZ1bmN0aW9uIGgoYSl7aWYoay5jYWxsKHRoaXMse29iamVjdE1vZGU6ITB9KSxhPWF8fHt9LCFhLm5ldXJhbE5ldHdvcmspdGhyb3cgbmV3IEVycm9yKFwibm8gbmV1cmFsIG5ldHdvcmsgc3BlY2lmaWVkXCIpO3JldHVybiB0aGlzLm5ldXJhbE5ldHdvcms9YS5uZXVyYWxOZXR3b3JrLHRoaXMuZGF0YUZvcm1hdERldGVybWluZWQ9ITEsdGhpcy5pbnB1dEtleXM9W10sdGhpcy5vdXRwdXRLZXlzPVtdLHRoaXMuaT0wLHRoaXMuaXRlcmF0aW9ucz1hLml0ZXJhdGlvbnN8fDJlNCx0aGlzLmVycm9yVGhyZXNoPWEuZXJyb3JUaHJlc2h8fC4wMDUsdGhpcy5sb2c9YS5sb2d8fCExLHRoaXMubG9nUGVyaW9kPWEubG9nUGVyaW9kfHwxMCx0aGlzLmNhbGxiYWNrPWEuY2FsbGJhY2ssdGhpcy5jYWxsYmFja1BlcmlvZD1hLmNhbGxiYWNrUGVyaW9kfHwxMCx0aGlzLmZsb29kQ2FsbGJhY2s9YS5mbG9vZENhbGxiYWNrLHRoaXMuZG9uZVRyYWluaW5nQ2FsbGJhY2s9YS5kb25lVHJhaW5pbmdDYWxsYmFjayx0aGlzLnNpemU9MCx0aGlzLmNvdW50PTAsdGhpcy5zdW09MCx0aGlzLm9uKFwiZmluaXNoXCIsdGhpcy5maW5pc2hTdHJlYW1JdGVyYXRpb24pLHRoaXN9dmFyIGk9YShcInVuZGVyc2NvcmVcIiksaj1hKFwiLi9sb29rdXBcIiksaz1hKFwic3RyZWFtXCIpLldyaXRhYmxlLGw9YShcImluaGVyaXRzXCIpLG09ZnVuY3Rpb24oYSl7YT1hfHx7fSx0aGlzLmxlYXJuaW5nUmF0ZT1hLmxlYXJuaW5nUmF0ZXx8LjMsdGhpcy5tb21lbnR1bT1hLm1vbWVudHVtfHwuMSx0aGlzLmhpZGRlblNpemVzPWEuaGlkZGVuTGF5ZXJzLHRoaXMuYmluYXJ5VGhyZXNoPWEuYmluYXJ5VGhyZXNofHwuNX07bS5wcm90b3R5cGU9e2luaXRpYWxpemU6ZnVuY3Rpb24oYSl7dGhpcy5zaXplcz1hLHRoaXMub3V0cHV0TGF5ZXI9dGhpcy5zaXplcy5sZW5ndGgtMSx0aGlzLmJpYXNlcz1bXSx0aGlzLndlaWdodHM9W10sdGhpcy5vdXRwdXRzPVtdLHRoaXMuZGVsdGFzPVtdLHRoaXMuY2hhbmdlcz1bXSx0aGlzLmVycm9ycz1bXTtmb3IodmFyIGI9MDtiPD10aGlzLm91dHB1dExheWVyO2IrKyl7dmFyIGM9dGhpcy5zaXplc1tiXTtpZih0aGlzLmRlbHRhc1tiXT1lKGMpLHRoaXMuZXJyb3JzW2JdPWUoYyksdGhpcy5vdXRwdXRzW2JdPWUoYyksYj4wKXt0aGlzLmJpYXNlc1tiXT1mKGMpLHRoaXMud2VpZ2h0c1tiXT1uZXcgQXJyYXkoYyksdGhpcy5jaGFuZ2VzW2JdPW5ldyBBcnJheShjKTtmb3IodmFyIGQ9MDtjPmQ7ZCsrKXt2YXIgZz10aGlzLnNpemVzW2ItMV07dGhpcy53ZWlnaHRzW2JdW2RdPWYoZyksdGhpcy5jaGFuZ2VzW2JdW2RdPWUoZyl9fX19LHJ1bjpmdW5jdGlvbihhKXt0aGlzLmlucHV0TG9va3VwJiYoYT1qLnRvQXJyYXkodGhpcy5pbnB1dExvb2t1cCxhKSk7dmFyIGI9dGhpcy5ydW5JbnB1dChhKTtyZXR1cm4gdGhpcy5vdXRwdXRMb29rdXAmJihiPWoudG9IYXNoKHRoaXMub3V0cHV0TG9va3VwLGIpKSxifSxydW5JbnB1dDpmdW5jdGlvbihhKXt0aGlzLm91dHB1dHNbMF09YTtmb3IodmFyIGI9MTtiPD10aGlzLm91dHB1dExheWVyO2IrKyl7Zm9yKHZhciBjPTA7Yzx0aGlzLnNpemVzW2JdO2MrKyl7Zm9yKHZhciBkPXRoaXMud2VpZ2h0c1tiXVtjXSxlPXRoaXMuYmlhc2VzW2JdW2NdLGY9MDtmPGQubGVuZ3RoO2YrKyllKz1kW2ZdKmFbZl07dGhpcy5vdXRwdXRzW2JdW2NdPTEvKDErTWF0aC5leHAoLWUpKX12YXIgZz1hPXRoaXMub3V0cHV0c1tiXX1yZXR1cm4gZ30sdHJhaW46ZnVuY3Rpb24oYSxiKXthPXRoaXMuZm9ybWF0RGF0YShhKSxiPWJ8fHt9O3ZhciBjPWIuaXRlcmF0aW9uc3x8MmU0LGQ9Yi5lcnJvclRocmVzaHx8LjAwNSxlPWIubG9nfHwhMSxmPWIubG9nUGVyaW9kfHwxMCxnPWIuY2FsbGJhY2ssaD1iLmNhbGxiYWNrUGVyaW9kfHwxMCxqPWFbMF0uaW5wdXQubGVuZ3RoLGs9YVswXS5vdXRwdXQubGVuZ3RoLGw9dGhpcy5oaWRkZW5TaXplcztsfHwobD1bTWF0aC5tYXgoMyxNYXRoLmZsb29yKGovMikpXSk7dmFyIG09aShbaixsLGtdKS5mbGF0dGVuKCk7dGhpcy5pbml0aWFsaXplKG0pO2Zvcih2YXIgbj0xLG89MDtjPm8mJm4+ZDtvKyspe2Zvcih2YXIgcD0wLHE9MDtxPGEubGVuZ3RoO3ErKyl7dmFyIHI9dGhpcy50cmFpblBhdHRlcm4oYVtxXS5pbnB1dCxhW3FdLm91dHB1dCk7cCs9cn1uPXAvYS5sZW5ndGgsZSYmbyVmPT0wJiZjb25zb2xlLmxvZyhcIml0ZXJhdGlvbnM6XCIsbyxcInRyYWluaW5nIGVycm9yOlwiLG4pLGcmJm8laD09MCYmZyh7ZXJyb3I6bixpdGVyYXRpb25zOm99KX1yZXR1cm57ZXJyb3I6bixpdGVyYXRpb25zOm99fSx0cmFpblBhdHRlcm46ZnVuY3Rpb24oYSxiKXt0aGlzLnJ1bklucHV0KGEpLHRoaXMuY2FsY3VsYXRlRGVsdGFzKGIpLHRoaXMuYWRqdXN0V2VpZ2h0cygpO3ZhciBjPWcodGhpcy5lcnJvcnNbdGhpcy5vdXRwdXRMYXllcl0pO3JldHVybiBjfSxjYWxjdWxhdGVEZWx0YXM6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMub3V0cHV0TGF5ZXI7Yj49MDtiLS0pZm9yKHZhciBjPTA7Yzx0aGlzLnNpemVzW2JdO2MrKyl7dmFyIGQ9dGhpcy5vdXRwdXRzW2JdW2NdLGU9MDtpZihiPT10aGlzLm91dHB1dExheWVyKWU9YVtjXS1kO2Vsc2UgZm9yKHZhciBmPXRoaXMuZGVsdGFzW2IrMV0sZz0wO2c8Zi5sZW5ndGg7ZysrKWUrPWZbZ10qdGhpcy53ZWlnaHRzW2IrMV1bZ11bY107dGhpcy5lcnJvcnNbYl1bY109ZSx0aGlzLmRlbHRhc1tiXVtjXT1lKmQqKDEtZCl9fSxhZGp1c3RXZWlnaHRzOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPTE7YTw9dGhpcy5vdXRwdXRMYXllcjthKyspZm9yKHZhciBiPXRoaXMub3V0cHV0c1thLTFdLGM9MDtjPHRoaXMuc2l6ZXNbYV07YysrKXtmb3IodmFyIGQ9dGhpcy5kZWx0YXNbYV1bY10sZT0wO2U8Yi5sZW5ndGg7ZSsrKXt2YXIgZj10aGlzLmNoYW5nZXNbYV1bY11bZV07Zj10aGlzLmxlYXJuaW5nUmF0ZSpkKmJbZV0rdGhpcy5tb21lbnR1bSpmLHRoaXMuY2hhbmdlc1thXVtjXVtlXT1mLHRoaXMud2VpZ2h0c1thXVtjXVtlXSs9Zn10aGlzLmJpYXNlc1thXVtjXSs9dGhpcy5sZWFybmluZ1JhdGUqZH19LGZvcm1hdERhdGE6ZnVuY3Rpb24oYSl7aWYoIWkuaXNBcnJheShhKSl7dmFyIGI9W107Yi5wdXNoKGEpLGE9Yn12YXIgYz1hWzBdLmlucHV0O3JldHVybiBpKGMpLmlzQXJyYXkoKXx8YyBpbnN0YW5jZW9mIEZsb2F0NjRBcnJheXx8KHRoaXMuaW5wdXRMb29rdXB8fCh0aGlzLmlucHV0TG9va3VwPWouYnVpbGRMb29rdXAoaShhKS5wbHVjayhcImlucHV0XCIpKSksYT1hLm1hcChmdW5jdGlvbihhKXt2YXIgYj1qLnRvQXJyYXkodGhpcy5pbnB1dExvb2t1cCxhLmlucHV0KTtyZXR1cm4gaShpKGEpLmNsb25lKCkpLmV4dGVuZCh7aW5wdXQ6Yn0pfSx0aGlzKSksaShhWzBdLm91dHB1dCkuaXNBcnJheSgpfHwodGhpcy5vdXRwdXRMb29rdXB8fCh0aGlzLm91dHB1dExvb2t1cD1qLmJ1aWxkTG9va3VwKGkoYSkucGx1Y2soXCJvdXRwdXRcIikpKSxhPWEubWFwKGZ1bmN0aW9uKGEpe3ZhciBiPWoudG9BcnJheSh0aGlzLm91dHB1dExvb2t1cCxhLm91dHB1dCk7cmV0dXJuIGkoaShhKS5jbG9uZSgpKS5leHRlbmQoe291dHB1dDpifSl9LHRoaXMpKSxhfSx0ZXN0OmZ1bmN0aW9uKGEpe2E9dGhpcy5mb3JtYXREYXRhKGEpO2Zvcih2YXIgYj0xPT1hWzBdLm91dHB1dC5sZW5ndGgsYz0wLGQ9MCxlPTAsZj0wLGg9W10saj0wLGs9MDtrPGEubGVuZ3RoO2srKyl7dmFyIGwsbSxuPXRoaXMucnVuSW5wdXQoYVtrXS5pbnB1dCksbz1hW2tdLm91dHB1dDtpZihiPyhsPW5bMF0+dGhpcy5iaW5hcnlUaHJlc2g/MTowLG09b1swXSk6KGw9bi5pbmRleE9mKGkobikubWF4KCkpLG09by5pbmRleE9mKGkobykubWF4KCkpKSxsIT1tKXt2YXIgcD1hW2tdO2kocCkuZXh0ZW5kKHthY3R1YWw6bCxleHBlY3RlZDptfSksaC5wdXNoKHApfWImJigwPT1sJiYwPT1tP2YrKzoxPT1sJiYxPT1tP2UrKzowPT1sJiYxPT1tP2QrKzoxPT1sJiYwPT1tJiZjKyspO3ZhciBxPW4ubWFwKGZ1bmN0aW9uKGEsYil7cmV0dXJuIG9bYl0tYX0pO2orPWcocSl9dmFyIHI9ai9hLmxlbmd0aCxzPXtlcnJvcjpyLG1pc2NsYXNzZXM6aH07cmV0dXJuIGImJmkocykuZXh0ZW5kKHt0cnVlTmVnOmYsdHJ1ZVBvczplLGZhbHNlTmVnOmQsZmFsc2VQb3M6Yyx0b3RhbDphLmxlbmd0aCxwcmVjaXNpb246ZS8oZStjKSxyZWNhbGw6ZS8oZStkKSxhY2N1cmFjeTooZitlKS9hLmxlbmd0aH0pLHN9LHRvSlNPTjpmdW5jdGlvbigpe2Zvcih2YXIgYT1bXSxiPTA7Yjw9dGhpcy5vdXRwdXRMYXllcjtiKyspe2FbYl09e307dmFyIGM7Yz0wPT1iJiZ0aGlzLmlucHV0TG9va3VwP2kodGhpcy5pbnB1dExvb2t1cCkua2V5cygpOmI9PXRoaXMub3V0cHV0TGF5ZXImJnRoaXMub3V0cHV0TG9va3VwP2kodGhpcy5vdXRwdXRMb29rdXApLmtleXMoKTppLnJhbmdlKDAsdGhpcy5zaXplc1tiXSk7Zm9yKHZhciBkPTA7ZDxjLmxlbmd0aDtkKyspe3ZhciBlPWNbZF07aWYoYVtiXVtlXT17fSxiPjApe2FbYl1bZV0uYmlhcz10aGlzLmJpYXNlc1tiXVtkXSxhW2JdW2VdLndlaWdodHM9e307Zm9yKHZhciBmIGluIGFbYi0xXSl7dmFyIGc9ZjsxPT1iJiZ0aGlzLmlucHV0TG9va3VwJiYoZz10aGlzLmlucHV0TG9va3VwW2ZdKSxhW2JdW2VdLndlaWdodHNbZl09dGhpcy53ZWlnaHRzW2JdW2RdW2ddfX19fXJldHVybntsYXllcnM6YSxvdXRwdXRMb29rdXA6ISF0aGlzLm91dHB1dExvb2t1cCxpbnB1dExvb2t1cDohIXRoaXMuaW5wdXRMb29rdXB9fSxmcm9tSlNPTjpmdW5jdGlvbihhKXt2YXIgYj1hLmxheWVycy5sZW5ndGg7dGhpcy5vdXRwdXRMYXllcj1iLTEsdGhpcy5zaXplcz1uZXcgQXJyYXkoYiksdGhpcy53ZWlnaHRzPW5ldyBBcnJheShiKSx0aGlzLmJpYXNlcz1uZXcgQXJyYXkoYiksdGhpcy5vdXRwdXRzPW5ldyBBcnJheShiKTtmb3IodmFyIGM9MDtjPD10aGlzLm91dHB1dExheWVyO2MrKyl7dmFyIGQ9YS5sYXllcnNbY107MCE9Y3x8ZFswXSYmIWEuaW5wdXRMb29rdXA/YyE9dGhpcy5vdXRwdXRMYXllcnx8ZFswXSYmIWEub3V0cHV0TG9va3VwfHwodGhpcy5vdXRwdXRMb29rdXA9ai5sb29rdXBGcm9tSGFzaChkKSk6dGhpcy5pbnB1dExvb2t1cD1qLmxvb2t1cEZyb21IYXNoKGQpO3ZhciBlPWkoZCkua2V5cygpO3RoaXMuc2l6ZXNbY109ZS5sZW5ndGgsdGhpcy53ZWlnaHRzW2NdPVtdLHRoaXMuYmlhc2VzW2NdPVtdLHRoaXMub3V0cHV0c1tjXT1bXTtmb3IodmFyIGYgaW4gZSl7dmFyIGc9ZVtmXTt0aGlzLmJpYXNlc1tjXVtmXT1kW2ddLmJpYXMsdGhpcy53ZWlnaHRzW2NdW2ZdPWkoZFtnXS53ZWlnaHRzKS50b0FycmF5KCl9fXJldHVybiB0aGlzfSx0b0Z1bmN0aW9uOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy50b0pTT04oKTtyZXR1cm4gbmV3IEZ1bmN0aW9uKFwiaW5wdXRcIixcIiAgdmFyIG5ldCA9IFwiK0pTT04uc3RyaW5naWZ5KGEpK1wiO1xcblxcbiAgZm9yICh2YXIgaSA9IDE7IGkgPCBuZXQubGF5ZXJzLmxlbmd0aDsgaSsrKSB7XFxuICAgIHZhciBsYXllciA9IG5ldC5sYXllcnNbaV07XFxuICAgIHZhciBvdXRwdXQgPSB7fTtcXG4gICAgXFxuICAgIGZvciAodmFyIGlkIGluIGxheWVyKSB7XFxuICAgICAgdmFyIG5vZGUgPSBsYXllcltpZF07XFxuICAgICAgdmFyIHN1bSA9IG5vZGUuYmlhcztcXG4gICAgICBcXG4gICAgICBmb3IgKHZhciBpaWQgaW4gbm9kZS53ZWlnaHRzKSB7XFxuICAgICAgICBzdW0gKz0gbm9kZS53ZWlnaHRzW2lpZF0gKiBpbnB1dFtpaWRdO1xcbiAgICAgIH1cXG4gICAgICBvdXRwdXRbaWRdID0gKDEgLyAoMSArIE1hdGguZXhwKC1zdW0pKSk7XFxuICAgIH1cXG4gICAgaW5wdXQgPSBvdXRwdXQ7XFxuICB9XFxuICByZXR1cm4gb3V0cHV0O1wiKX0sY3JlYXRlVHJhaW5TdHJlYW06ZnVuY3Rpb24oYSl7cmV0dXJuIGE9YXx8e30sYS5uZXVyYWxOZXR3b3JrPXRoaXMsdGhpcy50cmFpblN0cmVhbT1uZXcgaChhKSx0aGlzLnRyYWluU3RyZWFtfX0sYy5OZXVyYWxOZXR3b3JrPW0sbChoLGspLGgucHJvdG90eXBlLl93cml0ZT1mdW5jdGlvbihhLGIsYyl7aWYoIWEpcmV0dXJuIHRoaXMuZW1pdChcImZpbmlzaFwiKSxjKCk7aWYoIXRoaXMuZGF0YUZvcm1hdERldGVybWluZWQpcmV0dXJuIHRoaXMuc2l6ZSsrLHRoaXMuaW5wdXRLZXlzPWkudW5pb24odGhpcy5pbnB1dEtleXMsaS5rZXlzKGEuaW5wdXQpKSx0aGlzLm91dHB1dEtleXM9aS51bmlvbih0aGlzLm91dHB1dEtleXMsaS5rZXlzKGEub3V0cHV0KSksdGhpcy5maXJzdERhdHVtPXRoaXMuZmlyc3REYXR1bXx8YSxjKCk7dGhpcy5jb3VudCsrO3ZhciBkPXRoaXMubmV1cmFsTmV0d29yay5mb3JtYXREYXRhKGEpO3RoaXMudHJhaW5EYXR1bShkWzBdKSxjKCl9LGgucHJvdG90eXBlLnRyYWluRGF0dW09ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5uZXVyYWxOZXR3b3JrLnRyYWluUGF0dGVybihhLmlucHV0LGEub3V0cHV0KTt0aGlzLnN1bSs9Yn0saC5wcm90b3R5cGUuZmluaXNoU3RyZWFtSXRlcmF0aW9uPWZ1bmN0aW9uKCl7aWYodGhpcy5kYXRhRm9ybWF0RGV0ZXJtaW5lZCYmdGhpcy5zaXplIT09dGhpcy5jb3VudCYmY29uc29sZS5sb2coXCJUaGlzIGl0ZXJhdGlvbidzIGRhdGEgbGVuZ3RoIHdhcyBkaWZmZXJlbnQgZnJvbSB0aGUgZmlyc3QuXCIpLCF0aGlzLmRhdGFGb3JtYXREZXRlcm1pbmVkKXt0aGlzLm5ldXJhbE5ldHdvcmsuaW5wdXRMb29rdXA9ai5sb29rdXBGcm9tQXJyYXkodGhpcy5pbnB1dEtleXMpLHRoaXMubmV1cmFsTmV0d29yay5vdXRwdXRMb29rdXA9ai5sb29rdXBGcm9tQXJyYXkodGhpcy5vdXRwdXRLZXlzKTt2YXIgYT10aGlzLm5ldXJhbE5ldHdvcmsuZm9ybWF0RGF0YSh0aGlzLmZpcnN0RGF0dW0pLGI9YVswXS5pbnB1dC5sZW5ndGgsYz1hWzBdLm91dHB1dC5sZW5ndGgsZD10aGlzLmhpZGRlblNpemVzO2R8fChkPVtNYXRoLm1heCgzLE1hdGguZmxvb3IoYi8yKSldKTt2YXIgZT1pKFtiLGQsY10pLmZsYXR0ZW4oKTtyZXR1cm4gdGhpcy5kYXRhRm9ybWF0RGV0ZXJtaW5lZD0hMCx0aGlzLm5ldXJhbE5ldHdvcmsuaW5pdGlhbGl6ZShlKSx2b2lkKFwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMuZmxvb2RDYWxsYmFjayYmdGhpcy5mbG9vZENhbGxiYWNrKCkpfXZhciBmPXRoaXMuc3VtL3RoaXMuc2l6ZTtpZih0aGlzLmxvZyYmdGhpcy5pJXRoaXMubG9nUGVyaW9kPT0wJiZjb25zb2xlLmxvZyhcIml0ZXJhdGlvbnM6XCIsdGhpcy5pLFwidHJhaW5pbmcgZXJyb3I6XCIsZiksdGhpcy5jYWxsYmFjayYmdGhpcy5pJXRoaXMuY2FsbGJhY2tQZXJpb2Q9PTAmJnRoaXMuY2FsbGJhY2soe2Vycm9yOmYsaXRlcmF0aW9uczp0aGlzLml9KSx0aGlzLnN1bT0wLHRoaXMuY291bnQ9MCx0aGlzLmkrKyx0aGlzLmk8dGhpcy5pdGVyYXRpb25zJiZmPnRoaXMuZXJyb3JUaHJlc2gpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMuZmxvb2RDYWxsYmFjaylyZXR1cm4gdGhpcy5mbG9vZENhbGxiYWNrKCl9ZWxzZSBpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLmRvbmVUcmFpbmluZ0NhbGxiYWNrKXJldHVybiB0aGlzLmRvbmVUcmFpbmluZ0NhbGxiYWNrKHtlcnJvcjpmLGl0ZXJhdGlvbnM6dGhpcy5pfSl9fSx7XCIuL2xvb2t1cFwiOjQsaW5oZXJpdHM6MTksc3RyZWFtOjEyLHVuZGVyc2NvcmU6MjB9XSw2OltmdW5jdGlvbihhLGIsYyl7ZnVuY3Rpb24gZChhLGIsYyl7aWYoISh0aGlzIGluc3RhbmNlb2YgZCkpcmV0dXJuIG5ldyBkKGEsYixjKTt2YXIgZT10eXBlb2YgYTtpZihcImJhc2U2NFwiPT09YiYmXCJzdHJpbmdcIj09PWUpZm9yKGE9QyhhKTthLmxlbmd0aCU0IT09MDspYSs9XCI9XCI7dmFyIGY7aWYoXCJudW1iZXJcIj09PWUpZj1GKGEpO2Vsc2UgaWYoXCJzdHJpbmdcIj09PWUpZj1kLmJ5dGVMZW5ndGgoYSxiKTtlbHNle2lmKFwib2JqZWN0XCIhPT1lKXRocm93IG5ldyBFcnJvcihcIkZpcnN0IGFyZ3VtZW50IG5lZWRzIHRvIGJlIGEgbnVtYmVyLCBhcnJheSBvciBzdHJpbmcuXCIpO2Y9RihhLmxlbmd0aCl9dmFyIGc7ZC5fdXNlVHlwZWRBcnJheXM/Zz1EKG5ldyBVaW50OEFycmF5KGYpKTooZz10aGlzLGcubGVuZ3RoPWYsZy5faXNCdWZmZXI9ITApO3ZhciBoO2lmKGQuX3VzZVR5cGVkQXJyYXlzJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBVaW50OEFycmF5JiZhIGluc3RhbmNlb2YgVWludDhBcnJheSlnLl9zZXQoYSk7ZWxzZSBpZihIKGEpKWZvcihoPTA7Zj5oO2grKylnW2hdPWQuaXNCdWZmZXIoYSk/YS5yZWFkVUludDgoaCk6YVtoXTtlbHNlIGlmKFwic3RyaW5nXCI9PT1lKWcud3JpdGUoYSwwLGIpO2Vsc2UgaWYoXCJudW1iZXJcIj09PWUmJiFkLl91c2VUeXBlZEFycmF5cyYmIWMpZm9yKGg9MDtmPmg7aCsrKWdbaF09MDtyZXR1cm4gZ31mdW5jdGlvbiBlKGEsYixjLGUpe2M9TnVtYmVyKGMpfHwwO3ZhciBmPWEubGVuZ3RoLWM7ZT8oZT1OdW1iZXIoZSksZT5mJiYoZT1mKSk6ZT1mO3ZhciBnPWIubGVuZ3RoO1MoZyUyPT09MCxcIkludmFsaWQgaGV4IHN0cmluZ1wiKSxlPmcvMiYmKGU9Zy8yKTtmb3IodmFyIGg9MDtlPmg7aCsrKXt2YXIgaT1wYXJzZUludChiLnN1YnN0cigyKmgsMiksMTYpO1MoIWlzTmFOKGkpLFwiSW52YWxpZCBoZXggc3RyaW5nXCIpLGFbYytoXT1pfXJldHVybiBkLl9jaGFyc1dyaXR0ZW49MipoLGh9ZnVuY3Rpb24gZihhLGIsYyxlKXt2YXIgZj1kLl9jaGFyc1dyaXR0ZW49TihKKGIpLGEsYyxlKTtyZXR1cm4gZn1mdW5jdGlvbiBnKGEsYixjLGUpe3ZhciBmPWQuX2NoYXJzV3JpdHRlbj1OKEsoYiksYSxjLGUpO3JldHVybiBmfWZ1bmN0aW9uIGgoYSxiLGMsZCl7cmV0dXJuIGcoYSxiLGMsZCl9ZnVuY3Rpb24gaShhLGIsYyxlKXt2YXIgZj1kLl9jaGFyc1dyaXR0ZW49TihNKGIpLGEsYyxlKTtyZXR1cm4gZn1mdW5jdGlvbiBqKGEsYixjLGUpe3ZhciBmPWQuX2NoYXJzV3JpdHRlbj1OKEwoYiksYSxjLGUpO3JldHVybiBmfWZ1bmN0aW9uIGsoYSxiLGMpe3JldHVybiBULmZyb21CeXRlQXJyYXkoMD09PWImJmM9PT1hLmxlbmd0aD9hOmEuc2xpY2UoYixjKSl9ZnVuY3Rpb24gbChhLGIsYyl7dmFyIGQ9XCJcIixlPVwiXCI7Yz1NYXRoLm1pbihhLmxlbmd0aCxjKTtmb3IodmFyIGY9YjtjPmY7ZisrKWFbZl08PTEyNz8oZCs9TyhlKStTdHJpbmcuZnJvbUNoYXJDb2RlKGFbZl0pLGU9XCJcIik6ZSs9XCIlXCIrYVtmXS50b1N0cmluZygxNik7cmV0dXJuIGQrTyhlKX1mdW5jdGlvbiBtKGEsYixjKXt2YXIgZD1cIlwiO2M9TWF0aC5taW4oYS5sZW5ndGgsYyk7Zm9yKHZhciBlPWI7Yz5lO2UrKylkKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGFbZV0pO3JldHVybiBkfWZ1bmN0aW9uIG4oYSxiLGMpe3JldHVybiBtKGEsYixjKX1mdW5jdGlvbiBvKGEsYixjKXt2YXIgZD1hLmxlbmd0aDsoIWJ8fDA+YikmJihiPTApLCghY3x8MD5jfHxjPmQpJiYoYz1kKTtmb3IodmFyIGU9XCJcIixmPWI7Yz5mO2YrKyllKz1JKGFbZl0pO3JldHVybiBlfWZ1bmN0aW9uIHAoYSxiLGMpe2Zvcih2YXIgZD1hLnNsaWNlKGIsYyksZT1cIlwiLGY9MDtmPGQubGVuZ3RoO2YrPTIpZSs9U3RyaW5nLmZyb21DaGFyQ29kZShkW2ZdKzI1NipkW2YrMV0pO3JldHVybiBlfWZ1bmN0aW9uIHEoYSxiLGMsZCl7ZHx8KFMoXCJib29sZWFuXCI9PXR5cGVvZiBjLFwibWlzc2luZyBvciBpbnZhbGlkIGVuZGlhblwiKSxTKHZvaWQgMCE9PWImJm51bGwhPT1iLFwibWlzc2luZyBvZmZzZXRcIiksUyhiKzE8YS5sZW5ndGgsXCJUcnlpbmcgdG8gcmVhZCBiZXlvbmQgYnVmZmVyIGxlbmd0aFwiKSk7dmFyIGU9YS5sZW5ndGg7aWYoIShiPj1lKSl7dmFyIGY7cmV0dXJuIGM/KGY9YVtiXSxlPmIrMSYmKGZ8PWFbYisxXTw8OCkpOihmPWFbYl08PDgsZT5iKzEmJihmfD1hW2IrMV0pKSxmfX1mdW5jdGlvbiByKGEsYixjLGQpe2R8fChTKFwiYm9vbGVhblwiPT10eXBlb2YgYyxcIm1pc3Npbmcgb3IgaW52YWxpZCBlbmRpYW5cIiksUyh2b2lkIDAhPT1iJiZudWxsIT09YixcIm1pc3Npbmcgb2Zmc2V0XCIpLFMoYiszPGEubGVuZ3RoLFwiVHJ5aW5nIHRvIHJlYWQgYmV5b25kIGJ1ZmZlciBsZW5ndGhcIikpO3ZhciBlPWEubGVuZ3RoO2lmKCEoYj49ZSkpe3ZhciBmO3JldHVybiBjPyhlPmIrMiYmKGY9YVtiKzJdPDwxNiksZT5iKzEmJihmfD1hW2IrMV08PDgpLGZ8PWFbYl0sZT5iKzMmJihmKz1hW2IrM108PDI0Pj4+MCkpOihlPmIrMSYmKGY9YVtiKzFdPDwxNiksZT5iKzImJihmfD1hW2IrMl08PDgpLGU+YiszJiYoZnw9YVtiKzNdKSxmKz1hW2JdPDwyND4+PjApLGZ9fWZ1bmN0aW9uIHMoYSxiLGMsZCl7ZHx8KFMoXCJib29sZWFuXCI9PXR5cGVvZiBjLFwibWlzc2luZyBvciBpbnZhbGlkIGVuZGlhblwiKSxTKHZvaWQgMCE9PWImJm51bGwhPT1iLFwibWlzc2luZyBvZmZzZXRcIiksUyhiKzE8YS5sZW5ndGgsXCJUcnlpbmcgdG8gcmVhZCBiZXlvbmQgYnVmZmVyIGxlbmd0aFwiKSk7dmFyIGU9YS5sZW5ndGg7aWYoIShiPj1lKSl7dmFyIGY9cShhLGIsYywhMCksZz0zMjc2OCZmO3JldHVybiBnPy0xKig2NTUzNS1mKzEpOmZ9fWZ1bmN0aW9uIHQoYSxiLGMsZCl7ZHx8KFMoXCJib29sZWFuXCI9PXR5cGVvZiBjLFwibWlzc2luZyBvciBpbnZhbGlkIGVuZGlhblwiKSxTKHZvaWQgMCE9PWImJm51bGwhPT1iLFwibWlzc2luZyBvZmZzZXRcIiksUyhiKzM8YS5sZW5ndGgsXCJUcnlpbmcgdG8gcmVhZCBiZXlvbmQgYnVmZmVyIGxlbmd0aFwiKSk7dmFyIGU9YS5sZW5ndGg7aWYoIShiPj1lKSl7dmFyIGY9cihhLGIsYywhMCksZz0yMTQ3NDgzNjQ4JmY7cmV0dXJuIGc/LTEqKDQyOTQ5NjcyOTUtZisxKTpmfX1mdW5jdGlvbiB1KGEsYixjLGQpe3JldHVybiBkfHwoUyhcImJvb2xlYW5cIj09dHlwZW9mIGMsXCJtaXNzaW5nIG9yIGludmFsaWQgZW5kaWFuXCIpLFMoYiszPGEubGVuZ3RoLFwiVHJ5aW5nIHRvIHJlYWQgYmV5b25kIGJ1ZmZlciBsZW5ndGhcIikpLFUucmVhZChhLGIsYywyMyw0KX1mdW5jdGlvbiB2KGEsYixjLGQpe3JldHVybiBkfHwoUyhcImJvb2xlYW5cIj09dHlwZW9mIGMsXCJtaXNzaW5nIG9yIGludmFsaWQgZW5kaWFuXCIpLFMoYis3PGEubGVuZ3RoLFwiVHJ5aW5nIHRvIHJlYWQgYmV5b25kIGJ1ZmZlciBsZW5ndGhcIikpLFUucmVhZChhLGIsYyw1Miw4KX1mdW5jdGlvbiB3KGEsYixjLGQsZSl7ZXx8KFModm9pZCAwIT09YiYmbnVsbCE9PWIsXCJtaXNzaW5nIHZhbHVlXCIpLFMoXCJib29sZWFuXCI9PXR5cGVvZiBkLFwibWlzc2luZyBvciBpbnZhbGlkIGVuZGlhblwiKSxTKHZvaWQgMCE9PWMmJm51bGwhPT1jLFwibWlzc2luZyBvZmZzZXRcIiksUyhjKzE8YS5sZW5ndGgsXCJ0cnlpbmcgdG8gd3JpdGUgYmV5b25kIGJ1ZmZlciBsZW5ndGhcIiksUChiLDY1NTM1KSk7dmFyIGY9YS5sZW5ndGg7aWYoIShjPj1mKSlmb3IodmFyIGc9MCxoPU1hdGgubWluKGYtYywyKTtoPmc7ZysrKWFbYytnXT0oYiYyNTU8PDgqKGQ/ZzoxLWcpKT4+PjgqKGQ/ZzoxLWcpfWZ1bmN0aW9uIHgoYSxiLGMsZCxlKXtlfHwoUyh2b2lkIDAhPT1iJiZudWxsIT09YixcIm1pc3NpbmcgdmFsdWVcIiksUyhcImJvb2xlYW5cIj09dHlwZW9mIGQsXCJtaXNzaW5nIG9yIGludmFsaWQgZW5kaWFuXCIpLFModm9pZCAwIT09YyYmbnVsbCE9PWMsXCJtaXNzaW5nIG9mZnNldFwiKSxTKGMrMzxhLmxlbmd0aCxcInRyeWluZyB0byB3cml0ZSBiZXlvbmQgYnVmZmVyIGxlbmd0aFwiKSxQKGIsNDI5NDk2NzI5NSkpO3ZhciBmPWEubGVuZ3RoO2lmKCEoYz49ZikpZm9yKHZhciBnPTAsaD1NYXRoLm1pbihmLWMsNCk7aD5nO2crKylhW2MrZ109Yj4+PjgqKGQ/ZzozLWcpJjI1NX1mdW5jdGlvbiB5KGEsYixjLGQsZSl7ZXx8KFModm9pZCAwIT09YiYmbnVsbCE9PWIsXCJtaXNzaW5nIHZhbHVlXCIpLFMoXCJib29sZWFuXCI9PXR5cGVvZiBkLFwibWlzc2luZyBvciBpbnZhbGlkIGVuZGlhblwiKSxTKHZvaWQgMCE9PWMmJm51bGwhPT1jLFwibWlzc2luZyBvZmZzZXRcIiksUyhjKzE8YS5sZW5ndGgsXCJUcnlpbmcgdG8gd3JpdGUgYmV5b25kIGJ1ZmZlciBsZW5ndGhcIiksUShiLDMyNzY3LC0zMjc2OCkpO3ZhciBmPWEubGVuZ3RoO2M+PWZ8fChiPj0wP3coYSxiLGMsZCxlKTp3KGEsNjU1MzUrYisxLGMsZCxlKSl9ZnVuY3Rpb24geihhLGIsYyxkLGUpe2V8fChTKHZvaWQgMCE9PWImJm51bGwhPT1iLFwibWlzc2luZyB2YWx1ZVwiKSxTKFwiYm9vbGVhblwiPT10eXBlb2YgZCxcIm1pc3Npbmcgb3IgaW52YWxpZCBlbmRpYW5cIiksUyh2b2lkIDAhPT1jJiZudWxsIT09YyxcIm1pc3Npbmcgb2Zmc2V0XCIpLFMoYyszPGEubGVuZ3RoLFwiVHJ5aW5nIHRvIHdyaXRlIGJleW9uZCBidWZmZXIgbGVuZ3RoXCIpLFEoYiwyMTQ3NDgzNjQ3LC0yMTQ3NDgzNjQ4KSk7dmFyIGY9YS5sZW5ndGg7Yz49Znx8KGI+PTA/eChhLGIsYyxkLGUpOngoYSw0Mjk0OTY3Mjk1K2IrMSxjLGQsZSkpfWZ1bmN0aW9uIEEoYSxiLGMsZCxlKXtlfHwoUyh2b2lkIDAhPT1iJiZudWxsIT09YixcIm1pc3NpbmcgdmFsdWVcIiksUyhcImJvb2xlYW5cIj09dHlwZW9mIGQsXCJtaXNzaW5nIG9yIGludmFsaWQgZW5kaWFuXCIpLFModm9pZCAwIT09YyYmbnVsbCE9PWMsXCJtaXNzaW5nIG9mZnNldFwiKSxTKGMrMzxhLmxlbmd0aCxcIlRyeWluZyB0byB3cml0ZSBiZXlvbmQgYnVmZmVyIGxlbmd0aFwiKSxSKGIsMy40MDI4MjM0NjYzODUyODg2ZTM4LC0zLjQwMjgyMzQ2NjM4NTI4ODZlMzgpKTt2YXIgZj1hLmxlbmd0aDtjPj1mfHxVLndyaXRlKGEsYixjLGQsMjMsNCl9ZnVuY3Rpb24gQihhLGIsYyxkLGUpe2V8fChTKHZvaWQgMCE9PWImJm51bGwhPT1iLFwibWlzc2luZyB2YWx1ZVwiKSxTKFwiYm9vbGVhblwiPT10eXBlb2YgZCxcIm1pc3Npbmcgb3IgaW52YWxpZCBlbmRpYW5cIiksUyh2b2lkIDAhPT1jJiZudWxsIT09YyxcIm1pc3Npbmcgb2Zmc2V0XCIpLFMoYys3PGEubGVuZ3RoLFwiVHJ5aW5nIHRvIHdyaXRlIGJleW9uZCBidWZmZXIgbGVuZ3RoXCIpLFIoYiwxLjc5NzY5MzEzNDg2MjMxNTdlMzA4LC0xLjc5NzY5MzEzNDg2MjMxNTdlMzA4KSk7dmFyIGY9YS5sZW5ndGg7Yz49Znx8VS53cml0ZShhLGIsYyxkLDUyLDgpfWZ1bmN0aW9uIEMoYSl7cmV0dXJuIGEudHJpbT9hLnRyaW0oKTphLnJlcGxhY2UoL15cXHMrfFxccyskL2csXCJcIil9ZnVuY3Rpb24gRChhKXtyZXR1cm4gYS5faXNCdWZmZXI9ITAsYS5fZ2V0PWEuZ2V0LGEuX3NldD1hLnNldCxhLmdldD1WLmdldCxhLnNldD1WLnNldCxhLndyaXRlPVYud3JpdGUsYS50b1N0cmluZz1WLnRvU3RyaW5nLGEudG9Mb2NhbGVTdHJpbmc9Vi50b1N0cmluZyxhLnRvSlNPTj1WLnRvSlNPTixhLmNvcHk9Vi5jb3B5LGEuc2xpY2U9Vi5zbGljZSxhLnJlYWRVSW50OD1WLnJlYWRVSW50OCxhLnJlYWRVSW50MTZMRT1WLnJlYWRVSW50MTZMRSxhLnJlYWRVSW50MTZCRT1WLnJlYWRVSW50MTZCRSxhLnJlYWRVSW50MzJMRT1WLnJlYWRVSW50MzJMRSxhLnJlYWRVSW50MzJCRT1WLnJlYWRVSW50MzJCRSxhLnJlYWRJbnQ4PVYucmVhZEludDgsYS5yZWFkSW50MTZMRT1WLnJlYWRJbnQxNkxFLGEucmVhZEludDE2QkU9Vi5yZWFkSW50MTZCRSxhLnJlYWRJbnQzMkxFPVYucmVhZEludDMyTEUsYS5yZWFkSW50MzJCRT1WLnJlYWRJbnQzMkJFLGEucmVhZEZsb2F0TEU9Vi5yZWFkRmxvYXRMRSxhLnJlYWRGbG9hdEJFPVYucmVhZEZsb2F0QkUsYS5yZWFkRG91YmxlTEU9Vi5yZWFkRG91YmxlTEUsYS5yZWFkRG91YmxlQkU9Vi5yZWFkRG91YmxlQkUsYS53cml0ZVVJbnQ4PVYud3JpdGVVSW50OCxhLndyaXRlVUludDE2TEU9Vi53cml0ZVVJbnQxNkxFLGEud3JpdGVVSW50MTZCRT1WLndyaXRlVUludDE2QkUsYS53cml0ZVVJbnQzMkxFPVYud3JpdGVVSW50MzJMRSxhLndyaXRlVUludDMyQkU9Vi53cml0ZVVJbnQzMkJFLGEud3JpdGVJbnQ4PVYud3JpdGVJbnQ4LGEud3JpdGVJbnQxNkxFPVYud3JpdGVJbnQxNkxFLGEud3JpdGVJbnQxNkJFPVYud3JpdGVJbnQxNkJFLGEud3JpdGVJbnQzMkxFPVYud3JpdGVJbnQzMkxFLGEud3JpdGVJbnQzMkJFPVYud3JpdGVJbnQzMkJFLGEud3JpdGVGbG9hdExFPVYud3JpdGVGbG9hdExFLGEud3JpdGVGbG9hdEJFPVYud3JpdGVGbG9hdEJFLGEud3JpdGVEb3VibGVMRT1WLndyaXRlRG91YmxlTEUsYS53cml0ZURvdWJsZUJFPVYud3JpdGVEb3VibGVCRSxhLmZpbGw9Vi5maWxsLGEuaW5zcGVjdD1WLmluc3BlY3QsYS50b0FycmF5QnVmZmVyPVYudG9BcnJheUJ1ZmZlcixhfWZ1bmN0aW9uIEUoYSxiLGMpe3JldHVyblwibnVtYmVyXCIhPXR5cGVvZiBhP2M6KGE9fn5hLGE+PWI/YjphPj0wP2E6KGErPWIsYT49MD9hOjApKX1mdW5jdGlvbiBGKGEpe3JldHVybiBhPX5+TWF0aC5jZWlsKCthKSwwPmE/MDphfWZ1bmN0aW9uIEcoYSl7cmV0dXJuKEFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGEpe3JldHVyblwiW29iamVjdCBBcnJheV1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhKX0pKGEpfWZ1bmN0aW9uIEgoYSl7cmV0dXJuIEcoYSl8fGQuaXNCdWZmZXIoYSl8fGEmJlwib2JqZWN0XCI9PXR5cGVvZiBhJiZcIm51bWJlclwiPT10eXBlb2YgYS5sZW5ndGh9ZnVuY3Rpb24gSShhKXtyZXR1cm4gMTY+YT9cIjBcIithLnRvU3RyaW5nKDE2KTphLnRvU3RyaW5nKDE2KX1mdW5jdGlvbiBKKGEpe2Zvcih2YXIgYj1bXSxjPTA7YzxhLmxlbmd0aDtjKyspe3ZhciBkPWEuY2hhckNvZGVBdChjKTtpZigxMjc+PWQpYi5wdXNoKGEuY2hhckNvZGVBdChjKSk7ZWxzZXt2YXIgZT1jO2Q+PTU1Mjk2JiY1NzM0Mz49ZCYmYysrO2Zvcih2YXIgZj1lbmNvZGVVUklDb21wb25lbnQoYS5zbGljZShlLGMrMSkpLnN1YnN0cigxKS5zcGxpdChcIiVcIiksZz0wO2c8Zi5sZW5ndGg7ZysrKWIucHVzaChwYXJzZUludChmW2ddLDE2KSl9fXJldHVybiBifWZ1bmN0aW9uIEsoYSl7Zm9yKHZhciBiPVtdLGM9MDtjPGEubGVuZ3RoO2MrKyliLnB1c2goMjU1JmEuY2hhckNvZGVBdChjKSk7cmV0dXJuIGJ9ZnVuY3Rpb24gTChhKXtmb3IodmFyIGIsYyxkLGU9W10sZj0wO2Y8YS5sZW5ndGg7ZisrKWI9YS5jaGFyQ29kZUF0KGYpLGM9Yj4+OCxkPWIlMjU2LGUucHVzaChkKSxlLnB1c2goYyk7cmV0dXJuIGV9ZnVuY3Rpb24gTShhKXtyZXR1cm4gVC50b0J5dGVBcnJheShhKX1mdW5jdGlvbiBOKGEsYixjLGQpe2Zvcih2YXIgZT0wO2Q+ZSYmIShlK2M+PWIubGVuZ3RofHxlPj1hLmxlbmd0aCk7ZSsrKWJbZStjXT1hW2VdO3JldHVybiBlfWZ1bmN0aW9uIE8oYSl7dHJ5e3JldHVybiBkZWNvZGVVUklDb21wb25lbnQoYSl9Y2F0Y2goYil7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoNjU1MzMpfX1mdW5jdGlvbiBQKGEsYil7UyhcIm51bWJlclwiPT10eXBlb2YgYSxcImNhbm5vdCB3cml0ZSBhIG5vbi1udW1iZXIgYXMgYSBudW1iZXJcIiksUyhhPj0wLFwic3BlY2lmaWVkIGEgbmVnYXRpdmUgdmFsdWUgZm9yIHdyaXRpbmcgYW4gdW5zaWduZWQgdmFsdWVcIiksUyhiPj1hLFwidmFsdWUgaXMgbGFyZ2VyIHRoYW4gbWF4aW11bSB2YWx1ZSBmb3IgdHlwZVwiKSxTKE1hdGguZmxvb3IoYSk9PT1hLFwidmFsdWUgaGFzIGEgZnJhY3Rpb25hbCBjb21wb25lbnRcIil9ZnVuY3Rpb24gUShhLGIsYyl7UyhcIm51bWJlclwiPT10eXBlb2YgYSxcImNhbm5vdCB3cml0ZSBhIG5vbi1udW1iZXIgYXMgYSBudW1iZXJcIiksUyhiPj1hLFwidmFsdWUgbGFyZ2VyIHRoYW4gbWF4aW11bSBhbGxvd2VkIHZhbHVlXCIpLFMoYT49YyxcInZhbHVlIHNtYWxsZXIgdGhhbiBtaW5pbXVtIGFsbG93ZWQgdmFsdWVcIiksUyhNYXRoLmZsb29yKGEpPT09YSxcInZhbHVlIGhhcyBhIGZyYWN0aW9uYWwgY29tcG9uZW50XCIpfWZ1bmN0aW9uIFIoYSxiLGMpe1MoXCJudW1iZXJcIj09dHlwZW9mIGEsXCJjYW5ub3Qgd3JpdGUgYSBub24tbnVtYmVyIGFzIGEgbnVtYmVyXCIpLFMoYj49YSxcInZhbHVlIGxhcmdlciB0aGFuIG1heGltdW0gYWxsb3dlZCB2YWx1ZVwiKSxTKGE+PWMsXCJ2YWx1ZSBzbWFsbGVyIHRoYW4gbWluaW11bSBhbGxvd2VkIHZhbHVlXCIpfWZ1bmN0aW9uIFMoYSxiKXtpZighYSl0aHJvdyBuZXcgRXJyb3IoYnx8XCJGYWlsZWQgYXNzZXJ0aW9uXCIpfXZhciBUPWEoXCJiYXNlNjQtanNcIiksVT1hKFwiaWVlZTc1NFwiKTtjLkJ1ZmZlcj1kLGMuU2xvd0J1ZmZlcj1kLGMuSU5TUEVDVF9NQVhfQllURVM9NTAsZC5wb29sU2l6ZT04MTkyLGQuX3VzZVR5cGVkQXJyYXlzPWZ1bmN0aW9uKCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgVWludDhBcnJheXx8XCJmdW5jdGlvblwiIT10eXBlb2YgQXJyYXlCdWZmZXIpcmV0dXJuITE7dHJ5e3ZhciBhPW5ldyBVaW50OEFycmF5KDApO3JldHVybiBhLmZvbz1mdW5jdGlvbigpe3JldHVybiA0Mn0sNDI9PT1hLmZvbygpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLnN1YmFycmF5fWNhdGNoKGIpe3JldHVybiExfX0oKSxkLmlzRW5jb2Rpbmc9ZnVuY3Rpb24oYSl7c3dpdGNoKFN0cmluZyhhKS50b0xvd2VyQ2FzZSgpKXtjYXNlXCJoZXhcIjpjYXNlXCJ1dGY4XCI6Y2FzZVwidXRmLThcIjpjYXNlXCJhc2NpaVwiOmNhc2VcImJpbmFyeVwiOmNhc2VcImJhc2U2NFwiOmNhc2VcInJhd1wiOmNhc2VcInVjczJcIjpjYXNlXCJ1Y3MtMlwiOmNhc2VcInV0ZjE2bGVcIjpjYXNlXCJ1dGYtMTZsZVwiOnJldHVybiEwO2RlZmF1bHQ6cmV0dXJuITF9fSxkLmlzQnVmZmVyPWZ1bmN0aW9uKGEpe3JldHVybiEobnVsbD09PWF8fHZvaWQgMD09PWF8fCFhLl9pc0J1ZmZlcil9LGQuYnl0ZUxlbmd0aD1mdW5jdGlvbihhLGIpe3ZhciBjO3N3aXRjaChhKz1cIlwiLGJ8fFwidXRmOFwiKXtjYXNlXCJoZXhcIjpjPWEubGVuZ3RoLzI7YnJlYWs7Y2FzZVwidXRmOFwiOmNhc2VcInV0Zi04XCI6Yz1KKGEpLmxlbmd0aDticmVhaztjYXNlXCJhc2NpaVwiOmNhc2VcImJpbmFyeVwiOmNhc2VcInJhd1wiOmM9YS5sZW5ndGg7YnJlYWs7Y2FzZVwiYmFzZTY0XCI6Yz1NKGEpLmxlbmd0aDticmVhaztjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpjPTIqYS5sZW5ndGg7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIGVuY29kaW5nXCIpfXJldHVybiBjfSxkLmNvbmNhdD1mdW5jdGlvbihhLGIpe2lmKFMoRyhhKSxcIlVzYWdlOiBCdWZmZXIuY29uY2F0KGxpc3QsIFt0b3RhbExlbmd0aF0pXFxubGlzdCBzaG91bGQgYmUgYW4gQXJyYXkuXCIpLDA9PT1hLmxlbmd0aClyZXR1cm4gbmV3IGQoMCk7aWYoMT09PWEubGVuZ3RoKXJldHVybiBhWzBdO3ZhciBjO2lmKFwibnVtYmVyXCIhPXR5cGVvZiBiKWZvcihiPTAsYz0wO2M8YS5sZW5ndGg7YysrKWIrPWFbY10ubGVuZ3RoO3ZhciBlPW5ldyBkKGIpLGY9MDtmb3IoYz0wO2M8YS5sZW5ndGg7YysrKXt2YXIgZz1hW2NdO2cuY29weShlLGYpLGYrPWcubGVuZ3RofXJldHVybiBlfSxkLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihhLGIsYyxkKXtpZihpc0Zpbml0ZShiKSlpc0Zpbml0ZShjKXx8KGQ9YyxjPXZvaWQgMCk7ZWxzZXt2YXIgaz1kO2Q9YixiPWMsYz1rfWI9TnVtYmVyKGIpfHwwO3ZhciBsPXRoaXMubGVuZ3RoLWI7Yz8oYz1OdW1iZXIoYyksYz5sJiYoYz1sKSk6Yz1sLGQ9U3RyaW5nKGR8fFwidXRmOFwiKS50b0xvd2VyQ2FzZSgpO3ZhciBtO3N3aXRjaChkKXtjYXNlXCJoZXhcIjptPWUodGhpcyxhLGIsYyk7YnJlYWs7Y2FzZVwidXRmOFwiOmNhc2VcInV0Zi04XCI6bT1mKHRoaXMsYSxiLGMpO2JyZWFrO2Nhc2VcImFzY2lpXCI6bT1nKHRoaXMsYSxiLGMpO2JyZWFrO2Nhc2VcImJpbmFyeVwiOm09aCh0aGlzLGEsYixjKTticmVhaztjYXNlXCJiYXNlNjRcIjptPWkodGhpcyxhLGIsYyk7YnJlYWs7Y2FzZVwidWNzMlwiOmNhc2VcInVjcy0yXCI6Y2FzZVwidXRmMTZsZVwiOmNhc2VcInV0Zi0xNmxlXCI6bT1qKHRoaXMsYSxiLGMpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBlbmNvZGluZ1wiKX1yZXR1cm4gbX0sZC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXM7aWYoYT1TdHJpbmcoYXx8XCJ1dGY4XCIpLnRvTG93ZXJDYXNlKCksYj1OdW1iZXIoYil8fDAsYz12b2lkIDAhPT1jP051bWJlcihjKTpjPWQubGVuZ3RoLGM9PT1iKXJldHVyblwiXCI7dmFyIGU7c3dpdGNoKGEpe2Nhc2VcImhleFwiOmU9byhkLGIsYyk7YnJlYWs7Y2FzZVwidXRmOFwiOmNhc2VcInV0Zi04XCI6ZT1sKGQsYixjKTticmVhaztjYXNlXCJhc2NpaVwiOmU9bShkLGIsYyk7YnJlYWs7Y2FzZVwiYmluYXJ5XCI6ZT1uKGQsYixjKTticmVhaztjYXNlXCJiYXNlNjRcIjplPWsoZCxiLGMpO2JyZWFrO2Nhc2VcInVjczJcIjpjYXNlXCJ1Y3MtMlwiOmNhc2VcInV0ZjE2bGVcIjpjYXNlXCJ1dGYtMTZsZVwiOmU9cChkLGIsYyk7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIGVuY29kaW5nXCIpfXJldHVybiBlfSxkLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm57dHlwZTpcIkJ1ZmZlclwiLGRhdGE6QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcy5fYXJyfHx0aGlzLDApfX0sZC5wcm90b3R5cGUuY29weT1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT10aGlzO2lmKGN8fChjPTApLGR8fDA9PT1kfHwoZD10aGlzLmxlbmd0aCksYnx8KGI9MCksZCE9PWMmJjAhPT1hLmxlbmd0aCYmMCE9PWUubGVuZ3RoKXtTKGQ+PWMsXCJzb3VyY2VFbmQgPCBzb3VyY2VTdGFydFwiKSxTKGI+PTAmJmI8YS5sZW5ndGgsXCJ0YXJnZXRTdGFydCBvdXQgb2YgYm91bmRzXCIpLFMoYz49MCYmYzxlLmxlbmd0aCxcInNvdXJjZVN0YXJ0IG91dCBvZiBib3VuZHNcIiksUyhkPj0wJiZkPD1lLmxlbmd0aCxcInNvdXJjZUVuZCBvdXQgb2YgYm91bmRzXCIpLGQ+dGhpcy5sZW5ndGgmJihkPXRoaXMubGVuZ3RoKSxhLmxlbmd0aC1iPGQtYyYmKGQ9YS5sZW5ndGgtYitjKTtmb3IodmFyIGY9MDtkLWM+ZjtmKyspYVtmK2JdPXRoaXNbZitjXX19LGQucHJvdG90eXBlLnNsaWNlPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5sZW5ndGg7aWYoYT1FKGEsYywwKSxiPUUoYixjLGMpLGQuX3VzZVR5cGVkQXJyYXlzKXJldHVybiBEKHRoaXMuc3ViYXJyYXkoYSxiKSk7Zm9yKHZhciBlPWItYSxmPW5ldyBkKGUsdm9pZCAwLCEwKSxnPTA7ZT5nO2crKylmW2ddPXRoaXNbZythXTtyZXR1cm4gZn0sZC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe3JldHVybiBjb25zb2xlLmxvZyhcIi5nZXQoKSBpcyBkZXByZWNhdGVkLiBBY2Nlc3MgdXNpbmcgYXJyYXkgaW5kZXhlcyBpbnN0ZWFkLlwiKSx0aGlzLnJlYWRVSW50OChhKX0sZC5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGEsYil7cmV0dXJuIGNvbnNvbGUubG9nKFwiLnNldCgpIGlzIGRlcHJlY2F0ZWQuIEFjY2VzcyB1c2luZyBhcnJheSBpbmRleGVzIGluc3RlYWQuXCIpLHRoaXMud3JpdGVVSW50OChhLGIpfSxkLnByb3RvdHlwZS5yZWFkVUludDg9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYnx8KFModm9pZCAwIT09YSYmbnVsbCE9PWEsXCJtaXNzaW5nIG9mZnNldFwiKSxTKGE8dGhpcy5sZW5ndGgsXCJUcnlpbmcgdG8gcmVhZCBiZXlvbmQgYnVmZmVyIGxlbmd0aFwiKSksYT49dGhpcy5sZW5ndGg/dm9pZCAwOnRoaXNbYV19LGQucHJvdG90eXBlLnJlYWRVSW50MTZMRT1mdW5jdGlvbihhLGIpe3JldHVybiBxKHRoaXMsYSwhMCxiKX0sZC5wcm90b3R5cGUucmVhZFVJbnQxNkJFPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHEodGhpcyxhLCExLGIpfSxkLnByb3RvdHlwZS5yZWFkVUludDMyTEU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gcih0aGlzLGEsITAsYil9LGQucHJvdG90eXBlLnJlYWRVSW50MzJCRT1mdW5jdGlvbihhLGIpe3JldHVybiByKHRoaXMsYSwhMSxiKX0sZC5wcm90b3R5cGUucmVhZEludDg9ZnVuY3Rpb24oYSxiKXtpZihifHwoUyh2b2lkIDAhPT1hJiZudWxsIT09YSxcIm1pc3Npbmcgb2Zmc2V0XCIpLFMoYTx0aGlzLmxlbmd0aCxcIlRyeWluZyB0byByZWFkIGJleW9uZCBidWZmZXIgbGVuZ3RoXCIpKSwhKGE+PXRoaXMubGVuZ3RoKSl7dmFyIGM9MTI4JnRoaXNbYV07cmV0dXJuIGM/LTEqKDI1NS10aGlzW2FdKzEpOnRoaXNbYV19fSxkLnByb3RvdHlwZS5yZWFkSW50MTZMRT1mdW5jdGlvbihhLGIpe3JldHVybiBzKHRoaXMsYSwhMCxiKX0sZC5wcm90b3R5cGUucmVhZEludDE2QkU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gcyh0aGlzLGEsITEsYil9LGQucHJvdG90eXBlLnJlYWRJbnQzMkxFPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHQodGhpcyxhLCEwLGIpfSxkLnByb3RvdHlwZS5yZWFkSW50MzJCRT1mdW5jdGlvbihhLGIpe3JldHVybiB0KHRoaXMsYSwhMSxiKX0sZC5wcm90b3R5cGUucmVhZEZsb2F0TEU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdSh0aGlzLGEsITAsYil9LGQucHJvdG90eXBlLnJlYWRGbG9hdEJFPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHUodGhpcyxhLCExLGIpfSxkLnByb3RvdHlwZS5yZWFkRG91YmxlTEU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdih0aGlzLGEsITAsYil9LGQucHJvdG90eXBlLnJlYWREb3VibGVCRT1mdW5jdGlvbihhLGIpe3JldHVybiB2KHRoaXMsYSwhMSxiKX0sZC5wcm90b3R5cGUud3JpdGVVSW50OD1mdW5jdGlvbihhLGIsYyl7Y3x8KFModm9pZCAwIT09YSYmbnVsbCE9PWEsXCJtaXNzaW5nIHZhbHVlXCIpLFModm9pZCAwIT09YiYmbnVsbCE9PWIsXCJtaXNzaW5nIG9mZnNldFwiKSxTKGI8dGhpcy5sZW5ndGgsXCJ0cnlpbmcgdG8gd3JpdGUgYmV5b25kIGJ1ZmZlciBsZW5ndGhcIiksUChhLDI1NSkpLGI+PXRoaXMubGVuZ3RofHwodGhpc1tiXT1hKX0sZC5wcm90b3R5cGUud3JpdGVVSW50MTZMRT1mdW5jdGlvbihhLGIsYyl7dyh0aGlzLGEsYiwhMCxjKX0sZC5wcm90b3R5cGUud3JpdGVVSW50MTZCRT1mdW5jdGlvbihhLGIsYyl7dyh0aGlzLGEsYiwhMSxjKX0sZC5wcm90b3R5cGUud3JpdGVVSW50MzJMRT1mdW5jdGlvbihhLGIsYyl7eCh0aGlzLGEsYiwhMCxjKX0sZC5wcm90b3R5cGUud3JpdGVVSW50MzJCRT1mdW5jdGlvbihhLGIsYyl7eCh0aGlzLGEsYiwhMSxjKX0sZC5wcm90b3R5cGUud3JpdGVJbnQ4PWZ1bmN0aW9uKGEsYixjKXtjfHwoUyh2b2lkIDAhPT1hJiZudWxsIT09YSxcIm1pc3NpbmcgdmFsdWVcIiksUyh2b2lkIDAhPT1iJiZudWxsIT09YixcIm1pc3Npbmcgb2Zmc2V0XCIpLFMoYjx0aGlzLmxlbmd0aCxcIlRyeWluZyB0byB3cml0ZSBiZXlvbmQgYnVmZmVyIGxlbmd0aFwiKSxRKGEsMTI3LC0xMjgpKSxiPj10aGlzLmxlbmd0aHx8KGE+PTA/dGhpcy53cml0ZVVJbnQ4KGEsYixjKTp0aGlzLndyaXRlVUludDgoMjU1K2ErMSxiLGMpKX0sZC5wcm90b3R5cGUud3JpdGVJbnQxNkxFPWZ1bmN0aW9uKGEsYixjKXt5KHRoaXMsYSxiLCEwLGMpfSxkLnByb3RvdHlwZS53cml0ZUludDE2QkU9ZnVuY3Rpb24oYSxiLGMpe3kodGhpcyxhLGIsITEsYyl9LGQucHJvdG90eXBlLndyaXRlSW50MzJMRT1mdW5jdGlvbihhLGIsYyl7eih0aGlzLGEsYiwhMCxjKX0sZC5wcm90b3R5cGUud3JpdGVJbnQzMkJFPWZ1bmN0aW9uKGEsYixjKXt6KHRoaXMsYSxiLCExLGMpfSxkLnByb3RvdHlwZS53cml0ZUZsb2F0TEU9ZnVuY3Rpb24oYSxiLGMpe0EodGhpcyxhLGIsITAsYyl9LGQucHJvdG90eXBlLndyaXRlRmxvYXRCRT1mdW5jdGlvbihhLGIsYyl7QSh0aGlzLGEsYiwhMSxjKX0sZC5wcm90b3R5cGUud3JpdGVEb3VibGVMRT1mdW5jdGlvbihhLGIsYyl7Qih0aGlzLGEsYiwhMCxjKX0sZC5wcm90b3R5cGUud3JpdGVEb3VibGVCRT1mdW5jdGlvbihhLGIsYyl7Qih0aGlzLGEsYiwhMSxjKX0sZC5wcm90b3R5cGUuZmlsbD1mdW5jdGlvbihhLGIsYyl7aWYoYXx8KGE9MCksYnx8KGI9MCksY3x8KGM9dGhpcy5sZW5ndGgpLFwic3RyaW5nXCI9PXR5cGVvZiBhJiYoYT1hLmNoYXJDb2RlQXQoMCkpLFMoXCJudW1iZXJcIj09dHlwZW9mIGEmJiFpc05hTihhKSxcInZhbHVlIGlzIG5vdCBhIG51bWJlclwiKSxTKGM+PWIsXCJlbmQgPCBzdGFydFwiKSxjIT09YiYmMCE9PXRoaXMubGVuZ3RoKXtTKGI+PTAmJmI8dGhpcy5sZW5ndGgsXCJzdGFydCBvdXQgb2YgYm91bmRzXCIpLFMoYz49MCYmYzw9dGhpcy5sZW5ndGgsXCJlbmQgb3V0IG9mIGJvdW5kc1wiKTtmb3IodmFyIGQ9YjtjPmQ7ZCsrKXRoaXNbZF09YX19LGQucHJvdG90eXBlLmluc3BlY3Q9ZnVuY3Rpb24oKXtmb3IodmFyIGE9W10sYj10aGlzLmxlbmd0aCxkPTA7Yj5kO2QrKylpZihhW2RdPUkodGhpc1tkXSksZD09PWMuSU5TUEVDVF9NQVhfQllURVMpe2FbZCsxXT1cIi4uLlwiO2JyZWFrfXJldHVyblwiPEJ1ZmZlciBcIithLmpvaW4oXCIgXCIpK1wiPlwifSxkLnByb3RvdHlwZS50b0FycmF5QnVmZmVyPWZ1bmN0aW9uKCl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgVWludDhBcnJheSl7aWYoZC5fdXNlVHlwZWRBcnJheXMpcmV0dXJuIG5ldyBkKHRoaXMpLmJ1ZmZlcjtmb3IodmFyIGE9bmV3IFVpbnQ4QXJyYXkodGhpcy5sZW5ndGgpLGI9MCxjPWEubGVuZ3RoO2M+YjtiKz0xKWFbYl09dGhpc1tiXTtyZXR1cm4gYS5idWZmZXJ9dGhyb3cgbmV3IEVycm9yKFwiQnVmZmVyLnRvQXJyYXlCdWZmZXIgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXJcIil9O3ZhciBWPWQucHJvdG90eXBlfSx7XCJiYXNlNjQtanNcIjo3LGllZWU3NTQ6OH1dLDc6W2Z1bmN0aW9uKGEsYil7dmFyIGM9XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvXCI7IWZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYShhKXt2YXIgYj1hLmNoYXJDb2RlQXQoMCk7cmV0dXJuIGI9PT1nPzYyOmI9PT1oPzYzOmk+Yj8tMTppKzEwPmI/Yi1pKzI2KzI2OmsrMjY+Yj9iLWs6aisyNj5iP2ItaisyNjp2b2lkIDB9ZnVuY3Rpb24gZChiKXtmdW5jdGlvbiBjKGEpe2pbbCsrXT1hfXZhciBkLGUsZyxoLGksajtpZihiLmxlbmd0aCU0PjApdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzdHJpbmcuIExlbmd0aCBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNFwiKTt2YXIgaz1iLmxlbmd0aDtpPVwiPVwiPT09Yi5jaGFyQXQoay0yKT8yOlwiPVwiPT09Yi5jaGFyQXQoay0xKT8xOjAsaj1uZXcgZigzKmIubGVuZ3RoLzQtaSksZz1pPjA/Yi5sZW5ndGgtNDpiLmxlbmd0aDt2YXIgbD0wO2ZvcihkPTAsZT0wO2c+ZDtkKz00LGUrPTMpaD1hKGIuY2hhckF0KGQpKTw8MTh8YShiLmNoYXJBdChkKzEpKTw8MTJ8YShiLmNoYXJBdChkKzIpKTw8NnxhKGIuY2hhckF0KGQrMykpLGMoKDE2NzExNjgwJmgpPj4xNiksYygoNjUyODAmaCk+PjgpLGMoMjU1JmgpO3JldHVybiAyPT09aT8oaD1hKGIuY2hhckF0KGQpKTw8MnxhKGIuY2hhckF0KGQrMSkpPj40LGMoMjU1JmgpKToxPT09aSYmKGg9YShiLmNoYXJBdChkKSk8PDEwfGEoYi5jaGFyQXQoZCsxKSk8PDR8YShiLmNoYXJBdChkKzIpKT4+MixjKGg+PjgmMjU1KSxjKDI1NSZoKSksan1mdW5jdGlvbiBlKGEpe2Z1bmN0aW9uIGIoYSl7cmV0dXJuIGMuY2hhckF0KGEpfWZ1bmN0aW9uIGQoYSl7cmV0dXJuIGIoYT4+MTgmNjMpK2IoYT4+MTImNjMpK2IoYT4+NiY2MykrYig2MyZhKX12YXIgZSxmLGcsaD1hLmxlbmd0aCUzLGk9XCJcIjtmb3IoZT0wLGc9YS5sZW5ndGgtaDtnPmU7ZSs9MylmPShhW2VdPDwxNikrKGFbZSsxXTw8OCkrYVtlKzJdLGkrPWQoZik7c3dpdGNoKGgpe2Nhc2UgMTpmPWFbYS5sZW5ndGgtMV0saSs9YihmPj4yKSxpKz1iKGY8PDQmNjMpLGkrPVwiPT1cIjticmVhaztjYXNlIDI6Zj0oYVthLmxlbmd0aC0yXTw8OCkrYVthLmxlbmd0aC0xXSxpKz1iKGY+PjEwKSxpKz1iKGY+PjQmNjMpLGkrPWIoZjw8MiY2MyksaSs9XCI9XCJ9cmV0dXJuIGl9dmFyIGY9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFVpbnQ4QXJyYXk/VWludDhBcnJheTpBcnJheSxnPShcIjBcIi5jaGFyQ29kZUF0KDApLFwiK1wiLmNoYXJDb2RlQXQoMCkpLGg9XCIvXCIuY2hhckNvZGVBdCgwKSxpPVwiMFwiLmNoYXJDb2RlQXQoMCksaj1cImFcIi5jaGFyQ29kZUF0KDApLGs9XCJBXCIuY2hhckNvZGVBdCgwKTtiLmV4cG9ydHMudG9CeXRlQXJyYXk9ZCxiLmV4cG9ydHMuZnJvbUJ5dGVBcnJheT1lfSgpfSx7fV0sODpbZnVuY3Rpb24oYSxiLGMpe2MucmVhZD1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmLGcsaD04KmUtZC0xLGk9KDE8PGgpLTEsaj1pPj4xLGs9LTcsbD1jP2UtMTowLG09Yz8tMToxLG49YVtiK2xdO2ZvcihsKz1tLGY9biYoMTw8LWspLTEsbj4+PS1rLGsrPWg7az4wO2Y9MjU2KmYrYVtiK2xdLGwrPW0say09OCk7Zm9yKGc9ZiYoMTw8LWspLTEsZj4+PS1rLGsrPWQ7az4wO2c9MjU2KmcrYVtiK2xdLGwrPW0say09OCk7aWYoMD09PWYpZj0xLWo7ZWxzZXtpZihmPT09aSlyZXR1cm4gZz8wLzA6MS8wKihuPy0xOjEpO2crPU1hdGgucG93KDIsZCksZi09an1yZXR1cm4obj8tMToxKSpnKk1hdGgucG93KDIsZi1kKX0sYy53cml0ZT1mdW5jdGlvbihhLGIsYyxkLGUsZil7dmFyIGcsaCxpLGo9OCpmLWUtMSxrPSgxPDxqKS0xLGw9az4+MSxtPTIzPT09ZT9NYXRoLnBvdygyLC0yNCktTWF0aC5wb3coMiwtNzcpOjAsbj1kPzA6Zi0xLG89ZD8xOi0xLHA9MD5ifHwwPT09YiYmMD4xL2I/MTowO2ZvcihiPU1hdGguYWJzKGIpLGlzTmFOKGIpfHwxLzA9PT1iPyhoPWlzTmFOKGIpPzE6MCxnPWspOihnPU1hdGguZmxvb3IoTWF0aC5sb2coYikvTWF0aC5MTjIpLGIqKGk9TWF0aC5wb3coMiwtZykpPDEmJihnLS0saSo9MiksYis9ZytsPj0xP20vaTptKk1hdGgucG93KDIsMS1sKSxiKmk+PTImJihnKyssaS89MiksZytsPj1rPyhoPTAsZz1rKTpnK2w+PTE/KGg9KGIqaS0xKSpNYXRoLnBvdygyLGUpLGcrPWwpOihoPWIqTWF0aC5wb3coMixsLTEpKk1hdGgucG93KDIsZSksZz0wKSk7ZT49ODthW2Mrbl09MjU1Jmgsbis9byxoLz0yNTYsZS09OCk7Zm9yKGc9Zzw8ZXxoLGorPWU7aj4wO2FbYytuXT0yNTUmZyxuKz1vLGcvPTI1NixqLT04KTthW2Mrbi1vXXw9MTI4KnB9fSx7fV0sOTpbZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKCl7dGhpcy5fZXZlbnRzPXRoaXMuX2V2ZW50c3x8e30sdGhpcy5fbWF4TGlzdGVuZXJzPXRoaXMuX21heExpc3RlbmVyc3x8dm9pZCAwfWZ1bmN0aW9uIGQoYSl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgYX1mdW5jdGlvbiBlKGEpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiBhfWZ1bmN0aW9uIGYoYSl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIGEmJm51bGwhPT1hfWZ1bmN0aW9uIGcoYSl7cmV0dXJuIHZvaWQgMD09PWF9Yi5leHBvcnRzPWMsYy5FdmVudEVtaXR0ZXI9YyxjLnByb3RvdHlwZS5fZXZlbnRzPXZvaWQgMCxjLnByb3RvdHlwZS5fbWF4TGlzdGVuZXJzPXZvaWQgMCxjLmRlZmF1bHRNYXhMaXN0ZW5lcnM9MTAsYy5wcm90b3R5cGUuc2V0TWF4TGlzdGVuZXJzPWZ1bmN0aW9uKGEpe2lmKCFlKGEpfHwwPmF8fGlzTmFOKGEpKXRocm93IFR5cGVFcnJvcihcIm4gbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlclwiKTtyZXR1cm4gdGhpcy5fbWF4TGlzdGVuZXJzPWEsdGhpc30sYy5wcm90b3R5cGUuZW1pdD1mdW5jdGlvbihhKXt2YXIgYixjLGUsaCxpLGo7aWYodGhpcy5fZXZlbnRzfHwodGhpcy5fZXZlbnRzPXt9KSxcImVycm9yXCI9PT1hJiYoIXRoaXMuX2V2ZW50cy5lcnJvcnx8Zih0aGlzLl9ldmVudHMuZXJyb3IpJiYhdGhpcy5fZXZlbnRzLmVycm9yLmxlbmd0aCkpdGhyb3cgYj1hcmd1bWVudHNbMV0sYiBpbnN0YW5jZW9mIEVycm9yP2I6VHlwZUVycm9yKCdVbmNhdWdodCwgdW5zcGVjaWZpZWQgXCJlcnJvclwiIGV2ZW50LicpO2lmKGM9dGhpcy5fZXZlbnRzW2FdLGcoYykpcmV0dXJuITE7aWYoZChjKSlzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAxOmMuY2FsbCh0aGlzKTticmVhaztjYXNlIDI6Yy5jYWxsKHRoaXMsYXJndW1lbnRzWzFdKTticmVhaztjYXNlIDM6Yy5jYWxsKHRoaXMsYXJndW1lbnRzWzFdLGFyZ3VtZW50c1syXSk7YnJlYWs7ZGVmYXVsdDpmb3IoZT1hcmd1bWVudHMubGVuZ3RoLGg9bmV3IEFycmF5KGUtMSksaT0xO2U+aTtpKyspaFtpLTFdPWFyZ3VtZW50c1tpXTtjLmFwcGx5KHRoaXMsaCl9ZWxzZSBpZihmKGMpKXtmb3IoZT1hcmd1bWVudHMubGVuZ3RoLGg9bmV3IEFycmF5KGUtMSksaT0xO2U+aTtpKyspaFtpLTFdPWFyZ3VtZW50c1tpXTtmb3Ioaj1jLnNsaWNlKCksZT1qLmxlbmd0aCxpPTA7ZT5pO2krKylqW2ldLmFwcGx5KHRoaXMsaCl9cmV0dXJuITB9LGMucHJvdG90eXBlLmFkZExpc3RlbmVyPWZ1bmN0aW9uKGEsYil7dmFyIGU7aWYoIWQoYikpdGhyb3cgVHlwZUVycm9yKFwibGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO2lmKHRoaXMuX2V2ZW50c3x8KHRoaXMuX2V2ZW50cz17fSksdGhpcy5fZXZlbnRzLm5ld0xpc3RlbmVyJiZ0aGlzLmVtaXQoXCJuZXdMaXN0ZW5lclwiLGEsZChiLmxpc3RlbmVyKT9iLmxpc3RlbmVyOmIpLHRoaXMuX2V2ZW50c1thXT9mKHRoaXMuX2V2ZW50c1thXSk/dGhpcy5fZXZlbnRzW2FdLnB1c2goYik6dGhpcy5fZXZlbnRzW2FdPVt0aGlzLl9ldmVudHNbYV0sYl06dGhpcy5fZXZlbnRzW2FdPWIsZih0aGlzLl9ldmVudHNbYV0pJiYhdGhpcy5fZXZlbnRzW2FdLndhcm5lZCl7dmFyIGU7ZT1nKHRoaXMuX21heExpc3RlbmVycyk/Yy5kZWZhdWx0TWF4TGlzdGVuZXJzOnRoaXMuX21heExpc3RlbmVycyxlJiZlPjAmJnRoaXMuX2V2ZW50c1thXS5sZW5ndGg+ZSYmKHRoaXMuX2V2ZW50c1thXS53YXJuZWQ9ITAsY29uc29sZS5lcnJvcihcIihub2RlKSB3YXJuaW5nOiBwb3NzaWJsZSBFdmVudEVtaXR0ZXIgbWVtb3J5IGxlYWsgZGV0ZWN0ZWQuICVkIGxpc3RlbmVycyBhZGRlZC4gVXNlIGVtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKCkgdG8gaW5jcmVhc2UgbGltaXQuXCIsdGhpcy5fZXZlbnRzW2FdLmxlbmd0aCksY29uc29sZS50cmFjZSgpKX1yZXR1cm4gdGhpc30sYy5wcm90b3R5cGUub249Yy5wcm90b3R5cGUuYWRkTGlzdGVuZXIsYy5wcm90b3R5cGUub25jZT1mdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoKXt0aGlzLnJlbW92ZUxpc3RlbmVyKGEsYyksZXx8KGU9ITAsYi5hcHBseSh0aGlzLGFyZ3VtZW50cykpfWlmKCFkKGIpKXRocm93IFR5cGVFcnJvcihcImxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvblwiKTt2YXIgZT0hMTtyZXR1cm4gYy5saXN0ZW5lcj1iLHRoaXMub24oYSxjKSx0aGlzfSxjLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcj1mdW5jdGlvbihhLGIpe3ZhciBjLGUsZyxoO2lmKCFkKGIpKXRocm93IFR5cGVFcnJvcihcImxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvblwiKTtpZighdGhpcy5fZXZlbnRzfHwhdGhpcy5fZXZlbnRzW2FdKXJldHVybiB0aGlzO2lmKGM9dGhpcy5fZXZlbnRzW2FdLGc9Yy5sZW5ndGgsZT0tMSxjPT09Ynx8ZChjLmxpc3RlbmVyKSYmYy5saXN0ZW5lcj09PWIpZGVsZXRlIHRoaXMuX2V2ZW50c1thXSx0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXImJnRoaXMuZW1pdChcInJlbW92ZUxpc3RlbmVyXCIsYSxiKTtlbHNlIGlmKGYoYykpe2ZvcihoPWc7aC0tPjA7KWlmKGNbaF09PT1ifHxjW2hdLmxpc3RlbmVyJiZjW2hdLmxpc3RlbmVyPT09Yil7ZT1oO2JyZWFrfWlmKDA+ZSlyZXR1cm4gdGhpczsxPT09Yy5sZW5ndGg/KGMubGVuZ3RoPTAsZGVsZXRlIHRoaXMuX2V2ZW50c1thXSk6Yy5zcGxpY2UoZSwxKSx0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXImJnRoaXMuZW1pdChcInJlbW92ZUxpc3RlbmVyXCIsYSxiKX1yZXR1cm4gdGhpc30sYy5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzPWZ1bmN0aW9uKGEpe3ZhciBiLGM7aWYoIXRoaXMuX2V2ZW50cylyZXR1cm4gdGhpcztpZighdGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyKXJldHVybiAwPT09YXJndW1lbnRzLmxlbmd0aD90aGlzLl9ldmVudHM9e306dGhpcy5fZXZlbnRzW2FdJiZkZWxldGUgdGhpcy5fZXZlbnRzW2FdLHRoaXM7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpe2ZvcihiIGluIHRoaXMuX2V2ZW50cylcInJlbW92ZUxpc3RlbmVyXCIhPT1iJiZ0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhiKTtyZXR1cm4gdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoXCJyZW1vdmVMaXN0ZW5lclwiKSx0aGlzLl9ldmVudHM9e30sdGhpc31pZihjPXRoaXMuX2V2ZW50c1thXSxkKGMpKXRoaXMucmVtb3ZlTGlzdGVuZXIoYSxjKTtlbHNlIGZvcig7Yy5sZW5ndGg7KXRoaXMucmVtb3ZlTGlzdGVuZXIoYSxjW2MubGVuZ3RoLTFdKTtyZXR1cm4gZGVsZXRlIHRoaXMuX2V2ZW50c1thXSx0aGlzfSxjLnByb3RvdHlwZS5saXN0ZW5lcnM9ZnVuY3Rpb24oYSl7dmFyIGI7cmV0dXJuIGI9dGhpcy5fZXZlbnRzJiZ0aGlzLl9ldmVudHNbYV0/ZCh0aGlzLl9ldmVudHNbYV0pP1t0aGlzLl9ldmVudHNbYV1dOnRoaXMuX2V2ZW50c1thXS5zbGljZSgpOltdfSxjLmxpc3RlbmVyQ291bnQ9ZnVuY3Rpb24oYSxiKXt2YXIgYztyZXR1cm4gYz1hLl9ldmVudHMmJmEuX2V2ZW50c1tiXT9kKGEuX2V2ZW50c1tiXSk/MTphLl9ldmVudHNbYl0ubGVuZ3RoOjB9fSx7fV0sMTA6W2Z1bmN0aW9uKGEsYil7dmFyIGM9Yi5leHBvcnRzPXt9O2MubmV4dFRpY2s9ZnVuY3Rpb24oKXt2YXIgYT1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuc2V0SW1tZWRpYXRlLGI9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93LnBvc3RNZXNzYWdlJiZ3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcjtpZihhKXJldHVybiBmdW5jdGlvbihhKXtyZXR1cm4gd2luZG93LnNldEltbWVkaWF0ZShhKX07aWYoYil7dmFyIGM9W107cmV0dXJuIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLGZ1bmN0aW9uKGEpe3ZhciBiPWEuc291cmNlO2lmKChiPT09d2luZG93fHxudWxsPT09YikmJlwicHJvY2Vzcy10aWNrXCI9PT1hLmRhdGEmJihhLnN0b3BQcm9wYWdhdGlvbigpLGMubGVuZ3RoPjApKXt2YXIgZD1jLnNoaWZ0KCk7ZCgpfX0sITApLGZ1bmN0aW9uKGEpe2MucHVzaChhKSx3aW5kb3cucG9zdE1lc3NhZ2UoXCJwcm9jZXNzLXRpY2tcIixcIipcIil9fXJldHVybiBmdW5jdGlvbihhKXtzZXRUaW1lb3V0KGEsMCl9fSgpLGMudGl0bGU9XCJicm93c2VyXCIsYy5icm93c2VyPSEwLGMuZW52PXt9LGMuYXJndj1bXSxjLmJpbmRpbmc9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoXCJwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZFwiKX0sYy5jd2Q9ZnVuY3Rpb24oKXtyZXR1cm5cIi9cIn0sYy5jaGRpcj1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcihcInByb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZFwiKX19LHt9XSwxMTpbZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGEpe3JldHVybiB0aGlzIGluc3RhbmNlb2YgYz8oZy5jYWxsKHRoaXMsYSksaC5jYWxsKHRoaXMsYSksYSYmYS5yZWFkYWJsZT09PSExJiYodGhpcy5yZWFkYWJsZT0hMSksYSYmYS53cml0YWJsZT09PSExJiYodGhpcy53cml0YWJsZT0hMSksdGhpcy5hbGxvd0hhbGZPcGVuPSEwLGEmJmEuYWxsb3dIYWxmT3Blbj09PSExJiYodGhpcy5hbGxvd0hhbGZPcGVuPSExKSx2b2lkIHRoaXMub25jZShcImVuZFwiLGQpKTpuZXcgYyhhKX1mdW5jdGlvbiBkKCl7aWYoIXRoaXMuYWxsb3dIYWxmT3BlbiYmIXRoaXMuX3dyaXRhYmxlU3RhdGUuZW5kZWQpe3ZhciBhPXRoaXM7ZihmdW5jdGlvbigpe2EuZW5kKCl9KX19Yi5leHBvcnRzPWM7dmFyIGU9YShcImluaGVyaXRzXCIpLGY9YShcInByb2Nlc3MvYnJvd3Nlci5qc1wiKS5uZXh0VGljayxnPWEoXCIuL3JlYWRhYmxlLmpzXCIpLGg9YShcIi4vd3JpdGFibGUuanNcIik7ZShjLGcpLGMucHJvdG90eXBlLndyaXRlPWgucHJvdG90eXBlLndyaXRlLGMucHJvdG90eXBlLmVuZD1oLnByb3RvdHlwZS5lbmQsYy5wcm90b3R5cGUuX3dyaXRlPWgucHJvdG90eXBlLl93cml0ZX0se1wiLi9yZWFkYWJsZS5qc1wiOjE1LFwiLi93cml0YWJsZS5qc1wiOjE3LGluaGVyaXRzOjE5LFwicHJvY2Vzcy9icm93c2VyLmpzXCI6MTN9XSwxMjpbZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKCl7ZC5jYWxsKHRoaXMpfWIuZXhwb3J0cz1jO3ZhciBkPWEoXCJldmVudHNcIikuRXZlbnRFbWl0dGVyLGU9YShcImluaGVyaXRzXCIpO2UoYyxkKSxjLlJlYWRhYmxlPWEoXCIuL3JlYWRhYmxlLmpzXCIpLGMuV3JpdGFibGU9YShcIi4vd3JpdGFibGUuanNcIiksYy5EdXBsZXg9YShcIi4vZHVwbGV4LmpzXCIpLGMuVHJhbnNmb3JtPWEoXCIuL3RyYW5zZm9ybS5qc1wiKSxjLlBhc3NUaHJvdWdoPWEoXCIuL3Bhc3N0aHJvdWdoLmpzXCIpLGMuU3RyZWFtPWMsYy5wcm90b3R5cGUucGlwZT1mdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoYil7YS53cml0YWJsZSYmITE9PT1hLndyaXRlKGIpJiZqLnBhdXNlJiZqLnBhdXNlKClcbn1mdW5jdGlvbiBlKCl7ai5yZWFkYWJsZSYmai5yZXN1bWUmJmoucmVzdW1lKCl9ZnVuY3Rpb24gZigpe2t8fChrPSEwLGEuZW5kKCkpfWZ1bmN0aW9uIGcoKXtrfHwoaz0hMCxcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLmRlc3Ryb3kmJmEuZGVzdHJveSgpKX1mdW5jdGlvbiBoKGEpe2lmKGkoKSwwPT09ZC5saXN0ZW5lckNvdW50KHRoaXMsXCJlcnJvclwiKSl0aHJvdyBhfWZ1bmN0aW9uIGkoKXtqLnJlbW92ZUxpc3RlbmVyKFwiZGF0YVwiLGMpLGEucmVtb3ZlTGlzdGVuZXIoXCJkcmFpblwiLGUpLGoucmVtb3ZlTGlzdGVuZXIoXCJlbmRcIixmKSxqLnJlbW92ZUxpc3RlbmVyKFwiY2xvc2VcIixnKSxqLnJlbW92ZUxpc3RlbmVyKFwiZXJyb3JcIixoKSxhLnJlbW92ZUxpc3RlbmVyKFwiZXJyb3JcIixoKSxqLnJlbW92ZUxpc3RlbmVyKFwiZW5kXCIsaSksai5yZW1vdmVMaXN0ZW5lcihcImNsb3NlXCIsaSksYS5yZW1vdmVMaXN0ZW5lcihcImNsb3NlXCIsaSl9dmFyIGo9dGhpcztqLm9uKFwiZGF0YVwiLGMpLGEub24oXCJkcmFpblwiLGUpLGEuX2lzU3RkaW98fGImJmIuZW5kPT09ITF8fChqLm9uKFwiZW5kXCIsZiksai5vbihcImNsb3NlXCIsZykpO3ZhciBrPSExO3JldHVybiBqLm9uKFwiZXJyb3JcIixoKSxhLm9uKFwiZXJyb3JcIixoKSxqLm9uKFwiZW5kXCIsaSksai5vbihcImNsb3NlXCIsaSksYS5vbihcImNsb3NlXCIsaSksYS5lbWl0KFwicGlwZVwiLGopLGF9fSx7XCIuL2R1cGxleC5qc1wiOjExLFwiLi9wYXNzdGhyb3VnaC5qc1wiOjE0LFwiLi9yZWFkYWJsZS5qc1wiOjE1LFwiLi90cmFuc2Zvcm0uanNcIjoxNixcIi4vd3JpdGFibGUuanNcIjoxNyxldmVudHM6OSxpbmhlcml0czoxOX1dLDEzOltmdW5jdGlvbihhLGIpe2IuZXhwb3J0cz1hKDEwKX0se31dLDE0OltmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoYSl7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBjP3ZvaWQgZC5jYWxsKHRoaXMsYSk6bmV3IGMoYSl9Yi5leHBvcnRzPWM7dmFyIGQ9YShcIi4vdHJhbnNmb3JtLmpzXCIpLGU9YShcImluaGVyaXRzXCIpO2UoYyxkKSxjLnByb3RvdHlwZS5fdHJhbnNmb3JtPWZ1bmN0aW9uKGEsYixjKXtjKG51bGwsYSl9fSx7XCIuL3RyYW5zZm9ybS5qc1wiOjE2LGluaGVyaXRzOjE5fV0sMTU6W2Z1bmN0aW9uKGEsYil7KGZ1bmN0aW9uKGMpe2Z1bmN0aW9uIGQoYil7Yj1ifHx7fTt2YXIgYz1iLmhpZ2hXYXRlck1hcms7dGhpcy5oaWdoV2F0ZXJNYXJrPWN8fDA9PT1jP2M6MTYzODQsdGhpcy5oaWdoV2F0ZXJNYXJrPX5+dGhpcy5oaWdoV2F0ZXJNYXJrLHRoaXMuYnVmZmVyPVtdLHRoaXMubGVuZ3RoPTAsdGhpcy5waXBlcz1udWxsLHRoaXMucGlwZXNDb3VudD0wLHRoaXMuZmxvd2luZz0hMSx0aGlzLmVuZGVkPSExLHRoaXMuZW5kRW1pdHRlZD0hMSx0aGlzLnJlYWRpbmc9ITEsdGhpcy5jYWxsZWRSZWFkPSExLHRoaXMuc3luYz0hMCx0aGlzLm5lZWRSZWFkYWJsZT0hMSx0aGlzLmVtaXR0ZWRSZWFkYWJsZT0hMSx0aGlzLnJlYWRhYmxlTGlzdGVuaW5nPSExLHRoaXMub2JqZWN0TW9kZT0hIWIub2JqZWN0TW9kZSx0aGlzLmRlZmF1bHRFbmNvZGluZz1iLmRlZmF1bHRFbmNvZGluZ3x8XCJ1dGY4XCIsdGhpcy5yYW5PdXQ9ITEsdGhpcy5hd2FpdERyYWluPTAsdGhpcy5yZWFkaW5nTW9yZT0hMSx0aGlzLmRlY29kZXI9bnVsbCx0aGlzLmVuY29kaW5nPW51bGwsYi5lbmNvZGluZyYmKHh8fCh4PWEoXCJzdHJpbmdfZGVjb2RlclwiKS5TdHJpbmdEZWNvZGVyKSx0aGlzLmRlY29kZXI9bmV3IHgoYi5lbmNvZGluZyksdGhpcy5lbmNvZGluZz1iLmVuY29kaW5nKX1mdW5jdGlvbiBlKGEpe3JldHVybiB0aGlzIGluc3RhbmNlb2YgZT8odGhpcy5fcmVhZGFibGVTdGF0ZT1uZXcgZChhLHRoaXMpLHRoaXMucmVhZGFibGU9ITAsdm9pZCB6LmNhbGwodGhpcykpOm5ldyBlKGEpfWZ1bmN0aW9uIGYoYSxiLGMsZCxlKXt2YXIgZj1qKGIsYyk7aWYoZilhLmVtaXQoXCJlcnJvclwiLGYpO2Vsc2UgaWYobnVsbD09PWN8fHZvaWQgMD09PWMpYi5yZWFkaW5nPSExLGIuZW5kZWR8fGsoYSxiKTtlbHNlIGlmKGIub2JqZWN0TW9kZXx8YyYmYy5sZW5ndGg+MClpZihiLmVuZGVkJiYhZSl7dmFyIGg9bmV3IEVycm9yKFwic3RyZWFtLnB1c2goKSBhZnRlciBFT0ZcIik7YS5lbWl0KFwiZXJyb3JcIixoKX1lbHNlIGlmKGIuZW5kRW1pdHRlZCYmZSl7dmFyIGg9bmV3IEVycm9yKFwic3RyZWFtLnVuc2hpZnQoKSBhZnRlciBlbmQgZXZlbnRcIik7YS5lbWl0KFwiZXJyb3JcIixoKX1lbHNlIWIuZGVjb2Rlcnx8ZXx8ZHx8KGM9Yi5kZWNvZGVyLndyaXRlKGMpKSxiLmxlbmd0aCs9Yi5vYmplY3RNb2RlPzE6Yy5sZW5ndGgsZT9iLmJ1ZmZlci51bnNoaWZ0KGMpOihiLnJlYWRpbmc9ITEsYi5idWZmZXIucHVzaChjKSksYi5uZWVkUmVhZGFibGUmJmwoYSksbihhLGIpO2Vsc2UgZXx8KGIucmVhZGluZz0hMSk7cmV0dXJuIGcoYil9ZnVuY3Rpb24gZyhhKXtyZXR1cm4hYS5lbmRlZCYmKGEubmVlZFJlYWRhYmxlfHxhLmxlbmd0aDxhLmhpZ2hXYXRlck1hcmt8fDA9PT1hLmxlbmd0aCl9ZnVuY3Rpb24gaChhKXtpZihhPj1EKWE9RDtlbHNle2EtLTtmb3IodmFyIGI9MTszMj5iO2I8PD0xKWF8PWE+PmI7YSsrfXJldHVybiBhfWZ1bmN0aW9uIGkoYSxiKXtyZXR1cm4gMD09PWIubGVuZ3RoJiZiLmVuZGVkPzA6Yi5vYmplY3RNb2RlPzA9PT1hPzA6MTppc05hTihhKXx8bnVsbD09PWE/Yi5mbG93aW5nJiZiLmJ1ZmZlci5sZW5ndGg/Yi5idWZmZXJbMF0ubGVuZ3RoOmIubGVuZ3RoOjA+PWE/MDooYT5iLmhpZ2hXYXRlck1hcmsmJihiLmhpZ2hXYXRlck1hcms9aChhKSksYT5iLmxlbmd0aD9iLmVuZGVkP2IubGVuZ3RoOihiLm5lZWRSZWFkYWJsZT0hMCwwKTphKX1mdW5jdGlvbiBqKGEsYil7dmFyIGM9bnVsbDtyZXR1cm4gQS5pc0J1ZmZlcihiKXx8XCJzdHJpbmdcIj09dHlwZW9mIGJ8fG51bGw9PT1ifHx2b2lkIDA9PT1ifHxhLm9iamVjdE1vZGV8fGN8fChjPW5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIG5vbi1zdHJpbmcvYnVmZmVyIGNodW5rXCIpKSxjfWZ1bmN0aW9uIGsoYSxiKXtpZihiLmRlY29kZXImJiFiLmVuZGVkKXt2YXIgYz1iLmRlY29kZXIuZW5kKCk7YyYmYy5sZW5ndGgmJihiLmJ1ZmZlci5wdXNoKGMpLGIubGVuZ3RoKz1iLm9iamVjdE1vZGU/MTpjLmxlbmd0aCl9Yi5lbmRlZD0hMCxiLmxlbmd0aD4wP2woYSk6dShhKX1mdW5jdGlvbiBsKGEpe3ZhciBiPWEuX3JlYWRhYmxlU3RhdGU7Yi5uZWVkUmVhZGFibGU9ITEsYi5lbWl0dGVkUmVhZGFibGV8fChiLmVtaXR0ZWRSZWFkYWJsZT0hMCxiLnN5bmM/QihmdW5jdGlvbigpe20oYSl9KTptKGEpKX1mdW5jdGlvbiBtKGEpe2EuZW1pdChcInJlYWRhYmxlXCIpfWZ1bmN0aW9uIG4oYSxiKXtiLnJlYWRpbmdNb3JlfHwoYi5yZWFkaW5nTW9yZT0hMCxCKGZ1bmN0aW9uKCl7byhhLGIpfSkpfWZ1bmN0aW9uIG8oYSxiKXtmb3IodmFyIGM9Yi5sZW5ndGg7IWIucmVhZGluZyYmIWIuZmxvd2luZyYmIWIuZW5kZWQmJmIubGVuZ3RoPGIuaGlnaFdhdGVyTWFyayYmKGEucmVhZCgwKSxjIT09Yi5sZW5ndGgpOyljPWIubGVuZ3RoO2IucmVhZGluZ01vcmU9ITF9ZnVuY3Rpb24gcChhKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYj1hLl9yZWFkYWJsZVN0YXRlO2IuYXdhaXREcmFpbi0tLDA9PT1iLmF3YWl0RHJhaW4mJnEoYSl9fWZ1bmN0aW9uIHEoYSl7ZnVuY3Rpb24gYihhKXt2YXIgYj1hLndyaXRlKGMpOyExPT09YiYmZC5hd2FpdERyYWluKyt9dmFyIGMsZD1hLl9yZWFkYWJsZVN0YXRlO2ZvcihkLmF3YWl0RHJhaW49MDtkLnBpcGVzQ291bnQmJm51bGwhPT0oYz1hLnJlYWQoKSk7KWlmKDE9PT1kLnBpcGVzQ291bnQ/YihkLnBpcGVzLDAsbnVsbCk6dihkLnBpcGVzLGIpLGEuZW1pdChcImRhdGFcIixjKSxkLmF3YWl0RHJhaW4+MClyZXR1cm47cmV0dXJuIDA9PT1kLnBpcGVzQ291bnQ/KGQuZmxvd2luZz0hMSx2b2lkKHkubGlzdGVuZXJDb3VudChhLFwiZGF0YVwiKT4wJiZzKGEpKSk6dm9pZChkLnJhbk91dD0hMCl9ZnVuY3Rpb24gcigpe3RoaXMuX3JlYWRhYmxlU3RhdGUucmFuT3V0JiYodGhpcy5fcmVhZGFibGVTdGF0ZS5yYW5PdXQ9ITEscSh0aGlzKSl9ZnVuY3Rpb24gcyhhLGIpe3ZhciBjPWEuX3JlYWRhYmxlU3RhdGU7aWYoYy5mbG93aW5nKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBzd2l0Y2ggdG8gb2xkIG1vZGUgbm93LlwiKTt2YXIgZD1ifHwhMSxlPSExO2EucmVhZGFibGU9ITAsYS5waXBlPXoucHJvdG90eXBlLnBpcGUsYS5vbj1hLmFkZExpc3RlbmVyPXoucHJvdG90eXBlLm9uLGEub24oXCJyZWFkYWJsZVwiLGZ1bmN0aW9uKCl7ZT0hMDtmb3IodmFyIGI7IWQmJm51bGwhPT0oYj1hLnJlYWQoKSk7KWEuZW1pdChcImRhdGFcIixiKTtudWxsPT09YiYmKGU9ITEsYS5fcmVhZGFibGVTdGF0ZS5uZWVkUmVhZGFibGU9ITApfSksYS5wYXVzZT1mdW5jdGlvbigpe2Q9ITAsdGhpcy5lbWl0KFwicGF1c2VcIil9LGEucmVzdW1lPWZ1bmN0aW9uKCl7ZD0hMSxlP0IoZnVuY3Rpb24oKXthLmVtaXQoXCJyZWFkYWJsZVwiKX0pOnRoaXMucmVhZCgwKSx0aGlzLmVtaXQoXCJyZXN1bWVcIil9LGEuZW1pdChcInJlYWRhYmxlXCIpfWZ1bmN0aW9uIHQoYSxiKXt2YXIgYyxkPWIuYnVmZmVyLGU9Yi5sZW5ndGgsZj0hIWIuZGVjb2RlcixnPSEhYi5vYmplY3RNb2RlO2lmKDA9PT1kLmxlbmd0aClyZXR1cm4gbnVsbDtpZigwPT09ZSljPW51bGw7ZWxzZSBpZihnKWM9ZC5zaGlmdCgpO2Vsc2UgaWYoIWF8fGE+PWUpYz1mP2Quam9pbihcIlwiKTpBLmNvbmNhdChkLGUpLGQubGVuZ3RoPTA7ZWxzZSBpZihhPGRbMF0ubGVuZ3RoKXt2YXIgaD1kWzBdO2M9aC5zbGljZSgwLGEpLGRbMF09aC5zbGljZShhKX1lbHNlIGlmKGE9PT1kWzBdLmxlbmd0aCljPWQuc2hpZnQoKTtlbHNle2M9Zj9cIlwiOm5ldyBBKGEpO2Zvcih2YXIgaT0wLGo9MCxrPWQubGVuZ3RoO2s+aiYmYT5pO2orKyl7dmFyIGg9ZFswXSxsPU1hdGgubWluKGEtaSxoLmxlbmd0aCk7Zj9jKz1oLnNsaWNlKDAsbCk6aC5jb3B5KGMsaSwwLGwpLGw8aC5sZW5ndGg/ZFswXT1oLnNsaWNlKGwpOmQuc2hpZnQoKSxpKz1sfX1yZXR1cm4gY31mdW5jdGlvbiB1KGEpe3ZhciBiPWEuX3JlYWRhYmxlU3RhdGU7aWYoYi5sZW5ndGg+MCl0aHJvdyBuZXcgRXJyb3IoXCJlbmRSZWFkYWJsZSBjYWxsZWQgb24gbm9uLWVtcHR5IHN0cmVhbVwiKTshYi5lbmRFbWl0dGVkJiZiLmNhbGxlZFJlYWQmJihiLmVuZGVkPSEwLEIoZnVuY3Rpb24oKXtiLmVuZEVtaXR0ZWR8fDAhPT1iLmxlbmd0aHx8KGIuZW5kRW1pdHRlZD0hMCxhLnJlYWRhYmxlPSExLGEuZW1pdChcImVuZFwiKSl9KSl9ZnVuY3Rpb24gdihhLGIpe2Zvcih2YXIgYz0wLGQ9YS5sZW5ndGg7ZD5jO2MrKyliKGFbY10sYyl9ZnVuY3Rpb24gdyhhLGIpe2Zvcih2YXIgYz0wLGQ9YS5sZW5ndGg7ZD5jO2MrKylpZihhW2NdPT09YilyZXR1cm4gYztyZXR1cm4tMX1iLmV4cG9ydHM9ZSxlLlJlYWRhYmxlU3RhdGU9ZDt2YXIgeCx5PWEoXCJldmVudHNcIikuRXZlbnRFbWl0dGVyLHo9YShcIi4vaW5kZXguanNcIiksQT1hKFwiYnVmZmVyXCIpLkJ1ZmZlcixCPWEoXCJwcm9jZXNzL2Jyb3dzZXIuanNcIikubmV4dFRpY2ssQz1hKFwiaW5oZXJpdHNcIik7QyhlLHopLGUucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLl9yZWFkYWJsZVN0YXRlO3JldHVyblwic3RyaW5nXCIhPXR5cGVvZiBhfHxjLm9iamVjdE1vZGV8fChiPWJ8fGMuZGVmYXVsdEVuY29kaW5nLGIhPT1jLmVuY29kaW5nJiYoYT1uZXcgQShhLGIpLGI9XCJcIikpLGYodGhpcyxjLGEsYiwhMSl9LGUucHJvdG90eXBlLnVuc2hpZnQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5fcmVhZGFibGVTdGF0ZTtyZXR1cm4gZih0aGlzLGIsYSxcIlwiLCEwKX0sZS5wcm90b3R5cGUuc2V0RW5jb2Rpbmc9ZnVuY3Rpb24oYil7eHx8KHg9YShcInN0cmluZ19kZWNvZGVyXCIpLlN0cmluZ0RlY29kZXIpLHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVjb2Rlcj1uZXcgeChiKSx0aGlzLl9yZWFkYWJsZVN0YXRlLmVuY29kaW5nPWJ9O3ZhciBEPTgzODg2MDg7ZS5wcm90b3R5cGUucmVhZD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLl9yZWFkYWJsZVN0YXRlO2IuY2FsbGVkUmVhZD0hMDt2YXIgYz1hO2lmKChcIm51bWJlclwiIT10eXBlb2YgYXx8YT4wKSYmKGIuZW1pdHRlZFJlYWRhYmxlPSExKSwwPT09YSYmYi5uZWVkUmVhZGFibGUmJihiLmxlbmd0aD49Yi5oaWdoV2F0ZXJNYXJrfHxiLmVuZGVkKSlyZXR1cm4gbCh0aGlzKSxudWxsO2lmKGE9aShhLGIpLDA9PT1hJiZiLmVuZGVkKXJldHVybiAwPT09Yi5sZW5ndGgmJnUodGhpcyksbnVsbDt2YXIgZD1iLm5lZWRSZWFkYWJsZTtiLmxlbmd0aC1hPD1iLmhpZ2hXYXRlck1hcmsmJihkPSEwKSwoYi5lbmRlZHx8Yi5yZWFkaW5nKSYmKGQ9ITEpLGQmJihiLnJlYWRpbmc9ITAsYi5zeW5jPSEwLDA9PT1iLmxlbmd0aCYmKGIubmVlZFJlYWRhYmxlPSEwKSx0aGlzLl9yZWFkKGIuaGlnaFdhdGVyTWFyayksYi5zeW5jPSExKSxkJiYhYi5yZWFkaW5nJiYoYT1pKGMsYikpO3ZhciBlO3JldHVybiBlPWE+MD90KGEsYik6bnVsbCxudWxsPT09ZSYmKGIubmVlZFJlYWRhYmxlPSEwLGE9MCksYi5sZW5ndGgtPWEsMCE9PWIubGVuZ3RofHxiLmVuZGVkfHwoYi5uZWVkUmVhZGFibGU9ITApLGIuZW5kZWQmJiFiLmVuZEVtaXR0ZWQmJjA9PT1iLmxlbmd0aCYmdSh0aGlzKSxlfSxlLnByb3RvdHlwZS5fcmVhZD1mdW5jdGlvbigpe3RoaXMuZW1pdChcImVycm9yXCIsbmV3IEVycm9yKFwibm90IGltcGxlbWVudGVkXCIpKX0sZS5wcm90b3R5cGUucGlwZT1mdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGQoYSl7YT09PWsmJmYoKX1mdW5jdGlvbiBlKCl7YS5lbmQoKX1mdW5jdGlvbiBmKCl7YS5yZW1vdmVMaXN0ZW5lcihcImNsb3NlXCIsaCksYS5yZW1vdmVMaXN0ZW5lcihcImZpbmlzaFwiLGkpLGEucmVtb3ZlTGlzdGVuZXIoXCJkcmFpblwiLG8pLGEucmVtb3ZlTGlzdGVuZXIoXCJlcnJvclwiLGcpLGEucmVtb3ZlTGlzdGVuZXIoXCJ1bnBpcGVcIixkKSxrLnJlbW92ZUxpc3RlbmVyKFwiZW5kXCIsZSksay5yZW1vdmVMaXN0ZW5lcihcImVuZFwiLGYpLCghYS5fd3JpdGFibGVTdGF0ZXx8YS5fd3JpdGFibGVTdGF0ZS5uZWVkRHJhaW4pJiZvKCl9ZnVuY3Rpb24gZyhiKXtqKCksMD09PXMmJjA9PT15Lmxpc3RlbmVyQ291bnQoYSxcImVycm9yXCIpJiZhLmVtaXQoXCJlcnJvclwiLGIpfWZ1bmN0aW9uIGgoKXthLnJlbW92ZUxpc3RlbmVyKFwiZmluaXNoXCIsaSksaigpfWZ1bmN0aW9uIGkoKXthLnJlbW92ZUxpc3RlbmVyKFwiY2xvc2VcIixoKSxqKCl9ZnVuY3Rpb24gaigpe2sudW5waXBlKGEpfXZhciBrPXRoaXMsbD10aGlzLl9yZWFkYWJsZVN0YXRlO3N3aXRjaChsLnBpcGVzQ291bnQpe2Nhc2UgMDpsLnBpcGVzPWE7YnJlYWs7Y2FzZSAxOmwucGlwZXM9W2wucGlwZXMsYV07YnJlYWs7ZGVmYXVsdDpsLnBpcGVzLnB1c2goYSl9bC5waXBlc0NvdW50Kz0xO3ZhciBtPSghYnx8Yi5lbmQhPT0hMSkmJmEhPT1jLnN0ZG91dCYmYSE9PWMuc3RkZXJyLG49bT9lOmY7bC5lbmRFbWl0dGVkP0Iobik6ay5vbmNlKFwiZW5kXCIsbiksYS5vbihcInVucGlwZVwiLGQpO3ZhciBvPXAoayk7YS5vbihcImRyYWluXCIsbyk7dmFyIHM9eS5saXN0ZW5lckNvdW50KGEsXCJlcnJvclwiKTtyZXR1cm4gYS5vbmNlKFwiZXJyb3JcIixnKSxhLm9uY2UoXCJjbG9zZVwiLGgpLGEub25jZShcImZpbmlzaFwiLGkpLGEuZW1pdChcInBpcGVcIixrKSxsLmZsb3dpbmd8fCh0aGlzLm9uKFwicmVhZGFibGVcIixyKSxsLmZsb3dpbmc9ITAsQihmdW5jdGlvbigpe3Eoayl9KSksYX0sZS5wcm90b3R5cGUudW5waXBlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuX3JlYWRhYmxlU3RhdGU7aWYoMD09PWIucGlwZXNDb3VudClyZXR1cm4gdGhpcztpZigxPT09Yi5waXBlc0NvdW50KXJldHVybiBhJiZhIT09Yi5waXBlcz90aGlzOihhfHwoYT1iLnBpcGVzKSxiLnBpcGVzPW51bGwsYi5waXBlc0NvdW50PTAsdGhpcy5yZW1vdmVMaXN0ZW5lcihcInJlYWRhYmxlXCIsciksYi5mbG93aW5nPSExLGEmJmEuZW1pdChcInVucGlwZVwiLHRoaXMpLHRoaXMpO2lmKCFhKXt2YXIgYz1iLnBpcGVzLGQ9Yi5waXBlc0NvdW50O2IucGlwZXM9bnVsbCxiLnBpcGVzQ291bnQ9MCx0aGlzLnJlbW92ZUxpc3RlbmVyKFwicmVhZGFibGVcIixyKSxiLmZsb3dpbmc9ITE7Zm9yKHZhciBlPTA7ZD5lO2UrKyljW2VdLmVtaXQoXCJ1bnBpcGVcIix0aGlzKTtyZXR1cm4gdGhpc312YXIgZT13KGIucGlwZXMsYSk7cmV0dXJuLTE9PT1lP3RoaXM6KGIucGlwZXMuc3BsaWNlKGUsMSksYi5waXBlc0NvdW50LT0xLDE9PT1iLnBpcGVzQ291bnQmJihiLnBpcGVzPWIucGlwZXNbMF0pLGEuZW1pdChcInVucGlwZVwiLHRoaXMpLHRoaXMpfSxlLnByb3RvdHlwZS5vbj1mdW5jdGlvbihhLGIpe3ZhciBjPXoucHJvdG90eXBlLm9uLmNhbGwodGhpcyxhLGIpO2lmKFwiZGF0YVwiIT09YXx8dGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nfHxzKHRoaXMpLFwicmVhZGFibGVcIj09PWEmJnRoaXMucmVhZGFibGUpe3ZhciBkPXRoaXMuX3JlYWRhYmxlU3RhdGU7ZC5yZWFkYWJsZUxpc3RlbmluZ3x8KGQucmVhZGFibGVMaXN0ZW5pbmc9ITAsZC5lbWl0dGVkUmVhZGFibGU9ITEsZC5uZWVkUmVhZGFibGU9ITAsZC5yZWFkaW5nP2QubGVuZ3RoJiZsKHRoaXMsZCk6dGhpcy5yZWFkKDApKX1yZXR1cm4gY30sZS5wcm90b3R5cGUuYWRkTGlzdGVuZXI9ZS5wcm90b3R5cGUub24sZS5wcm90b3R5cGUucmVzdW1lPWZ1bmN0aW9uKCl7cyh0aGlzKSx0aGlzLnJlYWQoMCksdGhpcy5lbWl0KFwicmVzdW1lXCIpfSxlLnByb3RvdHlwZS5wYXVzZT1mdW5jdGlvbigpe3ModGhpcywhMCksdGhpcy5lbWl0KFwicGF1c2VcIil9LGUucHJvdG90eXBlLndyYXA9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5fcmVhZGFibGVTdGF0ZSxjPSExLGQ9dGhpczthLm9uKFwiZW5kXCIsZnVuY3Rpb24oKXtpZihiLmRlY29kZXImJiFiLmVuZGVkKXt2YXIgYT1iLmRlY29kZXIuZW5kKCk7YSYmYS5sZW5ndGgmJmQucHVzaChhKX1kLnB1c2gobnVsbCl9KSxhLm9uKFwiZGF0YVwiLGZ1bmN0aW9uKGUpe2lmKGIuZGVjb2RlciYmKGU9Yi5kZWNvZGVyLndyaXRlKGUpKSxlJiYoYi5vYmplY3RNb2RlfHxlLmxlbmd0aCkpe3ZhciBmPWQucHVzaChlKTtmfHwoYz0hMCxhLnBhdXNlKCkpfX0pO2Zvcih2YXIgZSBpbiBhKVwiZnVuY3Rpb25cIj09dHlwZW9mIGFbZV0mJlwidW5kZWZpbmVkXCI9PXR5cGVvZiB0aGlzW2VdJiYodGhpc1tlXT1mdW5jdGlvbihiKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYVtiXS5hcHBseShhLGFyZ3VtZW50cyl9fShlKSk7dmFyIGY9W1wiZXJyb3JcIixcImNsb3NlXCIsXCJkZXN0cm95XCIsXCJwYXVzZVwiLFwicmVzdW1lXCJdO3JldHVybiB2KGYsZnVuY3Rpb24oYil7YS5vbihiLGZ1bmN0aW9uKGEpe3JldHVybiBkLmVtaXQuYXBwbHkoZCxiLGEpfSl9KSxkLl9yZWFkPWZ1bmN0aW9uKCl7YyYmKGM9ITEsYS5yZXN1bWUoKSl9LGR9LGUuX2Zyb21MaXN0PXR9KS5jYWxsKHRoaXMsYShcIi9Vc2Vycy9oYXJ0aC9yZXBvcy9icmFpbi9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvaW5zZXJ0LW1vZHVsZS1nbG9iYWxzL25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanNcIikpfSx7XCIuL2luZGV4LmpzXCI6MTIsXCIvVXNlcnMvaGFydGgvcmVwb3MvYnJhaW4vbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2luc2VydC1tb2R1bGUtZ2xvYmFscy9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzXCI6MTAsYnVmZmVyOjYsZXZlbnRzOjksaW5oZXJpdHM6MTksXCJwcm9jZXNzL2Jyb3dzZXIuanNcIjoxMyxzdHJpbmdfZGVjb2RlcjoxOH1dLDE2OltmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoYSxiKXt0aGlzLmFmdGVyVHJhbnNmb3JtPWZ1bmN0aW9uKGEsYyl7cmV0dXJuIGQoYixhLGMpfSx0aGlzLm5lZWRUcmFuc2Zvcm09ITEsdGhpcy50cmFuc2Zvcm1pbmc9ITEsdGhpcy53cml0ZWNiPW51bGwsdGhpcy53cml0ZWNodW5rPW51bGx9ZnVuY3Rpb24gZChhLGIsYyl7dmFyIGQ9YS5fdHJhbnNmb3JtU3RhdGU7ZC50cmFuc2Zvcm1pbmc9ITE7dmFyIGU9ZC53cml0ZWNiO2lmKCFlKXJldHVybiBhLmVtaXQoXCJlcnJvclwiLG5ldyBFcnJvcihcIm5vIHdyaXRlY2IgaW4gVHJhbnNmb3JtIGNsYXNzXCIpKTtkLndyaXRlY2h1bms9bnVsbCxkLndyaXRlY2I9bnVsbCxudWxsIT09YyYmdm9pZCAwIT09YyYmYS5wdXNoKGMpLGUmJmUoYik7dmFyIGY9YS5fcmVhZGFibGVTdGF0ZTtmLnJlYWRpbmc9ITEsKGYubmVlZFJlYWRhYmxlfHxmLmxlbmd0aDxmLmhpZ2hXYXRlck1hcmspJiZhLl9yZWFkKGYuaGlnaFdhdGVyTWFyayl9ZnVuY3Rpb24gZShhKXtpZighKHRoaXMgaW5zdGFuY2VvZiBlKSlyZXR1cm4gbmV3IGUoYSk7Zy5jYWxsKHRoaXMsYSk7dmFyIGI9KHRoaXMuX3RyYW5zZm9ybVN0YXRlPW5ldyBjKGEsdGhpcyksdGhpcyk7dGhpcy5fcmVhZGFibGVTdGF0ZS5uZWVkUmVhZGFibGU9ITAsdGhpcy5fcmVhZGFibGVTdGF0ZS5zeW5jPSExLHRoaXMub25jZShcImZpbmlzaFwiLGZ1bmN0aW9uKCl7XCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5fZmx1c2g/dGhpcy5fZmx1c2goZnVuY3Rpb24oYSl7ZihiLGEpfSk6ZihiKX0pfWZ1bmN0aW9uIGYoYSxiKXtpZihiKXJldHVybiBhLmVtaXQoXCJlcnJvclwiLGIpO3ZhciBjPWEuX3dyaXRhYmxlU3RhdGUsZD0oYS5fcmVhZGFibGVTdGF0ZSxhLl90cmFuc2Zvcm1TdGF0ZSk7aWYoYy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiY2FsbGluZyB0cmFuc2Zvcm0gZG9uZSB3aGVuIHdzLmxlbmd0aCAhPSAwXCIpO2lmKGQudHJhbnNmb3JtaW5nKXRocm93IG5ldyBFcnJvcihcImNhbGxpbmcgdHJhbnNmb3JtIGRvbmUgd2hlbiBzdGlsbCB0cmFuc2Zvcm1pbmdcIik7cmV0dXJuIGEucHVzaChudWxsKX1iLmV4cG9ydHM9ZTt2YXIgZz1hKFwiLi9kdXBsZXguanNcIiksaD1hKFwiaW5oZXJpdHNcIik7aChlLGcpLGUucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5fdHJhbnNmb3JtU3RhdGUubmVlZFRyYW5zZm9ybT0hMSxnLnByb3RvdHlwZS5wdXNoLmNhbGwodGhpcyxhLGIpfSxlLnByb3RvdHlwZS5fdHJhbnNmb3JtPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKFwibm90IGltcGxlbWVudGVkXCIpfSxlLnByb3RvdHlwZS5fd3JpdGU9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuX3RyYW5zZm9ybVN0YXRlO2lmKGQud3JpdGVjYj1jLGQud3JpdGVjaHVuaz1hLGQud3JpdGVlbmNvZGluZz1iLCFkLnRyYW5zZm9ybWluZyl7dmFyIGU9dGhpcy5fcmVhZGFibGVTdGF0ZTsoZC5uZWVkVHJhbnNmb3JtfHxlLm5lZWRSZWFkYWJsZXx8ZS5sZW5ndGg8ZS5oaWdoV2F0ZXJNYXJrKSYmdGhpcy5fcmVhZChlLmhpZ2hXYXRlck1hcmspfX0sZS5wcm90b3R5cGUuX3JlYWQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl90cmFuc2Zvcm1TdGF0ZTthLndyaXRlY2h1bmsmJmEud3JpdGVjYiYmIWEudHJhbnNmb3JtaW5nPyhhLnRyYW5zZm9ybWluZz0hMCx0aGlzLl90cmFuc2Zvcm0oYS53cml0ZWNodW5rLGEud3JpdGVlbmNvZGluZyxhLmFmdGVyVHJhbnNmb3JtKSk6YS5uZWVkVHJhbnNmb3JtPSEwfX0se1wiLi9kdXBsZXguanNcIjoxMSxpbmhlcml0czoxOX1dLDE3OltmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoYSxiLGMpe3RoaXMuY2h1bms9YSx0aGlzLmVuY29kaW5nPWIsdGhpcy5jYWxsYmFjaz1jfWZ1bmN0aW9uIGQoYSxiKXthPWF8fHt9O3ZhciBjPWEuaGlnaFdhdGVyTWFyazt0aGlzLmhpZ2hXYXRlck1hcms9Y3x8MD09PWM/YzoxNjM4NCx0aGlzLm9iamVjdE1vZGU9ISFhLm9iamVjdE1vZGUsdGhpcy5oaWdoV2F0ZXJNYXJrPX5+dGhpcy5oaWdoV2F0ZXJNYXJrLHRoaXMubmVlZERyYWluPSExLHRoaXMuZW5kaW5nPSExLHRoaXMuZW5kZWQ9ITEsdGhpcy5maW5pc2hlZD0hMTt2YXIgZD1hLmRlY29kZVN0cmluZ3M9PT0hMTt0aGlzLmRlY29kZVN0cmluZ3M9IWQsdGhpcy5kZWZhdWx0RW5jb2Rpbmc9YS5kZWZhdWx0RW5jb2Rpbmd8fFwidXRmOFwiLHRoaXMubGVuZ3RoPTAsdGhpcy53cml0aW5nPSExLHRoaXMuc3luYz0hMCx0aGlzLmJ1ZmZlclByb2Nlc3Npbmc9ITEsdGhpcy5vbndyaXRlPWZ1bmN0aW9uKGEpe20oYixhKX0sdGhpcy53cml0ZWNiPW51bGwsdGhpcy53cml0ZWxlbj0wLHRoaXMuYnVmZmVyPVtdfWZ1bmN0aW9uIGUoYSl7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBlfHx0aGlzIGluc3RhbmNlb2Ygdy5EdXBsZXg/KHRoaXMuX3dyaXRhYmxlU3RhdGU9bmV3IGQoYSx0aGlzKSx0aGlzLndyaXRhYmxlPSEwLHZvaWQgdy5jYWxsKHRoaXMpKTpuZXcgZShhKX1mdW5jdGlvbiBmKGEsYixjKXt2YXIgZD1uZXcgRXJyb3IoXCJ3cml0ZSBhZnRlciBlbmRcIik7YS5lbWl0KFwiZXJyb3JcIixkKSx4KGZ1bmN0aW9uKCl7YyhkKX0pfWZ1bmN0aW9uIGcoYSxiLGMsZCl7dmFyIGU9ITA7aWYoIXkuaXNCdWZmZXIoYykmJlwic3RyaW5nXCIhPXR5cGVvZiBjJiZudWxsIT09YyYmdm9pZCAwIT09YyYmIWIub2JqZWN0TW9kZSl7dmFyIGY9bmV3IFR5cGVFcnJvcihcIkludmFsaWQgbm9uLXN0cmluZy9idWZmZXIgY2h1bmtcIik7YS5lbWl0KFwiZXJyb3JcIixmKSx4KGZ1bmN0aW9uKCl7ZChmKX0pLGU9ITF9cmV0dXJuIGV9ZnVuY3Rpb24gaChhLGIsYyl7cmV0dXJuIGEub2JqZWN0TW9kZXx8YS5kZWNvZGVTdHJpbmdzPT09ITF8fFwic3RyaW5nXCIhPXR5cGVvZiBifHwoYj1uZXcgeShiLGMpKSxifWZ1bmN0aW9uIGkoYSxiLGQsZSxmKXtkPWgoYixkLGUpO3ZhciBnPWIub2JqZWN0TW9kZT8xOmQubGVuZ3RoO2IubGVuZ3RoKz1nO3ZhciBpPWIubGVuZ3RoPGIuaGlnaFdhdGVyTWFyaztyZXR1cm4gYi5uZWVkRHJhaW49IWksYi53cml0aW5nP2IuYnVmZmVyLnB1c2gobmV3IGMoZCxlLGYpKTpqKGEsYixnLGQsZSxmKSxpfWZ1bmN0aW9uIGooYSxiLGMsZCxlLGYpe2Iud3JpdGVsZW49YyxiLndyaXRlY2I9ZixiLndyaXRpbmc9ITAsYi5zeW5jPSEwLGEuX3dyaXRlKGQsZSxiLm9ud3JpdGUpLGIuc3luYz0hMX1mdW5jdGlvbiBrKGEsYixjLGQsZSl7Yz94KGZ1bmN0aW9uKCl7ZShkKX0pOmUoZCksYS5lbWl0KFwiZXJyb3JcIixkKX1mdW5jdGlvbiBsKGEpe2Eud3JpdGluZz0hMSxhLndyaXRlY2I9bnVsbCxhLmxlbmd0aC09YS53cml0ZWxlbixhLndyaXRlbGVuPTB9ZnVuY3Rpb24gbShhLGIpe3ZhciBjPWEuX3dyaXRhYmxlU3RhdGUsZD1jLnN5bmMsZT1jLndyaXRlY2I7aWYobChjKSxiKWsoYSxjLGQsYixlKTtlbHNle3ZhciBmPXEoYSxjKTtmfHxjLmJ1ZmZlclByb2Nlc3Npbmd8fCFjLmJ1ZmZlci5sZW5ndGh8fHAoYSxjKSxkP3goZnVuY3Rpb24oKXtuKGEsYyxmLGUpfSk6bihhLGMsZixlKX19ZnVuY3Rpb24gbihhLGIsYyxkKXtjfHxvKGEsYiksZCgpLGMmJnIoYSxiKX1mdW5jdGlvbiBvKGEsYil7MD09PWIubGVuZ3RoJiZiLm5lZWREcmFpbiYmKGIubmVlZERyYWluPSExLGEuZW1pdChcImRyYWluXCIpKX1mdW5jdGlvbiBwKGEsYil7Yi5idWZmZXJQcm9jZXNzaW5nPSEwO2Zvcih2YXIgYz0wO2M8Yi5idWZmZXIubGVuZ3RoO2MrKyl7dmFyIGQ9Yi5idWZmZXJbY10sZT1kLmNodW5rLGY9ZC5lbmNvZGluZyxnPWQuY2FsbGJhY2ssaD1iLm9iamVjdE1vZGU/MTplLmxlbmd0aDtpZihqKGEsYixoLGUsZixnKSxiLndyaXRpbmcpe2MrKzticmVha319Yi5idWZmZXJQcm9jZXNzaW5nPSExLGM8Yi5idWZmZXIubGVuZ3RoP2IuYnVmZmVyPWIuYnVmZmVyLnNsaWNlKGMpOmIuYnVmZmVyLmxlbmd0aD0wfWZ1bmN0aW9uIHEoYSxiKXtyZXR1cm4gYi5lbmRpbmcmJjA9PT1iLmxlbmd0aCYmIWIuZmluaXNoZWQmJiFiLndyaXRpbmd9ZnVuY3Rpb24gcihhLGIpe3ZhciBjPXEoYSxiKTtyZXR1cm4gYyYmKGIuZmluaXNoZWQ9ITAsYS5lbWl0KFwiZmluaXNoXCIpKSxjfWZ1bmN0aW9uIHMoYSxiLGMpe2IuZW5kaW5nPSEwLHIoYSxiKSxjJiYoYi5maW5pc2hlZD94KGMpOmEub25jZShcImZpbmlzaFwiLGMpKSxiLmVuZGVkPSEwfWIuZXhwb3J0cz1lLGUuV3JpdGFibGVTdGF0ZT1kO3ZhciB0PVwidW5kZWZpbmVkXCIhPXR5cGVvZiBVaW50OEFycmF5P2Z1bmN0aW9uKGEpe3JldHVybiBhIGluc3RhbmNlb2YgVWludDhBcnJheX06ZnVuY3Rpb24oYSl7cmV0dXJuIGEmJmEuY29uc3RydWN0b3ImJlwiVWludDhBcnJheVwiPT09YS5jb25zdHJ1Y3Rvci5uYW1lfSx1PVwidW5kZWZpbmVkXCIhPXR5cGVvZiBBcnJheUJ1ZmZlcj9mdW5jdGlvbihhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfTpmdW5jdGlvbihhKXtyZXR1cm4gYSYmYS5jb25zdHJ1Y3RvciYmXCJBcnJheUJ1ZmZlclwiPT09YS5jb25zdHJ1Y3Rvci5uYW1lfSx2PWEoXCJpbmhlcml0c1wiKSx3PWEoXCIuL2luZGV4LmpzXCIpLHg9YShcInByb2Nlc3MvYnJvd3Nlci5qc1wiKS5uZXh0VGljayx5PWEoXCJidWZmZXJcIikuQnVmZmVyO3YoZSx3KSxlLnByb3RvdHlwZS5waXBlPWZ1bmN0aW9uKCl7dGhpcy5lbWl0KFwiZXJyb3JcIixuZXcgRXJyb3IoXCJDYW5ub3QgcGlwZS4gTm90IHJlYWRhYmxlLlwiKSl9LGUucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLl93cml0YWJsZVN0YXRlLGU9ITE7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgYiYmKGM9YixiPW51bGwpLCF5LmlzQnVmZmVyKGEpJiZ0KGEpJiYoYT1uZXcgeShhKSksdShhKSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFVpbnQ4QXJyYXkmJihhPW5ldyB5KG5ldyBVaW50OEFycmF5KGEpKSkseS5pc0J1ZmZlcihhKT9iPVwiYnVmZmVyXCI6Ynx8KGI9ZC5kZWZhdWx0RW5jb2RpbmcpLFwiZnVuY3Rpb25cIiE9dHlwZW9mIGMmJihjPWZ1bmN0aW9uKCl7fSksZC5lbmRlZD9mKHRoaXMsZCxjKTpnKHRoaXMsZCxhLGMpJiYoZT1pKHRoaXMsZCxhLGIsYykpLGV9LGUucHJvdG90eXBlLl93cml0ZT1mdW5jdGlvbihhLGIsYyl7YyhuZXcgRXJyb3IoXCJub3QgaW1wbGVtZW50ZWRcIikpfSxlLnByb3RvdHlwZS5lbmQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuX3dyaXRhYmxlU3RhdGU7XCJmdW5jdGlvblwiPT10eXBlb2YgYT8oYz1hLGE9bnVsbCxiPW51bGwpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGImJihjPWIsYj1udWxsKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgYSYmbnVsbCE9PWEmJnRoaXMud3JpdGUoYSxiKSxkLmVuZGluZ3x8ZC5maW5pc2hlZHx8cyh0aGlzLGQsYyl9fSx7XCIuL2luZGV4LmpzXCI6MTIsYnVmZmVyOjYsaW5oZXJpdHM6MTksXCJwcm9jZXNzL2Jyb3dzZXIuanNcIjoxM31dLDE4OltmdW5jdGlvbihhLGIsYyl7ZnVuY3Rpb24gZChhKXtpZihhJiYhaC5pc0VuY29kaW5nKGEpKXRocm93IG5ldyBFcnJvcihcIlVua25vd24gZW5jb2Rpbmc6IFwiK2EpfWZ1bmN0aW9uIGUoYSl7cmV0dXJuIGEudG9TdHJpbmcodGhpcy5lbmNvZGluZyl9ZnVuY3Rpb24gZihhKXt2YXIgYj10aGlzLmNoYXJSZWNlaXZlZD1hLmxlbmd0aCUyO3JldHVybiB0aGlzLmNoYXJMZW5ndGg9Yj8yOjAsYn1mdW5jdGlvbiBnKGEpe3ZhciBiPXRoaXMuY2hhclJlY2VpdmVkPWEubGVuZ3RoJTM7cmV0dXJuIHRoaXMuY2hhckxlbmd0aD1iPzM6MCxifXZhciBoPWEoXCJidWZmZXJcIikuQnVmZmVyLGk9Yy5TdHJpbmdEZWNvZGVyPWZ1bmN0aW9uKGEpe3N3aXRjaCh0aGlzLmVuY29kaW5nPShhfHxcInV0ZjhcIikudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9bLV9dLyxcIlwiKSxkKGEpLHRoaXMuZW5jb2Rpbmcpe2Nhc2VcInV0ZjhcIjp0aGlzLnN1cnJvZ2F0ZVNpemU9MzticmVhaztjYXNlXCJ1Y3MyXCI6Y2FzZVwidXRmMTZsZVwiOnRoaXMuc3Vycm9nYXRlU2l6ZT0yLHRoaXMuZGV0ZWN0SW5jb21wbGV0ZUNoYXI9ZjticmVhaztjYXNlXCJiYXNlNjRcIjp0aGlzLnN1cnJvZ2F0ZVNpemU9Myx0aGlzLmRldGVjdEluY29tcGxldGVDaGFyPWc7YnJlYWs7ZGVmYXVsdDpyZXR1cm4gdm9pZCh0aGlzLndyaXRlPWUpfXRoaXMuY2hhckJ1ZmZlcj1uZXcgaCg2KSx0aGlzLmNoYXJSZWNlaXZlZD0wLHRoaXMuY2hhckxlbmd0aD0wfTtpLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihhKXtmb3IodmFyIGI9XCJcIixjPTA7dGhpcy5jaGFyTGVuZ3RoOyl7dmFyIGQ9YS5sZW5ndGg+PXRoaXMuY2hhckxlbmd0aC10aGlzLmNoYXJSZWNlaXZlZD90aGlzLmNoYXJMZW5ndGgtdGhpcy5jaGFyUmVjZWl2ZWQ6YS5sZW5ndGg7aWYoYS5jb3B5KHRoaXMuY2hhckJ1ZmZlcix0aGlzLmNoYXJSZWNlaXZlZCxjLGQpLHRoaXMuY2hhclJlY2VpdmVkKz1kLWMsYz1kLHRoaXMuY2hhclJlY2VpdmVkPHRoaXMuY2hhckxlbmd0aClyZXR1cm5cIlwiO2I9dGhpcy5jaGFyQnVmZmVyLnNsaWNlKDAsdGhpcy5jaGFyTGVuZ3RoKS50b1N0cmluZyh0aGlzLmVuY29kaW5nKTt2YXIgZT1iLmNoYXJDb2RlQXQoYi5sZW5ndGgtMSk7aWYoIShlPj01NTI5NiYmNTYzMTk+PWUpKXtpZih0aGlzLmNoYXJSZWNlaXZlZD10aGlzLmNoYXJMZW5ndGg9MCxkPT1hLmxlbmd0aClyZXR1cm4gYjthPWEuc2xpY2UoZCxhLmxlbmd0aCk7YnJlYWt9dGhpcy5jaGFyTGVuZ3RoKz10aGlzLnN1cnJvZ2F0ZVNpemUsYj1cIlwifXZhciBmPXRoaXMuZGV0ZWN0SW5jb21wbGV0ZUNoYXIoYSksZz1hLmxlbmd0aDt0aGlzLmNoYXJMZW5ndGgmJihhLmNvcHkodGhpcy5jaGFyQnVmZmVyLDAsYS5sZW5ndGgtZixnKSx0aGlzLmNoYXJSZWNlaXZlZD1mLGctPWYpLGIrPWEudG9TdHJpbmcodGhpcy5lbmNvZGluZywwLGcpO3ZhciBnPWIubGVuZ3RoLTEsZT1iLmNoYXJDb2RlQXQoZyk7aWYoZT49NTUyOTYmJjU2MzE5Pj1lKXt2YXIgaD10aGlzLnN1cnJvZ2F0ZVNpemU7cmV0dXJuIHRoaXMuY2hhckxlbmd0aCs9aCx0aGlzLmNoYXJSZWNlaXZlZCs9aCx0aGlzLmNoYXJCdWZmZXIuY29weSh0aGlzLmNoYXJCdWZmZXIsaCwwLGgpLHRoaXMuY2hhckJ1ZmZlci53cml0ZShiLmNoYXJBdChiLmxlbmd0aC0xKSx0aGlzLmVuY29kaW5nKSxiLnN1YnN0cmluZygwLGcpfXJldHVybiBifSxpLnByb3RvdHlwZS5kZXRlY3RJbmNvbXBsZXRlQ2hhcj1mdW5jdGlvbihhKXtmb3IodmFyIGI9YS5sZW5ndGg+PTM/MzphLmxlbmd0aDtiPjA7Yi0tKXt2YXIgYz1hW2EubGVuZ3RoLWJdO2lmKDE9PWImJmM+PjU9PTYpe3RoaXMuY2hhckxlbmd0aD0yO2JyZWFrfWlmKDI+PWImJmM+PjQ9PTE0KXt0aGlzLmNoYXJMZW5ndGg9MzticmVha31pZigzPj1iJiZjPj4zPT0zMCl7dGhpcy5jaGFyTGVuZ3RoPTQ7YnJlYWt9fXJldHVybiBifSxpLnByb3RvdHlwZS5lbmQ9ZnVuY3Rpb24oYSl7dmFyIGI9XCJcIjtpZihhJiZhLmxlbmd0aCYmKGI9dGhpcy53cml0ZShhKSksdGhpcy5jaGFyUmVjZWl2ZWQpe3ZhciBjPXRoaXMuY2hhclJlY2VpdmVkLGQ9dGhpcy5jaGFyQnVmZmVyLGU9dGhpcy5lbmNvZGluZztiKz1kLnNsaWNlKDAsYykudG9TdHJpbmcoZSl9cmV0dXJuIGJ9fSx7YnVmZmVyOjZ9XSwxOTpbZnVuY3Rpb24oYSxiKXtiLmV4cG9ydHM9XCJmdW5jdGlvblwiPT10eXBlb2YgT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihhLGIpe2Euc3VwZXJfPWIsYS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShiLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmEsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSl9OmZ1bmN0aW9uKGEsYil7YS5zdXBlcl89Yjt2YXIgYz1mdW5jdGlvbigpe307Yy5wcm90b3R5cGU9Yi5wcm90b3R5cGUsYS5wcm90b3R5cGU9bmV3IGMsYS5wcm90b3R5cGUuY29uc3RydWN0b3I9YX19LHt9XSwyMDpbZnVuY3Rpb24oYSxiLGMpeyhmdW5jdGlvbigpe3ZhciBhPXRoaXMsZD1hLl8sZT17fSxmPUFycmF5LnByb3RvdHlwZSxnPU9iamVjdC5wcm90b3R5cGUsaD1GdW5jdGlvbi5wcm90b3R5cGUsaT1mLnB1c2gsaj1mLnNsaWNlLGs9Zi5jb25jYXQsbD1nLnRvU3RyaW5nLG09Zy5oYXNPd25Qcm9wZXJ0eSxuPWYuZm9yRWFjaCxvPWYubWFwLHA9Zi5yZWR1Y2UscT1mLnJlZHVjZVJpZ2h0LHI9Zi5maWx0ZXIscz1mLmV2ZXJ5LHQ9Zi5zb21lLHU9Zi5pbmRleE9mLHY9Zi5sYXN0SW5kZXhPZix3PUFycmF5LmlzQXJyYXkseD1PYmplY3Qua2V5cyx5PWguYmluZCx6PWZ1bmN0aW9uKGEpe3JldHVybiBhIGluc3RhbmNlb2Ygej9hOnRoaXMgaW5zdGFuY2VvZiB6P3ZvaWQodGhpcy5fd3JhcHBlZD1hKTpuZXcgeihhKX07XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGM/KFwidW5kZWZpbmVkXCIhPXR5cGVvZiBiJiZiLmV4cG9ydHMmJihjPWIuZXhwb3J0cz16KSxjLl89eik6YS5fPXosei5WRVJTSU9OPVwiMS42LjBcIjt2YXIgQT16LmVhY2g9ei5mb3JFYWNoPWZ1bmN0aW9uKGEsYixjKXtpZihudWxsPT1hKXJldHVybiBhO2lmKG4mJmEuZm9yRWFjaD09PW4pYS5mb3JFYWNoKGIsYyk7ZWxzZSBpZihhLmxlbmd0aD09PSthLmxlbmd0aCl7Zm9yKHZhciBkPTAsZj1hLmxlbmd0aDtmPmQ7ZCsrKWlmKGIuY2FsbChjLGFbZF0sZCxhKT09PWUpcmV0dXJufWVsc2UgZm9yKHZhciBnPXoua2V5cyhhKSxkPTAsZj1nLmxlbmd0aDtmPmQ7ZCsrKWlmKGIuY2FsbChjLGFbZ1tkXV0sZ1tkXSxhKT09PWUpcmV0dXJuO3JldHVybiBhfTt6Lm1hcD16LmNvbGxlY3Q9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPVtdO3JldHVybiBudWxsPT1hP2Q6byYmYS5tYXA9PT1vP2EubWFwKGIsYyk6KEEoYSxmdW5jdGlvbihhLGUsZil7ZC5wdXNoKGIuY2FsbChjLGEsZSxmKSl9KSxkKX07dmFyIEI9XCJSZWR1Y2Ugb2YgZW1wdHkgYXJyYXkgd2l0aCBubyBpbml0aWFsIHZhbHVlXCI7ei5yZWR1Y2U9ei5mb2xkbD16LmluamVjdD1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjI7aWYobnVsbD09YSYmKGE9W10pLHAmJmEucmVkdWNlPT09cClyZXR1cm4gZCYmKGI9ei5iaW5kKGIsZCkpLGU/YS5yZWR1Y2UoYixjKTphLnJlZHVjZShiKTtpZihBKGEsZnVuY3Rpb24oYSxmLGcpe2U/Yz1iLmNhbGwoZCxjLGEsZixnKTooYz1hLGU9ITApfSksIWUpdGhyb3cgbmV3IFR5cGVFcnJvcihCKTtyZXR1cm4gY30sei5yZWR1Y2VSaWdodD16LmZvbGRyPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MjtpZihudWxsPT1hJiYoYT1bXSkscSYmYS5yZWR1Y2VSaWdodD09PXEpcmV0dXJuIGQmJihiPXouYmluZChiLGQpKSxlP2EucmVkdWNlUmlnaHQoYixjKTphLnJlZHVjZVJpZ2h0KGIpO3ZhciBmPWEubGVuZ3RoO2lmKGYhPT0rZil7dmFyIGc9ei5rZXlzKGEpO2Y9Zy5sZW5ndGh9aWYoQShhLGZ1bmN0aW9uKGgsaSxqKXtpPWc/Z1stLWZdOi0tZixlP2M9Yi5jYWxsKGQsYyxhW2ldLGksaik6KGM9YVtpXSxlPSEwKX0pLCFlKXRocm93IG5ldyBUeXBlRXJyb3IoQik7cmV0dXJuIGN9LHouZmluZD16LmRldGVjdD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ7cmV0dXJuIEMoYSxmdW5jdGlvbihhLGUsZil7cmV0dXJuIGIuY2FsbChjLGEsZSxmKT8oZD1hLCEwKTp2b2lkIDB9KSxkfSx6LmZpbHRlcj16LnNlbGVjdD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9W107cmV0dXJuIG51bGw9PWE/ZDpyJiZhLmZpbHRlcj09PXI/YS5maWx0ZXIoYixjKTooQShhLGZ1bmN0aW9uKGEsZSxmKXtiLmNhbGwoYyxhLGUsZikmJmQucHVzaChhKX0pLGQpfSx6LnJlamVjdD1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIHouZmlsdGVyKGEsZnVuY3Rpb24oYSxkLGUpe3JldHVybiFiLmNhbGwoYyxhLGQsZSl9LGMpfSx6LmV2ZXJ5PXouYWxsPWZ1bmN0aW9uKGEsYixjKXtifHwoYj16LmlkZW50aXR5KTt2YXIgZD0hMDtyZXR1cm4gbnVsbD09YT9kOnMmJmEuZXZlcnk9PT1zP2EuZXZlcnkoYixjKTooQShhLGZ1bmN0aW9uKGEsZixnKXtyZXR1cm4oZD1kJiZiLmNhbGwoYyxhLGYsZykpP3ZvaWQgMDplfSksISFkKX07dmFyIEM9ei5zb21lPXouYW55PWZ1bmN0aW9uKGEsYixjKXtifHwoYj16LmlkZW50aXR5KTt2YXIgZD0hMTtyZXR1cm4gbnVsbD09YT9kOnQmJmEuc29tZT09PXQ/YS5zb21lKGIsYyk6KEEoYSxmdW5jdGlvbihhLGYsZyl7cmV0dXJuIGR8fChkPWIuY2FsbChjLGEsZixnKSk/ZTp2b2lkIDB9KSwhIWQpfTt6LmNvbnRhaW5zPXouaW5jbHVkZT1mdW5jdGlvbihhLGIpe3JldHVybiBudWxsPT1hPyExOnUmJmEuaW5kZXhPZj09PXU/LTEhPWEuaW5kZXhPZihiKTpDKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1ifSl9LHouaW52b2tlPWZ1bmN0aW9uKGEsYil7dmFyIGM9ai5jYWxsKGFyZ3VtZW50cywyKSxkPXouaXNGdW5jdGlvbihiKTtyZXR1cm4gei5tYXAoYSxmdW5jdGlvbihhKXtyZXR1cm4oZD9iOmFbYl0pLmFwcGx5KGEsYyl9KX0sei5wbHVjaz1mdW5jdGlvbihhLGIpe3JldHVybiB6Lm1hcChhLHoucHJvcGVydHkoYikpfSx6LndoZXJlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHouZmlsdGVyKGEsei5tYXRjaGVzKGIpKX0sei5maW5kV2hlcmU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gei5maW5kKGEsei5tYXRjaGVzKGIpKX0sei5tYXg9ZnVuY3Rpb24oYSxiLGMpe2lmKCFiJiZ6LmlzQXJyYXkoYSkmJmFbMF09PT0rYVswXSYmYS5sZW5ndGg8NjU1MzUpcmV0dXJuIE1hdGgubWF4LmFwcGx5KE1hdGgsYSk7dmFyIGQ9LTEvMCxlPS0xLzA7cmV0dXJuIEEoYSxmdW5jdGlvbihhLGYsZyl7dmFyIGg9Yj9iLmNhbGwoYyxhLGYsZyk6YTtoPmUmJihkPWEsZT1oKX0pLGR9LHoubWluPWZ1bmN0aW9uKGEsYixjKXtpZighYiYmei5pc0FycmF5KGEpJiZhWzBdPT09K2FbMF0mJmEubGVuZ3RoPDY1NTM1KXJldHVybiBNYXRoLm1pbi5hcHBseShNYXRoLGEpO3ZhciBkPTEvMCxlPTEvMDtyZXR1cm4gQShhLGZ1bmN0aW9uKGEsZixnKXt2YXIgaD1iP2IuY2FsbChjLGEsZixnKTphO2U+aCYmKGQ9YSxlPWgpfSksZH0sei5zaHVmZmxlPWZ1bmN0aW9uKGEpe3ZhciBiLGM9MCxkPVtdO3JldHVybiBBKGEsZnVuY3Rpb24oYSl7Yj16LnJhbmRvbShjKyspLGRbYy0xXT1kW2JdLGRbYl09YX0pLGR9LHouc2FtcGxlPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gbnVsbD09Ynx8Yz8oYS5sZW5ndGghPT0rYS5sZW5ndGgmJihhPXoudmFsdWVzKGEpKSxhW3oucmFuZG9tKGEubGVuZ3RoLTEpXSk6ei5zaHVmZmxlKGEpLnNsaWNlKDAsTWF0aC5tYXgoMCxiKSl9O3ZhciBEPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hP3ouaWRlbnRpdHk6ei5pc0Z1bmN0aW9uKGEpP2E6ei5wcm9wZXJ0eShhKX07ei5zb3J0Qnk9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBiPUQoYiksei5wbHVjayh6Lm1hcChhLGZ1bmN0aW9uKGEsZCxlKXtyZXR1cm57dmFsdWU6YSxpbmRleDpkLGNyaXRlcmlhOmIuY2FsbChjLGEsZCxlKX19KS5zb3J0KGZ1bmN0aW9uKGEsYil7dmFyIGM9YS5jcml0ZXJpYSxkPWIuY3JpdGVyaWE7aWYoYyE9PWQpe2lmKGM+ZHx8dm9pZCAwPT09YylyZXR1cm4gMTtpZihkPmN8fHZvaWQgMD09PWQpcmV0dXJuLTF9cmV0dXJuIGEuaW5kZXgtYi5pbmRleH0pLFwidmFsdWVcIil9O3ZhciBFPWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiLGMsZCl7dmFyIGU9e307cmV0dXJuIGM9RChjKSxBKGIsZnVuY3Rpb24oZixnKXt2YXIgaD1jLmNhbGwoZCxmLGcsYik7YShlLGgsZil9KSxlfX07ei5ncm91cEJ5PUUoZnVuY3Rpb24oYSxiLGMpe3ouaGFzKGEsYik/YVtiXS5wdXNoKGMpOmFbYl09W2NdfSksei5pbmRleEJ5PUUoZnVuY3Rpb24oYSxiLGMpe2FbYl09Y30pLHouY291bnRCeT1FKGZ1bmN0aW9uKGEsYil7ei5oYXMoYSxiKT9hW2JdKys6YVtiXT0xfSksei5zb3J0ZWRJbmRleD1mdW5jdGlvbihhLGIsYyxkKXtjPUQoYyk7Zm9yKHZhciBlPWMuY2FsbChkLGIpLGY9MCxnPWEubGVuZ3RoO2c+Zjspe3ZhciBoPWYrZz4+PjE7Yy5jYWxsKGQsYVtoXSk8ZT9mPWgrMTpnPWh9cmV0dXJuIGZ9LHoudG9BcnJheT1mdW5jdGlvbihhKXtyZXR1cm4gYT96LmlzQXJyYXkoYSk/ai5jYWxsKGEpOmEubGVuZ3RoPT09K2EubGVuZ3RoP3oubWFwKGEsei5pZGVudGl0eSk6ei52YWx1ZXMoYSk6W119LHouc2l6ZT1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YT8wOmEubGVuZ3RoPT09K2EubGVuZ3RoP2EubGVuZ3RoOnoua2V5cyhhKS5sZW5ndGh9LHouZmlyc3Q9ei5oZWFkPXoudGFrZT1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIG51bGw9PWE/dm9pZCAwOm51bGw9PWJ8fGM/YVswXTowPmI/W106ai5jYWxsKGEsMCxiKX0sei5pbml0aWFsPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gai5jYWxsKGEsMCxhLmxlbmd0aC0obnVsbD09Ynx8Yz8xOmIpKX0sei5sYXN0PWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gbnVsbD09YT92b2lkIDA6bnVsbD09Ynx8Yz9hW2EubGVuZ3RoLTFdOmouY2FsbChhLE1hdGgubWF4KGEubGVuZ3RoLWIsMCkpfSx6LnJlc3Q9ei50YWlsPXouZHJvcD1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGouY2FsbChhLG51bGw9PWJ8fGM/MTpiKX0sei5jb21wYWN0PWZ1bmN0aW9uKGEpe3JldHVybiB6LmZpbHRlcihhLHouaWRlbnRpdHkpfTt2YXIgRj1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGImJnouZXZlcnkoYSx6LmlzQXJyYXkpP2suYXBwbHkoYyxhKTooQShhLGZ1bmN0aW9uKGEpe3ouaXNBcnJheShhKXx8ei5pc0FyZ3VtZW50cyhhKT9iP2kuYXBwbHkoYyxhKTpGKGEsYixjKTpjLnB1c2goYSl9KSxjKX07ei5mbGF0dGVuPWZ1bmN0aW9uKGEsYil7cmV0dXJuIEYoYSxiLFtdKX0sei53aXRob3V0PWZ1bmN0aW9uKGEpe3JldHVybiB6LmRpZmZlcmVuY2UoYSxqLmNhbGwoYXJndW1lbnRzLDEpKX0sei5wYXJ0aXRpb249ZnVuY3Rpb24oYSxiKXt2YXIgYz1bXSxkPVtdO3JldHVybiBBKGEsZnVuY3Rpb24oYSl7KGIoYSk/YzpkKS5wdXNoKGEpfSksW2MsZF19LHoudW5pcT16LnVuaXF1ZT1mdW5jdGlvbihhLGIsYyxkKXt6LmlzRnVuY3Rpb24oYikmJihkPWMsYz1iLGI9ITEpO3ZhciBlPWM/ei5tYXAoYSxjLGQpOmEsZj1bXSxnPVtdO3JldHVybiBBKGUsZnVuY3Rpb24oYyxkKXsoYj9kJiZnW2cubGVuZ3RoLTFdPT09Yzp6LmNvbnRhaW5zKGcsYykpfHwoZy5wdXNoKGMpLGYucHVzaChhW2RdKSl9KSxmfSx6LnVuaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHoudW5pcSh6LmZsYXR0ZW4oYXJndW1lbnRzLCEwKSl9LHouaW50ZXJzZWN0aW9uPWZ1bmN0aW9uKGEpe3ZhciBiPWouY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIHouZmlsdGVyKHoudW5pcShhKSxmdW5jdGlvbihhKXtyZXR1cm4gei5ldmVyeShiLGZ1bmN0aW9uKGIpe3JldHVybiB6LmNvbnRhaW5zKGIsYSl9KX0pfSx6LmRpZmZlcmVuY2U9ZnVuY3Rpb24oYSl7dmFyIGI9ay5hcHBseShmLGouY2FsbChhcmd1bWVudHMsMSkpO3JldHVybiB6LmZpbHRlcihhLGZ1bmN0aW9uKGEpe3JldHVybiF6LmNvbnRhaW5zKGIsYSl9KX0sei56aXA9ZnVuY3Rpb24oKXtmb3IodmFyIGE9ei5tYXgoei5wbHVjayhhcmd1bWVudHMsXCJsZW5ndGhcIikuY29uY2F0KDApKSxiPW5ldyBBcnJheShhKSxjPTA7YT5jO2MrKyliW2NdPXoucGx1Y2soYXJndW1lbnRzLFwiXCIrYyk7cmV0dXJuIGJ9LHoub2JqZWN0PWZ1bmN0aW9uKGEsYil7aWYobnVsbD09YSlyZXR1cm57fTtmb3IodmFyIGM9e30sZD0wLGU9YS5sZW5ndGg7ZT5kO2QrKyliP2NbYVtkXV09YltkXTpjW2FbZF1bMF1dPWFbZF1bMV07cmV0dXJuIGN9LHouaW5kZXhPZj1mdW5jdGlvbihhLGIsYyl7aWYobnVsbD09YSlyZXR1cm4tMTt2YXIgZD0wLGU9YS5sZW5ndGg7aWYoYyl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGMpcmV0dXJuIGQ9ei5zb3J0ZWRJbmRleChhLGIpLGFbZF09PT1iP2Q6LTE7ZD0wPmM/TWF0aC5tYXgoMCxlK2MpOmN9aWYodSYmYS5pbmRleE9mPT09dSlyZXR1cm4gYS5pbmRleE9mKGIsYyk7Zm9yKDtlPmQ7ZCsrKWlmKGFbZF09PT1iKXJldHVybiBkO3JldHVybi0xfSx6Lmxhc3RJbmRleE9mPWZ1bmN0aW9uKGEsYixjKXtpZihudWxsPT1hKXJldHVybi0xO3ZhciBkPW51bGwhPWM7aWYodiYmYS5sYXN0SW5kZXhPZj09PXYpcmV0dXJuIGQ/YS5sYXN0SW5kZXhPZihiLGMpOmEubGFzdEluZGV4T2YoYik7Zm9yKHZhciBlPWQ/YzphLmxlbmd0aDtlLS07KWlmKGFbZV09PT1iKXJldHVybiBlO3JldHVybi0xfSx6LnJhbmdlPWZ1bmN0aW9uKGEsYixjKXthcmd1bWVudHMubGVuZ3RoPD0xJiYoYj1hfHwwLGE9MCksYz1hcmd1bWVudHNbMl18fDE7Zm9yKHZhciBkPU1hdGgubWF4KE1hdGguY2VpbCgoYi1hKS9jKSwwKSxlPTAsZj1uZXcgQXJyYXkoZCk7ZD5lOylmW2UrK109YSxhKz1jO3JldHVybiBmfTt2YXIgRz1mdW5jdGlvbigpe307ei5iaW5kPWZ1bmN0aW9uKGEsYil7dmFyIGMsZDtpZih5JiZhLmJpbmQ9PT15KXJldHVybiB5LmFwcGx5KGEsai5jYWxsKGFyZ3VtZW50cywxKSk7aWYoIXouaXNGdW5jdGlvbihhKSl0aHJvdyBuZXcgVHlwZUVycm9yO3JldHVybiBjPWouY2FsbChhcmd1bWVudHMsMiksZD1mdW5jdGlvbigpe2lmKCEodGhpcyBpbnN0YW5jZW9mIGQpKXJldHVybiBhLmFwcGx5KGIsYy5jb25jYXQoai5jYWxsKGFyZ3VtZW50cykpKTtHLnByb3RvdHlwZT1hLnByb3RvdHlwZTt2YXIgZT1uZXcgRztHLnByb3RvdHlwZT1udWxsO3ZhciBmPWEuYXBwbHkoZSxjLmNvbmNhdChqLmNhbGwoYXJndW1lbnRzKSkpO3JldHVybiBPYmplY3QoZik9PT1mP2Y6ZX19LHoucGFydGlhbD1mdW5jdGlvbihhKXt2YXIgYj1qLmNhbGwoYXJndW1lbnRzLDEpO3JldHVybiBmdW5jdGlvbigpe2Zvcih2YXIgYz0wLGQ9Yi5zbGljZSgpLGU9MCxmPWQubGVuZ3RoO2Y+ZTtlKyspZFtlXT09PXomJihkW2VdPWFyZ3VtZW50c1tjKytdKTtmb3IoO2M8YXJndW1lbnRzLmxlbmd0aDspZC5wdXNoKGFyZ3VtZW50c1tjKytdKTtyZXR1cm4gYS5hcHBseSh0aGlzLGQpfX0sei5iaW5kQWxsPWZ1bmN0aW9uKGEpe3ZhciBiPWouY2FsbChhcmd1bWVudHMsMSk7aWYoMD09PWIubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcImJpbmRBbGwgbXVzdCBiZSBwYXNzZWQgZnVuY3Rpb24gbmFtZXNcIik7cmV0dXJuIEEoYixmdW5jdGlvbihiKXthW2JdPXouYmluZChhW2JdLGEpfSksYX0sei5tZW1vaXplPWZ1bmN0aW9uKGEsYil7dmFyIGM9e307cmV0dXJuIGJ8fChiPXouaWRlbnRpdHkpLGZ1bmN0aW9uKCl7dmFyIGQ9Yi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHouaGFzKGMsZCk/Y1tkXTpjW2RdPWEuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0sei5kZWxheT1mdW5jdGlvbihhLGIpe3ZhciBjPWouY2FsbChhcmd1bWVudHMsMik7cmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtyZXR1cm4gYS5hcHBseShudWxsLGMpfSxiKX0sei5kZWZlcj1mdW5jdGlvbihhKXtyZXR1cm4gei5kZWxheS5hcHBseSh6LFthLDFdLmNvbmNhdChqLmNhbGwoYXJndW1lbnRzLDEpKSl9LHoudGhyb3R0bGU9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZixnPW51bGwsaD0wO2N8fChjPXt9KTt2YXIgaT1mdW5jdGlvbigpe2g9Yy5sZWFkaW5nPT09ITE/MDp6Lm5vdygpLGc9bnVsbCxmPWEuYXBwbHkoZCxlKSxkPWU9bnVsbH07cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGo9ei5ub3coKTtofHxjLmxlYWRpbmchPT0hMXx8KGg9aik7dmFyIGs9Yi0oai1oKTtyZXR1cm4gZD10aGlzLGU9YXJndW1lbnRzLDA+PWs/KGNsZWFyVGltZW91dChnKSxnPW51bGwsaD1qLGY9YS5hcHBseShkLGUpLGQ9ZT1udWxsKTpnfHxjLnRyYWlsaW5nPT09ITF8fChnPXNldFRpbWVvdXQoaSxrKSksZn19LHouZGVib3VuY2U9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZixnLGgsaT1mdW5jdGlvbigpe3ZhciBqPXoubm93KCktZztiPmo/ZD1zZXRUaW1lb3V0KGksYi1qKTooZD1udWxsLGN8fChoPWEuYXBwbHkoZixlKSxmPWU9bnVsbCkpfTtyZXR1cm4gZnVuY3Rpb24oKXtmPXRoaXMsZT1hcmd1bWVudHMsZz16Lm5vdygpO3ZhciBqPWMmJiFkO3JldHVybiBkfHwoZD1zZXRUaW1lb3V0KGksYikpLGomJihoPWEuYXBwbHkoZixlKSxmPWU9bnVsbCksaH19LHoub25jZT1mdW5jdGlvbihhKXt2YXIgYixjPSExO3JldHVybiBmdW5jdGlvbigpe3JldHVybiBjP2I6KGM9ITAsYj1hLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxhPW51bGwsYil9fSx6LndyYXA9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gei5wYXJ0aWFsKGIsYSl9LHouY29tcG9zZT1mdW5jdGlvbigpe3ZhciBhPWFyZ3VtZW50cztyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIGI9YXJndW1lbnRzLGM9YS5sZW5ndGgtMTtjPj0wO2MtLSliPVthW2NdLmFwcGx5KHRoaXMsYildO3JldHVybiBiWzBdfX0sei5hZnRlcj1mdW5jdGlvbihhLGIpe3JldHVybiBmdW5jdGlvbigpe3JldHVybi0tYTwxP2IuYXBwbHkodGhpcyxhcmd1bWVudHMpOnZvaWQgMH19LHoua2V5cz1mdW5jdGlvbihhKXtpZighei5pc09iamVjdChhKSlyZXR1cm5bXTtpZih4KXJldHVybiB4KGEpO3ZhciBiPVtdO2Zvcih2YXIgYyBpbiBhKXouaGFzKGEsYykmJmIucHVzaChjKTtyZXR1cm4gYn0sei52YWx1ZXM9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXoua2V5cyhhKSxjPWIubGVuZ3RoLGQ9bmV3IEFycmF5KGMpLGU9MDtjPmU7ZSsrKWRbZV09YVtiW2VdXTtyZXR1cm4gZH0sei5wYWlycz1mdW5jdGlvbihhKXtmb3IodmFyIGI9ei5rZXlzKGEpLGM9Yi5sZW5ndGgsZD1uZXcgQXJyYXkoYyksZT0wO2M+ZTtlKyspZFtlXT1bYltlXSxhW2JbZV1dXTtyZXR1cm4gZH0sei5pbnZlcnQ9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXt9LGM9ei5rZXlzKGEpLGQ9MCxlPWMubGVuZ3RoO2U+ZDtkKyspYlthW2NbZF1dXT1jW2RdO3JldHVybiBifSx6LmZ1bmN0aW9ucz16Lm1ldGhvZHM9ZnVuY3Rpb24oYSl7dmFyIGI9W107Zm9yKHZhciBjIGluIGEpei5pc0Z1bmN0aW9uKGFbY10pJiZiLnB1c2goYyk7cmV0dXJuIGIuc29ydCgpfSx6LmV4dGVuZD1mdW5jdGlvbihhKXtyZXR1cm4gQShqLmNhbGwoYXJndW1lbnRzLDEpLGZ1bmN0aW9uKGIpe2lmKGIpZm9yKHZhciBjIGluIGIpYVtjXT1iW2NdfSksYX0sei5waWNrPWZ1bmN0aW9uKGEpe3ZhciBiPXt9LGM9ay5hcHBseShmLGouY2FsbChhcmd1bWVudHMsMSkpO3JldHVybiBBKGMsZnVuY3Rpb24oYyl7YyBpbiBhJiYoYltjXT1hW2NdKX0pLGJ9LHoub21pdD1mdW5jdGlvbihhKXt2YXIgYj17fSxjPWsuYXBwbHkoZixqLmNhbGwoYXJndW1lbnRzLDEpKTtmb3IodmFyIGQgaW4gYSl6LmNvbnRhaW5zKGMsZCl8fChiW2RdPWFbZF0pO3JldHVybiBifSx6LmRlZmF1bHRzPWZ1bmN0aW9uKGEpe3JldHVybiBBKGouY2FsbChhcmd1bWVudHMsMSksZnVuY3Rpb24oYil7aWYoYilmb3IodmFyIGMgaW4gYil2b2lkIDA9PT1hW2NdJiYoYVtjXT1iW2NdKX0pLGF9LHouY2xvbmU9ZnVuY3Rpb24oYSl7cmV0dXJuIHouaXNPYmplY3QoYSk/ei5pc0FycmF5KGEpP2Euc2xpY2UoKTp6LmV4dGVuZCh7fSxhKTphfSx6LnRhcD1mdW5jdGlvbihhLGIpe3JldHVybiBiKGEpLGF9O3ZhciBIPWZ1bmN0aW9uKGEsYixjLGQpe2lmKGE9PT1iKXJldHVybiAwIT09YXx8MS9hPT0xL2I7aWYobnVsbD09YXx8bnVsbD09YilyZXR1cm4gYT09PWI7YSBpbnN0YW5jZW9mIHomJihhPWEuX3dyYXBwZWQpLGIgaW5zdGFuY2VvZiB6JiYoYj1iLl93cmFwcGVkKTt2YXIgZT1sLmNhbGwoYSk7aWYoZSE9bC5jYWxsKGIpKXJldHVybiExO3N3aXRjaChlKXtjYXNlXCJbb2JqZWN0IFN0cmluZ11cIjpyZXR1cm4gYT09U3RyaW5nKGIpO2Nhc2VcIltvYmplY3QgTnVtYmVyXVwiOnJldHVybiBhIT0rYT9iIT0rYjowPT1hPzEvYT09MS9iOmE9PStiO2Nhc2VcIltvYmplY3QgRGF0ZV1cIjpjYXNlXCJbb2JqZWN0IEJvb2xlYW5dXCI6cmV0dXJuK2E9PStiO2Nhc2VcIltvYmplY3QgUmVnRXhwXVwiOnJldHVybiBhLnNvdXJjZT09Yi5zb3VyY2UmJmEuZ2xvYmFsPT1iLmdsb2JhbCYmYS5tdWx0aWxpbmU9PWIubXVsdGlsaW5lJiZhLmlnbm9yZUNhc2U9PWIuaWdub3JlQ2FzZX1pZihcIm9iamVjdFwiIT10eXBlb2YgYXx8XCJvYmplY3RcIiE9dHlwZW9mIGIpcmV0dXJuITE7Zm9yKHZhciBmPWMubGVuZ3RoO2YtLTspaWYoY1tmXT09YSlyZXR1cm4gZFtmXT09Yjt2YXIgZz1hLmNvbnN0cnVjdG9yLGg9Yi5jb25zdHJ1Y3RvcjtpZihnIT09aCYmISh6LmlzRnVuY3Rpb24oZykmJmcgaW5zdGFuY2VvZiBnJiZ6LmlzRnVuY3Rpb24oaCkmJmggaW5zdGFuY2VvZiBoKSYmXCJjb25zdHJ1Y3RvclwiaW4gYSYmXCJjb25zdHJ1Y3RvclwiaW4gYilyZXR1cm4hMTtjLnB1c2goYSksZC5wdXNoKGIpO3ZhciBpPTAsaj0hMDtpZihcIltvYmplY3QgQXJyYXldXCI9PWUpe2lmKGk9YS5sZW5ndGgsaj1pPT1iLmxlbmd0aClmb3IoO2ktLSYmKGo9SChhW2ldLGJbaV0sYyxkKSk7KTt9ZWxzZXtmb3IodmFyIGsgaW4gYSlpZih6LmhhcyhhLGspJiYoaSsrLCEoaj16LmhhcyhiLGspJiZIKGFba10sYltrXSxjLGQpKSkpYnJlYWs7aWYoail7Zm9yKGsgaW4gYilpZih6LmhhcyhiLGspJiYhaS0tKWJyZWFrO2o9IWl9fXJldHVybiBjLnBvcCgpLGQucG9wKCksan07ei5pc0VxdWFsPWZ1bmN0aW9uKGEsYil7cmV0dXJuIEgoYSxiLFtdLFtdKX0sei5pc0VtcHR5PWZ1bmN0aW9uKGEpe2lmKG51bGw9PWEpcmV0dXJuITA7aWYoei5pc0FycmF5KGEpfHx6LmlzU3RyaW5nKGEpKXJldHVybiAwPT09YS5sZW5ndGg7Zm9yKHZhciBiIGluIGEpaWYoei5oYXMoYSxiKSlyZXR1cm4hMTtyZXR1cm4hMH0sei5pc0VsZW1lbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuISghYXx8MSE9PWEubm9kZVR5cGUpfSx6LmlzQXJyYXk9d3x8ZnVuY3Rpb24oYSl7cmV0dXJuXCJbb2JqZWN0IEFycmF5XVwiPT1sLmNhbGwoYSl9LHouaXNPYmplY3Q9ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1PYmplY3QoYSl9LEEoW1wiQXJndW1lbnRzXCIsXCJGdW5jdGlvblwiLFwiU3RyaW5nXCIsXCJOdW1iZXJcIixcIkRhdGVcIixcIlJlZ0V4cFwiXSxmdW5jdGlvbihhKXt6W1wiaXNcIithXT1mdW5jdGlvbihiKXtyZXR1cm4gbC5jYWxsKGIpPT1cIltvYmplY3QgXCIrYStcIl1cIn19KSx6LmlzQXJndW1lbnRzKGFyZ3VtZW50cyl8fCh6LmlzQXJndW1lbnRzPWZ1bmN0aW9uKGEpe3JldHVybiEoIWF8fCF6LmhhcyhhLFwiY2FsbGVlXCIpKX0pLFwiZnVuY3Rpb25cIiE9dHlwZW9mLy4vJiYoei5pc0Z1bmN0aW9uPWZ1bmN0aW9uKGEpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGF9KSx6LmlzRmluaXRlPWZ1bmN0aW9uKGEpe3JldHVybiBpc0Zpbml0ZShhKSYmIWlzTmFOKHBhcnNlRmxvYXQoYSkpfSx6LmlzTmFOPWZ1bmN0aW9uKGEpe3JldHVybiB6LmlzTnVtYmVyKGEpJiZhIT0rYX0sei5pc0Jvb2xlYW49ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT0hMHx8YT09PSExfHxcIltvYmplY3QgQm9vbGVhbl1cIj09bC5jYWxsKGEpfSx6LmlzTnVsbD1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09PWF9LHouaXNVbmRlZmluZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHZvaWQgMD09PWF9LHouaGFzPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG0uY2FsbChhLGIpfSx6Lm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gYS5fPWQsdGhpc30sei5pZGVudGl0eT1mdW5jdGlvbihhKXtyZXR1cm4gYX0sei5jb25zdGFudD1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYX19LHoucHJvcGVydHk9ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybiBiW2FdfX0sei5tYXRjaGVzPWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtpZihiPT09YSlyZXR1cm4hMDtmb3IodmFyIGMgaW4gYSlpZihhW2NdIT09YltjXSlyZXR1cm4hMTtyZXR1cm4hMH19LHoudGltZXM9ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD1BcnJheShNYXRoLm1heCgwLGEpKSxlPTA7YT5lO2UrKylkW2VdPWIuY2FsbChjLGUpO3JldHVybiBkfSx6LnJhbmRvbT1mdW5jdGlvbihhLGIpe3JldHVybiBudWxsPT1iJiYoYj1hLGE9MCksYStNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqKGItYSsxKSl9LHoubm93PURhdGUubm93fHxmdW5jdGlvbigpe3JldHVybihuZXcgRGF0ZSkuZ2V0VGltZSgpfTt2YXIgST17ZXNjYXBlOntcIiZcIjpcIiZhbXA7XCIsXCI8XCI6XCImbHQ7XCIsXCI+XCI6XCImZ3Q7XCIsJ1wiJzpcIiZxdW90O1wiLFwiJ1wiOlwiJiN4Mjc7XCJ9fTtJLnVuZXNjYXBlPXouaW52ZXJ0KEkuZXNjYXBlKTt2YXIgSj17ZXNjYXBlOm5ldyBSZWdFeHAoXCJbXCIrei5rZXlzKEkuZXNjYXBlKS5qb2luKFwiXCIpK1wiXVwiLFwiZ1wiKSx1bmVzY2FwZTpuZXcgUmVnRXhwKFwiKFwiK3oua2V5cyhJLnVuZXNjYXBlKS5qb2luKFwifFwiKStcIilcIixcImdcIil9O3ouZWFjaChbXCJlc2NhcGVcIixcInVuZXNjYXBlXCJdLGZ1bmN0aW9uKGEpe3pbYV09ZnVuY3Rpb24oYil7cmV0dXJuIG51bGw9PWI/XCJcIjooXCJcIitiKS5yZXBsYWNlKEpbYV0sZnVuY3Rpb24oYil7cmV0dXJuIElbYV1bYl19KX19KSx6LnJlc3VsdD1mdW5jdGlvbihhLGIpe2lmKG51bGw9PWEpcmV0dXJuIHZvaWQgMDt2YXIgYz1hW2JdO3JldHVybiB6LmlzRnVuY3Rpb24oYyk/Yy5jYWxsKGEpOmN9LHoubWl4aW49ZnVuY3Rpb24oYSl7QSh6LmZ1bmN0aW9ucyhhKSxmdW5jdGlvbihiKXt2YXIgYz16W2JdPWFbYl07ei5wcm90b3R5cGVbYl09ZnVuY3Rpb24oKXt2YXIgYT1bdGhpcy5fd3JhcHBlZF07cmV0dXJuIGkuYXBwbHkoYSxhcmd1bWVudHMpLE8uY2FsbCh0aGlzLGMuYXBwbHkoeixhKSl9fSl9O3ZhciBLPTA7ei51bmlxdWVJZD1mdW5jdGlvbihhKXt2YXIgYj0rK0srXCJcIjtyZXR1cm4gYT9hK2I6Yn0sei50ZW1wbGF0ZVNldHRpbmdzPXtldmFsdWF0ZTovPCUoW1xcc1xcU10rPyklPi9nLGludGVycG9sYXRlOi88JT0oW1xcc1xcU10rPyklPi9nLGVzY2FwZTovPCUtKFtcXHNcXFNdKz8pJT4vZ307dmFyIEw9LyguKV4vLE09e1wiJ1wiOlwiJ1wiLFwiXFxcXFwiOlwiXFxcXFwiLFwiXFxyXCI6XCJyXCIsXCJcXG5cIjpcIm5cIixcIlx0XCI6XCJ0XCIsXCJcXHUyMDI4XCI6XCJ1MjAyOFwiLFwiXFx1MjAyOVwiOlwidTIwMjlcIn0sTj0vXFxcXHwnfFxccnxcXG58XFx0fFxcdTIwMjh8XFx1MjAyOS9nO3oudGVtcGxhdGU9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkO2M9ei5kZWZhdWx0cyh7fSxjLHoudGVtcGxhdGVTZXR0aW5ncyk7dmFyIGU9bmV3IFJlZ0V4cChbKGMuZXNjYXBlfHxMKS5zb3VyY2UsKGMuaW50ZXJwb2xhdGV8fEwpLnNvdXJjZSwoYy5ldmFsdWF0ZXx8TCkuc291cmNlXS5qb2luKFwifFwiKStcInwkXCIsXCJnXCIpLGY9MCxnPVwiX19wKz0nXCI7YS5yZXBsYWNlKGUsZnVuY3Rpb24oYixjLGQsZSxoKXtyZXR1cm4gZys9YS5zbGljZShmLGgpLnJlcGxhY2UoTixmdW5jdGlvbihhKXtyZXR1cm5cIlxcXFxcIitNW2FdfSksYyYmKGcrPVwiJytcXG4oKF9fdD0oXCIrYytcIikpPT1udWxsPycnOl8uZXNjYXBlKF9fdCkpK1xcbidcIiksZCYmKGcrPVwiJytcXG4oKF9fdD0oXCIrZCtcIikpPT1udWxsPycnOl9fdCkrXFxuJ1wiKSxlJiYoZys9XCInO1xcblwiK2UrXCJcXG5fX3ArPSdcIiksZj1oK2IubGVuZ3RoLGJ9KSxnKz1cIic7XFxuXCIsYy52YXJpYWJsZXx8KGc9XCJ3aXRoKG9ianx8e30pe1xcblwiK2crXCJ9XFxuXCIpLGc9XCJ2YXIgX190LF9fcD0nJyxfX2o9QXJyYXkucHJvdG90eXBlLmpvaW4scHJpbnQ9ZnVuY3Rpb24oKXtfX3ArPV9fai5jYWxsKGFyZ3VtZW50cywnJyk7fTtcXG5cIitnK1wicmV0dXJuIF9fcDtcXG5cIjt0cnl7ZD1uZXcgRnVuY3Rpb24oYy52YXJpYWJsZXx8XCJvYmpcIixcIl9cIixnKX1jYXRjaChoKXt0aHJvdyBoLnNvdXJjZT1nLGh9aWYoYilyZXR1cm4gZChiLHopO3ZhciBpPWZ1bmN0aW9uKGEpe3JldHVybiBkLmNhbGwodGhpcyxhLHopfTtyZXR1cm4gaS5zb3VyY2U9XCJmdW5jdGlvbihcIisoYy52YXJpYWJsZXx8XCJvYmpcIikrXCIpe1xcblwiK2crXCJ9XCIsaX0sei5jaGFpbj1mdW5jdGlvbihhKXtyZXR1cm4geihhKS5jaGFpbigpfTt2YXIgTz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fY2hhaW4/eihhKS5jaGFpbigpOmF9O3oubWl4aW4oeiksQShbXCJwb3BcIixcInB1c2hcIixcInJldmVyc2VcIixcInNoaWZ0XCIsXCJzb3J0XCIsXCJzcGxpY2VcIixcInVuc2hpZnRcIl0sZnVuY3Rpb24oYSl7dmFyIGI9ZlthXTt6LnByb3RvdHlwZVthXT1mdW5jdGlvbigpe3ZhciBjPXRoaXMuX3dyYXBwZWQ7cmV0dXJuIGIuYXBwbHkoYyxhcmd1bWVudHMpLFwic2hpZnRcIiE9YSYmXCJzcGxpY2VcIiE9YXx8MCE9PWMubGVuZ3RofHxkZWxldGUgY1swXSxPLmNhbGwodGhpcyxjKX19KSxBKFtcImNvbmNhdFwiLFwiam9pblwiLFwic2xpY2VcIl0sZnVuY3Rpb24oYSl7dmFyIGI9ZlthXTt6LnByb3RvdHlwZVthXT1mdW5jdGlvbigpe3JldHVybiBPLmNhbGwodGhpcyxiLmFwcGx5KHRoaXMuX3dyYXBwZWQsYXJndW1lbnRzKSl9fSksei5leHRlbmQoei5wcm90b3R5cGUse2NoYWluOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NoYWluPSEwLHRoaXN9LHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dyYXBwZWR9fSksXCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kJiZkZWZpbmUoXCJ1bmRlcnNjb3JlXCIsW10sZnVuY3Rpb24oKXtyZXR1cm4gen0pfSkuY2FsbCh0aGlzKX0se31dfSx7fSxbMV0pOyIsIid1c2Ugc3RyaWN0JztcclxuXHJcblxyXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKVxyXG57XHJcblxyXG4gICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PlxyXG4gICAge1xyXG5cclxuICAgICAgICAkLmdldEpTT04oXCIuL25lcnVhbF9uZXR3b3JrL25ldHdvcmsuanNvblwiLCBmdW5jdGlvbiAoanNvbilcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJlc29sdmUoanNvbik7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgIH0pO1xyXG5cclxuICAgIHByb21pc2VcclxuICAgICAgICAudGhlbihcclxuICAgICAgICAgICAgcmVzcG9uc2UgPT5cclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKVxyXG4gICAgICAgIC50aGVuKFxyXG4gICAgICAgICAgICByZXNwb25zZU5ldHdvcmsgPT5cclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICBnZXRSZXN1bHROZXR3b3JrKHt0aW1lOjcsIHdlaWdodDoxMDAwfSwgcmVzcG9uc2VOZXR3b3JrKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIClcclxuICAgICAgICAudGhlbihcclxuICAgICAgICAgICAgcmVzdWx0TmV0d29yayA9PlxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHROZXR3b3JrKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHROZXR3b3JrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKVxyXG5cclxuXHJcbn0pOyIsIlxyXG5cclxuZnVuY3Rpb24gZ2V0UmVzdWx0TmV0d29yayhpbnB1dCwgbmV0d29ya0pTT04pXHJcbntcclxuICAgIC8vQkVHSU4gcHJlcGFyYXRpb25cclxuXHJcbiAgICB2YXIgbWF4VmFsdWVPYmogPSBuZXR3b3JrSlNPTi5tYXhWYWx1ZU9iajtcclxuICAgIHZhciBuZXQgPSBuZXcgYnJhaW4uTmV1cmFsTmV0d29yaygpLmZyb21KU09OKG5ldHdvcmtKU09OKTtcclxuICAgIG5ldC5mcm9tSlNPTihuZXR3b3JrSlNPTik7XHJcblxyXG4gICAgLy9FTkQgcHJlcGFyYXRpb25cclxuXHJcbiAgICAvL0JFR0lOIG5vcm1hbGl6ZSBpbnB1dFxyXG4gICAgZm9yICh2YXIga2V5IGluIGlucHV0KSB7XHJcbiAgICAgICAgaWYgKGlucHV0Lmhhc093blByb3BlcnR5KGtleSkpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpbnB1dFtrZXldIC89IG1heFZhbHVlT2JqW2tleV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy9FTkQgbm9ybWFsaXplIGlucHV0XHJcbiAgICB2YXIgcmVzdWx0TmV0d29yayA9IG5ldC5ydW4oaW5wdXQpO1xyXG4gICAgLy9CRUdJTiBub3JtYWxpemUgb3V0cHV0XHJcbiAgICBmb3IgKGtleSBpbiByZXN1bHROZXR3b3JrKSB7XHJcbiAgICAgICAgaWYgKHJlc3VsdE5ldHdvcmsuaGFzT3duUHJvcGVydHkoa2V5KSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJlc3VsdE5ldHdvcmtba2V5XSAqPSBtYXhWYWx1ZU9ialtrZXldO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vRU5EIG5vcm1hbGl6ZSBvdXRwdXRcclxuICAgIHJldHVybiByZXN1bHROZXR3b3JrO1xyXG5cclxufSJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
