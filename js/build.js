/*!
 * Bootstrap v3.3.7 (http://getbootstrap.com)
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under the MIT license
 */
if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(a){"use strict";var b=a.fn.jquery.split(" ")[0].split(".");if(b[0]<2&&b[1]<9||1==b[0]&&9==b[1]&&b[2]<1||b[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(jQuery),+function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one("bsTransitionEnd",function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(b){if(a(b.target).is(this))return b.handleObj.handler.apply(this,arguments)}})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var c=a(this),e=c.data("bs.alert");e||c.data("bs.alert",e=new d(this)),"string"==typeof b&&e[b].call(c)})}var c='[data-dismiss="alert"]',d=function(b){a(b).on("click",c,this.close)};d.VERSION="3.3.7",d.TRANSITION_DURATION=150,d.prototype.close=function(b){function c(){g.detach().trigger("closed.bs.alert").remove()}var e=a(this),f=e.attr("data-target");f||(f=e.attr("href"),f=f&&f.replace(/.*(?=#[^\s]*$)/,""));var g=a("#"===f?[]:f);b&&b.preventDefault(),g.length||(g=e.closest(".alert")),g.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(g.removeClass("in"),a.support.transition&&g.hasClass("fade")?g.one("bsTransitionEnd",c).emulateTransitionEnd(d.TRANSITION_DURATION):c())};var e=a.fn.alert;a.fn.alert=b,a.fn.alert.Constructor=d,a.fn.alert.noConflict=function(){return a.fn.alert=e,this},a(document).on("click.bs.alert.data-api",c,d.prototype.close)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof b&&b;e||d.data("bs.button",e=new c(this,f)),"toggle"==b?e.toggle():b&&e.setState(b)})}var c=function(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),this.isLoading=!1};c.VERSION="3.3.7",c.DEFAULTS={loadingText:"loading..."},c.prototype.setState=function(b){var c="disabled",d=this.$element,e=d.is("input")?"val":"html",f=d.data();b+="Text",null==f.resetText&&d.data("resetText",d[e]()),setTimeout(a.proxy(function(){d[e](null==f[b]?this.options[b]:f[b]),"loadingText"==b?(this.isLoading=!0,d.addClass(c).attr(c,c).prop(c,!0)):this.isLoading&&(this.isLoading=!1,d.removeClass(c).removeAttr(c).prop(c,!1))},this),0)},c.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle="buttons"]');if(b.length){var c=this.$element.find("input");"radio"==c.prop("type")?(c.prop("checked")&&(a=!1),b.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==c.prop("type")&&(c.prop("checked")!==this.$element.hasClass("active")&&(a=!1),this.$element.toggleClass("active")),c.prop("checked",this.$element.hasClass("active")),a&&c.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var d=a.fn.button;a.fn.button=b,a.fn.button.Constructor=c,a.fn.button.noConflict=function(){return a.fn.button=d,this},a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(c){var d=a(c.target).closest(".btn");b.call(d,"toggle"),a(c.target).is('input[type="radio"], input[type="checkbox"]')||(c.preventDefault(),d.is("input,button")?d.trigger("focus"):d.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(b){a(b.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(b.type))})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},c.DEFAULTS,d.data(),"object"==typeof b&&b),g="string"==typeof b?b:f.slide;e||d.data("bs.carousel",e=new c(this,f)),"number"==typeof b?e.to(b):g?e[g]():f.interval&&e.pause().cycle()})}var c=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",a.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",a.proxy(this.pause,this)).on("mouseleave.bs.carousel",a.proxy(this.cycle,this))};c.VERSION="3.3.7",c.TRANSITION_DURATION=600,c.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},c.prototype.keydown=function(a){if(!/input|textarea/i.test(a.target.tagName)){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}a.preventDefault()}},c.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},c.prototype.getItemIndex=function(a){return this.$items=a.parent().children(".item"),this.$items.index(a||this.$active)},c.prototype.getItemForDirection=function(a,b){var c=this.getItemIndex(b),d="prev"==a&&0===c||"next"==a&&c==this.$items.length-1;if(d&&!this.options.wrap)return b;var e="prev"==a?-1:1,f=(c+e)%this.$items.length;return this.$items.eq(f)},c.prototype.to=function(a){var b=this,c=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(a>this.$items.length-1||a<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){b.to(a)}):c==a?this.pause().cycle():this.slide(a>c?"next":"prev",this.$items.eq(a))},c.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},c.prototype.next=function(){if(!this.sliding)return this.slide("next")},c.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},c.prototype.slide=function(b,d){var e=this.$element.find(".item.active"),f=d||this.getItemForDirection(b,e),g=this.interval,h="next"==b?"left":"right",i=this;if(f.hasClass("active"))return this.sliding=!1;var j=f[0],k=a.Event("slide.bs.carousel",{relatedTarget:j,direction:h});if(this.$element.trigger(k),!k.isDefaultPrevented()){if(this.sliding=!0,g&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var l=a(this.$indicators.children()[this.getItemIndex(f)]);l&&l.addClass("active")}var m=a.Event("slid.bs.carousel",{relatedTarget:j,direction:h});return a.support.transition&&this.$element.hasClass("slide")?(f.addClass(b),f[0].offsetWidth,e.addClass(h),f.addClass(h),e.one("bsTransitionEnd",function(){f.removeClass([b,h].join(" ")).addClass("active"),e.removeClass(["active",h].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger(m)},0)}).emulateTransitionEnd(c.TRANSITION_DURATION)):(e.removeClass("active"),f.addClass("active"),this.sliding=!1,this.$element.trigger(m)),g&&this.cycle(),this}};var d=a.fn.carousel;a.fn.carousel=b,a.fn.carousel.Constructor=c,a.fn.carousel.noConflict=function(){return a.fn.carousel=d,this};var e=function(c){var d,e=a(this),f=a(e.attr("data-target")||(d=e.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""));if(f.hasClass("carousel")){var g=a.extend({},f.data(),e.data()),h=e.attr("data-slide-to");h&&(g.interval=!1),b.call(f,g),h&&f.data("bs.carousel").to(h),c.preventDefault()}};a(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var c=a(this);b.call(c,c.data())})})}(jQuery),+function(a){"use strict";function b(b){var c,d=b.attr("data-target")||(c=b.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"");return a(d)}function c(b){return this.each(function(){var c=a(this),e=c.data("bs.collapse"),f=a.extend({},d.DEFAULTS,c.data(),"object"==typeof b&&b);!e&&f.toggle&&/show|hide/.test(b)&&(f.toggle=!1),e||c.data("bs.collapse",e=new d(this,f)),"string"==typeof b&&e[b]()})}var d=function(b,c){this.$element=a(b),this.options=a.extend({},d.DEFAULTS,c),this.$trigger=a('[data-toggle="collapse"][href="#'+b.id+'"],[data-toggle="collapse"][data-target="#'+b.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};d.VERSION="3.3.7",d.TRANSITION_DURATION=350,d.DEFAULTS={toggle:!0},d.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},d.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&(b=e.data("bs.collapse"),b&&b.transitioning))){var f=a.Event("show.bs.collapse");if(this.$element.trigger(f),!f.isDefaultPrevented()){e&&e.length&&(c.call(e,"hide"),b||e.data("bs.collapse",null));var g=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[g](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var h=function(){this.$element.removeClass("collapsing").addClass("collapse in")[g](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return h.call(this);var i=a.camelCase(["scroll",g].join("-"));this.$element.one("bsTransitionEnd",a.proxy(h,this)).emulateTransitionEnd(d.TRANSITION_DURATION)[g](this.$element[0][i])}}}},d.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var e=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return a.support.transition?void this.$element[c](0).one("bsTransitionEnd",a.proxy(e,this)).emulateTransitionEnd(d.TRANSITION_DURATION):e.call(this)}}},d.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},d.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(c,d){var e=a(d);this.addAriaAndCollapsedClass(b(e),e)},this)).end()},d.prototype.addAriaAndCollapsedClass=function(a,b){var c=a.hasClass("in");a.attr("aria-expanded",c),b.toggleClass("collapsed",!c).attr("aria-expanded",c)};var e=a.fn.collapse;a.fn.collapse=c,a.fn.collapse.Constructor=d,a.fn.collapse.noConflict=function(){return a.fn.collapse=e,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(d){var e=a(this);e.attr("data-target")||d.preventDefault();var f=b(e),g=f.data("bs.collapse"),h=g?"toggle":e.data();c.call(f,h)})}(jQuery),+function(a){"use strict";function b(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}function c(c){c&&3===c.which||(a(e).remove(),a(f).each(function(){var d=a(this),e=b(d),f={relatedTarget:this};e.hasClass("open")&&(c&&"click"==c.type&&/input|textarea/i.test(c.target.tagName)&&a.contains(e[0],c.target)||(e.trigger(c=a.Event("hide.bs.dropdown",f)),c.isDefaultPrevented()||(d.attr("aria-expanded","false"),e.removeClass("open").trigger(a.Event("hidden.bs.dropdown",f)))))}))}function d(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new g(this)),"string"==typeof b&&d[b].call(c)})}var e=".dropdown-backdrop",f='[data-toggle="dropdown"]',g=function(b){a(b).on("click.bs.dropdown",this.toggle)};g.VERSION="3.3.7",g.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=b(e),g=f.hasClass("open");if(c(),!g){"ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(a(this)).on("click",c);var h={relatedTarget:this};if(f.trigger(d=a.Event("show.bs.dropdown",h)),d.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),f.toggleClass("open").trigger(a.Event("shown.bs.dropdown",h))}return!1}},g.prototype.keydown=function(c){if(/(38|40|27|32)/.test(c.which)&&!/input|textarea/i.test(c.target.tagName)){var d=a(this);if(c.preventDefault(),c.stopPropagation(),!d.is(".disabled, :disabled")){var e=b(d),g=e.hasClass("open");if(!g&&27!=c.which||g&&27==c.which)return 27==c.which&&e.find(f).trigger("focus"),d.trigger("click");var h=" li:not(.disabled):visible a",i=e.find(".dropdown-menu"+h);if(i.length){var j=i.index(c.target);38==c.which&&j>0&&j--,40==c.which&&j<i.length-1&&j++,~j||(j=0),i.eq(j).trigger("focus")}}}};var h=a.fn.dropdown;a.fn.dropdown=d,a.fn.dropdown.Constructor=g,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=h,this},a(document).on("click.bs.dropdown.data-api",c).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",f,g.prototype.toggle).on("keydown.bs.dropdown.data-api",f,g.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",g.prototype.keydown)}(jQuery),+function(a){"use strict";function b(b,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},c.DEFAULTS,e.data(),"object"==typeof b&&b);f||e.data("bs.modal",f=new c(this,g)),"string"==typeof b?f[b](d):g.show&&f.show(d)})}var c=function(b,c){this.options=c,this.$body=a(document.body),this.$element=a(b),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};c.VERSION="3.3.7",c.TRANSITION_DURATION=300,c.BACKDROP_TRANSITION_DURATION=150,c.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},c.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)},c.prototype.show=function(b){var d=this,e=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){d.$element.one("mouseup.dismiss.bs.modal",function(b){a(b.target).is(d.$element)&&(d.ignoreBackdropClick=!0)})}),this.backdrop(function(){var e=a.support.transition&&d.$element.hasClass("fade");d.$element.parent().length||d.$element.appendTo(d.$body),d.$element.show().scrollTop(0),d.adjustDialog(),e&&d.$element[0].offsetWidth,d.$element.addClass("in"),d.enforceFocus();var f=a.Event("shown.bs.modal",{relatedTarget:b});e?d.$dialog.one("bsTransitionEnd",function(){d.$element.trigger("focus").trigger(f)}).emulateTransitionEnd(c.TRANSITION_DURATION):d.$element.trigger("focus").trigger(f)}))},c.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(c.TRANSITION_DURATION):this.hideModal())},c.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){document===a.target||this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))},c.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},c.prototype.resize=function(){this.isShown?a(window).on("resize.bs.modal",a.proxy(this.handleUpdate,this)):a(window).off("resize.bs.modal")},c.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.$body.removeClass("modal-open"),a.resetAdjustments(),a.resetScrollbar(),a.$element.trigger("hidden.bs.modal")})},c.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},c.prototype.backdrop=function(b){var d=this,e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var f=a.support.transition&&e;if(this.$backdrop=a(document.createElement("div")).addClass("modal-backdrop "+e).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(a){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),f&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;f?this.$backdrop.one("bsTransitionEnd",b).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):b()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var g=function(){d.removeBackdrop(),b&&b()};a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",g).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):g()}else b&&b()},c.prototype.handleUpdate=function(){this.adjustDialog()},c.prototype.adjustDialog=function(){var a=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&a?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!a?this.scrollbarWidth:""})},c.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},c.prototype.checkScrollbar=function(){var a=window.innerWidth;if(!a){var b=document.documentElement.getBoundingClientRect();a=b.right-Math.abs(b.left)}this.bodyIsOverflowing=document.body.clientWidth<a,this.scrollbarWidth=this.measureScrollbar()},c.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",a+this.scrollbarWidth)},c.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},c.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure",this.$body.append(a);var b=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),b};var d=a.fn.modal;a.fn.modal=b,a.fn.modal.Constructor=c,a.fn.modal.noConflict=function(){return a.fn.modal=d,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(c){var d=a(this),e=d.attr("href"),f=a(d.attr("data-target")||e&&e.replace(/.*(?=#[^\s]+$)/,"")),g=f.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(e)&&e},f.data(),d.data());d.is("a")&&c.preventDefault(),f.one("show.bs.modal",function(a){a.isDefaultPrevented()||f.one("hidden.bs.modal",function(){d.is(":visible")&&d.trigger("focus")})}),b.call(f,g,this)})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof b&&b;!e&&/destroy|hide/.test(b)||(e||d.data("bs.tooltip",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",a,b)};c.VERSION="3.3.7",c.TRANSITION_DURATION=150,c.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},c.prototype.init=function(b,c,d){if(this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.$viewport=this.options.viewport&&a(a.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focusin",i="hover"==g?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},c.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},c.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusin"==b.type?"focus":"hover"]=!0),c.tip().hasClass("in")||"in"==c.hoverState?void(c.hoverState="in"):(clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)):c.show())},c.prototype.isInStateTrue=function(){for(var a in this.inState)if(this.inState[a])return!0;return!1},c.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);if(c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusout"==b.type?"focus":"hover"]=!1),!c.isInStateTrue())return clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?void(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)):c.hide()},c.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(b);var d=a.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(b.isDefaultPrevented()||!d)return;var e=this,f=this.tip(),g=this.getUID(this.type);this.setContent(),f.attr("id",g),this.$element.attr("aria-describedby",g),this.options.animation&&f.addClass("fade");var h="function"==typeof this.options.placement?this.options.placement.call(this,f[0],this.$element[0]):this.options.placement,i=/\s?auto?\s?/i,j=i.test(h);j&&(h=h.replace(i,"")||"top"),f.detach().css({top:0,left:0,display:"block"}).addClass(h).data("bs."+this.type,this),this.options.container?f.appendTo(this.options.container):f.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var k=this.getPosition(),l=f[0].offsetWidth,m=f[0].offsetHeight;if(j){var n=h,o=this.getPosition(this.$viewport);h="bottom"==h&&k.bottom+m>o.bottom?"top":"top"==h&&k.top-m<o.top?"bottom":"right"==h&&k.right+l>o.width?"left":"left"==h&&k.left-l<o.left?"right":h,f.removeClass(n).addClass(h)}var p=this.getCalculatedOffset(h,k,l,m);this.applyPlacement(p,h);var q=function(){var a=e.hoverState;e.$element.trigger("shown.bs."+e.type),e.hoverState=null,"out"==a&&e.leave(e)};a.support.transition&&this.$tip.hasClass("fade")?f.one("bsTransitionEnd",q).emulateTransitionEnd(c.TRANSITION_DURATION):q()}},c.prototype.applyPlacement=function(b,c){var d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),b.top+=g,b.left+=h,a.offset.setOffset(d[0],a.extend({using:function(a){d.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),d.addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;"top"==c&&j!=f&&(b.top=b.top+f-j);var k=this.getViewportAdjustedDelta(c,b,i,j);k.left?b.left+=k.left:b.top+=k.top;var l=/top|bottom/.test(c),m=l?2*k.left-e+i:2*k.top-f+j,n=l?"offsetWidth":"offsetHeight";d.offset(b),this.replaceArrow(m,d[0][n],l)},c.prototype.replaceArrow=function(a,b,c){this.arrow().css(c?"left":"top",50*(1-a/b)+"%").css(c?"top":"left","")},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},c.prototype.hide=function(b){function d(){"in"!=e.hoverState&&f.detach(),e.$element&&e.$element.removeAttr("aria-describedby").trigger("hidden.bs."+e.type),b&&b()}var e=this,f=a(this.$tip),g=a.Event("hide.bs."+this.type);if(this.$element.trigger(g),!g.isDefaultPrevented())return f.removeClass("in"),a.support.transition&&f.hasClass("fade")?f.one("bsTransitionEnd",d).emulateTransitionEnd(c.TRANSITION_DURATION):d(),this.hoverState=null,this},c.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},c.prototype.hasContent=function(){return this.getTitle()},c.prototype.getPosition=function(b){b=b||this.$element;var c=b[0],d="BODY"==c.tagName,e=c.getBoundingClientRect();null==e.width&&(e=a.extend({},e,{width:e.right-e.left,height:e.bottom-e.top}));var f=window.SVGElement&&c instanceof window.SVGElement,g=d?{top:0,left:0}:f?null:b.offset(),h={scroll:d?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop()},i=d?{width:a(window).width(),height:a(window).height()}:null;return a.extend({},e,h,i,g)},c.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},c.prototype.getViewportAdjustedDelta=function(a,b,c,d){var e={top:0,left:0};if(!this.$viewport)return e;var f=this.options.viewport&&this.options.viewport.padding||0,g=this.getPosition(this.$viewport);if(/right|left/.test(a)){var h=b.top-f-g.scroll,i=b.top+f-g.scroll+d;h<g.top?e.top=g.top-h:i>g.top+g.height&&(e.top=g.top+g.height-i)}else{var j=b.left-f,k=b.left+f+c;j<g.left?e.left=g.left-j:k>g.right&&(e.left=g.left+g.width-k)}return e},c.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},c.prototype.getUID=function(a){do a+=~~(1e6*Math.random());while(document.getElementById(a));return a},c.prototype.tip=function(){if(!this.$tip&&(this.$tip=a(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},c.prototype.enable=function(){this.enabled=!0},c.prototype.disable=function(){this.enabled=!1},c.prototype.toggleEnabled=function(){this.enabled=!this.enabled},c.prototype.toggle=function(b){var c=this;b&&(c=a(b.currentTarget).data("bs."+this.type),c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c))),b?(c.inState.click=!c.inState.click,c.isInStateTrue()?c.enter(c):c.leave(c)):c.tip().hasClass("in")?c.leave(c):c.enter(c)},c.prototype.destroy=function(){var a=this;clearTimeout(this.timeout),this.hide(function(){a.$element.off("."+a.type).removeData("bs."+a.type),a.$tip&&a.$tip.detach(),a.$tip=null,a.$arrow=null,a.$viewport=null,a.$element=null})};var d=a.fn.tooltip;a.fn.tooltip=b,a.fn.tooltip.Constructor=c,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=d,this}}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof b&&b;!e&&/destroy|hide/.test(b)||(e||d.data("bs.popover",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");c.VERSION="3.3.7",c.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),c.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),c.prototype.constructor=c,c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof c?"html":"append":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},c.prototype.hasContent=function(){return this.getTitle()||this.getContent()},c.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var d=a.fn.popover;a.fn.popover=b,a.fn.popover.Constructor=c,a.fn.popover.noConflict=function(){return a.fn.popover=d,this}}(jQuery),+function(a){"use strict";function b(c,d){this.$body=a(document.body),this.$scrollElement=a(a(c).is(document.body)?window:c),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",a.proxy(this.process,this)),this.refresh(),this.process()}function c(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})}b.VERSION="3.3.7",b.DEFAULTS={offset:10},b.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},b.prototype.refresh=function(){var b=this,c="offset",d=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),a.isWindow(this.$scrollElement[0])||(c="position",d=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var b=a(this),e=b.data("target")||b.attr("href"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(":visible")&&[[f[c]().top+d,e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){b.offsets.push(this[0]),b.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.getScrollHeight(),d=this.options.offset+c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(this.scrollHeight!=c&&this.refresh(),b>=d)return g!=(a=f[f.length-1])&&this.activate(a);if(g&&b<e[0])return this.activeTarget=null,this.clear();for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(void 0===e[a+1]||b<e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){
this.activeTarget=b,this.clear();var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate.bs.scrollspy")},b.prototype.clear=function(){a(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var d=a.fn.scrollspy;a.fn.scrollspy=c,a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=d,this},a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);c.call(b,b.data())})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new c(this)),"string"==typeof b&&e[b]()})}var c=function(b){this.element=a(b)};c.VERSION="3.3.7",c.TRANSITION_DURATION=150,c.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a"),f=a.Event("hide.bs.tab",{relatedTarget:b[0]}),g=a.Event("show.bs.tab",{relatedTarget:e[0]});if(e.trigger(f),b.trigger(g),!g.isDefaultPrevented()&&!f.isDefaultPrevented()){var h=a(d);this.activate(b.closest("li"),c),this.activate(h,h.parent(),function(){e.trigger({type:"hidden.bs.tab",relatedTarget:b[0]}),b.trigger({type:"shown.bs.tab",relatedTarget:e[0]})})}}},c.prototype.activate=function(b,d,e){function f(){g.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),b.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),h?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu").length&&b.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),e&&e()}var g=d.find("> .active"),h=e&&a.support.transition&&(g.length&&g.hasClass("fade")||!!d.find("> .fade").length);g.length&&h?g.one("bsTransitionEnd",f).emulateTransitionEnd(c.TRANSITION_DURATION):f(),g.removeClass("in")};var d=a.fn.tab;a.fn.tab=b,a.fn.tab.Constructor=c,a.fn.tab.noConflict=function(){return a.fn.tab=d,this};var e=function(c){c.preventDefault(),b.call(a(this),"show")};a(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',e).on("click.bs.tab.data-api",'[data-toggle="pill"]',e)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof b&&b;e||d.data("bs.affix",e=new c(this,f)),"string"==typeof b&&e[b]()})}var c=function(b,d){this.options=a.extend({},c.DEFAULTS,d),this.$target=a(this.options.target).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(b),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};c.VERSION="3.3.7",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getState=function(a,b,c,d){var e=this.$target.scrollTop(),f=this.$element.offset(),g=this.$target.height();if(null!=c&&"top"==this.affixed)return e<c&&"top";if("bottom"==this.affixed)return null!=c?!(e+this.unpin<=f.top)&&"bottom":!(e+g<=a-d)&&"bottom";var h=null==this.affixed,i=h?e:f.top,j=h?g:b;return null!=c&&e<=c?"top":null!=d&&i+j>=a-d&&"bottom"},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var a=this.$target.scrollTop(),b=this.$element.offset();return this.pinnedOffset=b.top-a},c.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b=this.$element.height(),d=this.options.offset,e=d.top,f=d.bottom,g=Math.max(a(document).height(),a(document.body).height());"object"!=typeof d&&(f=e=d),"function"==typeof e&&(e=d.top(this.$element)),"function"==typeof f&&(f=d.bottom(this.$element));var h=this.getState(g,b,e,f);if(this.affixed!=h){null!=this.unpin&&this.$element.css("top","");var i="affix"+(h?"-"+h:""),j=a.Event(i+".bs.affix");if(this.$element.trigger(j),j.isDefaultPrevented())return;this.affixed=h,this.unpin="bottom"==h?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(i).trigger(i.replace("affix","affixed")+".bs.affix")}"bottom"==h&&this.$element.offset({top:g-b-f})}};var d=a.fn.affix;a.fn.affix=b,a.fn.affix.Constructor=c,a.fn.affix.noConflict=function(){return a.fn.affix=d,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var c=a(this),d=c.data();d.offset=d.offset||{},null!=d.offsetBottom&&(d.offset.bottom=d.offsetBottom),null!=d.offsetTop&&(d.offset.top=d.offsetTop),b.call(c,d)})})}(jQuery);
/*
Copyright (c) 2010 Heather Arthur

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
"Software"), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

*/!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a){brain=a("./lib/brain")},{"./lib/brain":2}],2:[function(a,b,c){c.NeuralNetwork=a("./neuralnetwork").NeuralNetwork,c.crossValidate=a("./cross-validate")},{"./cross-validate":3,"./neuralnetwork":5}],3:[function(a,b){function c(a,b,c,e,f){var g=new a(b),h=Date.now(),i=g.train(e,c),j=Date.now(),k=g.test(f),l=Date.now(),m=d(k).extend({trainTime:j-h,testTime:l-j,iterations:i.iterations,trainError:i.error,learningRate:g.learningRate,hidden:g.hiddenSizes,network:g.toJSON()});return m}var d=a("underscore")._;b.exports=function(a,b,e,f,g){g=g||4;var h=b.length/g;b=d(b).sortBy(function(){return Math.random()});var i={error:0,trainTime:0,testTime:0,iterations:0,trainError:0},j={truePos:0,trueNeg:0,falsePos:0,falseNeg:0,total:0},k=[],l=d.range(g).map(function(g){var l=d(b).clone(),m=l.splice(g*h,h),n=l,o=c(a,e,f,n,m);return d(i).each(function(a,b){i[b]=a+o[b]}),d(j).each(function(a,b){j[b]=a+o[b]}),k.push(o.misclasses),o});return d(i).each(function(a,b){i[b]=a/g}),j.precision=j.truePos/(j.truePos+j.falsePos),j.recall=j.truePos/(j.truePos+j.falseNeg),j.accuracy=(j.trueNeg+j.truePos)/j.total,j.testSize=h,j.trainSize=b.length-h,{avgs:i,stats:j,sets:l,misclasses:d(k).flatten()}}},{underscore:20}],4:[function(a,b){function c(a){var b=h(a).reduce(function(a,b){return h(a).extend(b)},{});return d(b)}function d(a){var b={},c=0;for(var d in a)b[d]=c++;return b}function e(a,b){var c=[];for(var d in a)c[a[d]]=b[d]||0;return c}function f(a,b){var c={};for(var d in a)c[d]=b[a[d]];return c}function g(a){for(var b={},c=0,d=a.length;d-->0;)b[a[d]]=c++;return b}var h=a("underscore");b.exports={buildLookup:c,lookupFromHash:d,toArray:e,toHash:f,lookupFromArray:g}},{underscore:20}],5:[function(a,b,c){function d(){return.4*Math.random()-.2}function e(a){for(var b=new Array(a),c=0;a>c;c++)b[c]=0;return b}function f(a){for(var b=new Array(a),c=0;a>c;c++)b[c]=d();return b}function g(a){for(var b=0,c=0;c<a.length;c++)b+=Math.pow(a[c],2);return b/a.length}function h(a){if(k.call(this,{objectMode:!0}),a=a||{},!a.neuralNetwork)throw new Error("no neural network specified");return this.neuralNetwork=a.neuralNetwork,this.dataFormatDetermined=!1,this.inputKeys=[],this.outputKeys=[],this.i=0,this.iterations=a.iterations||2e4,this.errorThresh=a.errorThresh||.005,this.log=a.log||!1,this.logPeriod=a.logPeriod||10,this.callback=a.callback,this.callbackPeriod=a.callbackPeriod||10,this.floodCallback=a.floodCallback,this.doneTrainingCallback=a.doneTrainingCallback,this.size=0,this.count=0,this.sum=0,this.on("finish",this.finishStreamIteration),this}var i=a("underscore"),j=a("./lookup"),k=a("stream").Writable,l=a("inherits"),m=function(a){a=a||{},this.learningRate=a.learningRate||.3,this.momentum=a.momentum||.1,this.hiddenSizes=a.hiddenLayers,this.binaryThresh=a.binaryThresh||.5};m.prototype={initialize:function(a){this.sizes=a,this.outputLayer=this.sizes.length-1,this.biases=[],this.weights=[],this.outputs=[],this.deltas=[],this.changes=[],this.errors=[];for(var b=0;b<=this.outputLayer;b++){var c=this.sizes[b];if(this.deltas[b]=e(c),this.errors[b]=e(c),this.outputs[b]=e(c),b>0){this.biases[b]=f(c),this.weights[b]=new Array(c),this.changes[b]=new Array(c);for(var d=0;c>d;d++){var g=this.sizes[b-1];this.weights[b][d]=f(g),this.changes[b][d]=e(g)}}}},run:function(a){this.inputLookup&&(a=j.toArray(this.inputLookup,a));var b=this.runInput(a);return this.outputLookup&&(b=j.toHash(this.outputLookup,b)),b},runInput:function(a){this.outputs[0]=a;for(var b=1;b<=this.outputLayer;b++){for(var c=0;c<this.sizes[b];c++){for(var d=this.weights[b][c],e=this.biases[b][c],f=0;f<d.length;f++)e+=d[f]*a[f];this.outputs[b][c]=1/(1+Math.exp(-e))}var g=a=this.outputs[b]}return g},train:function(a,b){a=this.formatData(a),b=b||{};var c=b.iterations||2e4,d=b.errorThresh||.005,e=b.log||!1,f=b.logPeriod||10,g=b.callback,h=b.callbackPeriod||10,j=a[0].input.length,k=a[0].output.length,l=this.hiddenSizes;l||(l=[Math.max(3,Math.floor(j/2))]);var m=i([j,l,k]).flatten();this.initialize(m);for(var n=1,o=0;c>o&&n>d;o++){for(var p=0,q=0;q<a.length;q++){var r=this.trainPattern(a[q].input,a[q].output);p+=r}n=p/a.length,e&&o%f==0&&console.log("iterations:",o,"training error:",n),g&&o%h==0&&g({error:n,iterations:o})}return{error:n,iterations:o}},trainPattern:function(a,b){this.runInput(a),this.calculateDeltas(b),this.adjustWeights();var c=g(this.errors[this.outputLayer]);return c},calculateDeltas:function(a){for(var b=this.outputLayer;b>=0;b--)for(var c=0;c<this.sizes[b];c++){var d=this.outputs[b][c],e=0;if(b==this.outputLayer)e=a[c]-d;else for(var f=this.deltas[b+1],g=0;g<f.length;g++)e+=f[g]*this.weights[b+1][g][c];this.errors[b][c]=e,this.deltas[b][c]=e*d*(1-d)}},adjustWeights:function(){for(var a=1;a<=this.outputLayer;a++)for(var b=this.outputs[a-1],c=0;c<this.sizes[a];c++){for(var d=this.deltas[a][c],e=0;e<b.length;e++){var f=this.changes[a][c][e];f=this.learningRate*d*b[e]+this.momentum*f,this.changes[a][c][e]=f,this.weights[a][c][e]+=f}this.biases[a][c]+=this.learningRate*d}},formatData:function(a){if(!i.isArray(a)){var b=[];b.push(a),a=b}var c=a[0].input;return i(c).isArray()||c instanceof Float64Array||(this.inputLookup||(this.inputLookup=j.buildLookup(i(a).pluck("input"))),a=a.map(function(a){var b=j.toArray(this.inputLookup,a.input);return i(i(a).clone()).extend({input:b})},this)),i(a[0].output).isArray()||(this.outputLookup||(this.outputLookup=j.buildLookup(i(a).pluck("output"))),a=a.map(function(a){var b=j.toArray(this.outputLookup,a.output);return i(i(a).clone()).extend({output:b})},this)),a},test:function(a){a=this.formatData(a);for(var b=1==a[0].output.length,c=0,d=0,e=0,f=0,h=[],j=0,k=0;k<a.length;k++){var l,m,n=this.runInput(a[k].input),o=a[k].output;if(b?(l=n[0]>this.binaryThresh?1:0,m=o[0]):(l=n.indexOf(i(n).max()),m=o.indexOf(i(o).max())),l!=m){var p=a[k];i(p).extend({actual:l,expected:m}),h.push(p)}b&&(0==l&&0==m?f++:1==l&&1==m?e++:0==l&&1==m?d++:1==l&&0==m&&c++);var q=n.map(function(a,b){return o[b]-a});j+=g(q)}var r=j/a.length,s={error:r,misclasses:h};return b&&i(s).extend({trueNeg:f,truePos:e,falseNeg:d,falsePos:c,total:a.length,precision:e/(e+c),recall:e/(e+d),accuracy:(f+e)/a.length}),s},toJSON:function(){for(var a=[],b=0;b<=this.outputLayer;b++){a[b]={};var c;c=0==b&&this.inputLookup?i(this.inputLookup).keys():b==this.outputLayer&&this.outputLookup?i(this.outputLookup).keys():i.range(0,this.sizes[b]);for(var d=0;d<c.length;d++){var e=c[d];if(a[b][e]={},b>0){a[b][e].bias=this.biases[b][d],a[b][e].weights={};for(var f in a[b-1]){var g=f;1==b&&this.inputLookup&&(g=this.inputLookup[f]),a[b][e].weights[f]=this.weights[b][d][g]}}}}return{layers:a,outputLookup:!!this.outputLookup,inputLookup:!!this.inputLookup}},fromJSON:function(a){var b=a.layers.length;this.outputLayer=b-1,this.sizes=new Array(b),this.weights=new Array(b),this.biases=new Array(b),this.outputs=new Array(b);for(var c=0;c<=this.outputLayer;c++){var d=a.layers[c];0!=c||d[0]&&!a.inputLookup?c!=this.outputLayer||d[0]&&!a.outputLookup||(this.outputLookup=j.lookupFromHash(d)):this.inputLookup=j.lookupFromHash(d);var e=i(d).keys();this.sizes[c]=e.length,this.weights[c]=[],this.biases[c]=[],this.outputs[c]=[];for(var f in e){var g=e[f];this.biases[c][f]=d[g].bias,this.weights[c][f]=i(d[g].weights).toArray()}}return this},toFunction:function(){var a=this.toJSON();return new Function("input","  var net = "+JSON.stringify(a)+";\n\n  for (var i = 1; i < net.layers.length; i++) {\n    var layer = net.layers[i];\n    var output = {};\n    \n    for (var id in layer) {\n      var node = layer[id];\n      var sum = node.bias;\n      \n      for (var iid in node.weights) {\n        sum += node.weights[iid] * input[iid];\n      }\n      output[id] = (1 / (1 + Math.exp(-sum)));\n    }\n    input = output;\n  }\n  return output;")},createTrainStream:function(a){return a=a||{},a.neuralNetwork=this,this.trainStream=new h(a),this.trainStream}},c.NeuralNetwork=m,l(h,k),h.prototype._write=function(a,b,c){if(!a)return this.emit("finish"),c();if(!this.dataFormatDetermined)return this.size++,this.inputKeys=i.union(this.inputKeys,i.keys(a.input)),this.outputKeys=i.union(this.outputKeys,i.keys(a.output)),this.firstDatum=this.firstDatum||a,c();this.count++;var d=this.neuralNetwork.formatData(a);this.trainDatum(d[0]),c()},h.prototype.trainDatum=function(a){var b=this.neuralNetwork.trainPattern(a.input,a.output);this.sum+=b},h.prototype.finishStreamIteration=function(){if(this.dataFormatDetermined&&this.size!==this.count&&console.log("This iteration's data length was different from the first."),!this.dataFormatDetermined){this.neuralNetwork.inputLookup=j.lookupFromArray(this.inputKeys),this.neuralNetwork.outputLookup=j.lookupFromArray(this.outputKeys);var a=this.neuralNetwork.formatData(this.firstDatum),b=a[0].input.length,c=a[0].output.length,d=this.hiddenSizes;d||(d=[Math.max(3,Math.floor(b/2))]);var e=i([b,d,c]).flatten();return this.dataFormatDetermined=!0,this.neuralNetwork.initialize(e),void("function"==typeof this.floodCallback&&this.floodCallback())}var f=this.sum/this.size;if(this.log&&this.i%this.logPeriod==0&&console.log("iterations:",this.i,"training error:",f),this.callback&&this.i%this.callbackPeriod==0&&this.callback({error:f,iterations:this.i}),this.sum=0,this.count=0,this.i++,this.i<this.iterations&&f>this.errorThresh){if("function"==typeof this.floodCallback)return this.floodCallback()}else if("function"==typeof this.doneTrainingCallback)return this.doneTrainingCallback({error:f,iterations:this.i})}},{"./lookup":4,inherits:19,stream:12,underscore:20}],6:[function(a,b,c){function d(a,b,c){if(!(this instanceof d))return new d(a,b,c);var e=typeof a;if("base64"===b&&"string"===e)for(a=C(a);a.length%4!==0;)a+="=";var f;if("number"===e)f=F(a);else if("string"===e)f=d.byteLength(a,b);else{if("object"!==e)throw new Error("First argument needs to be a number, array or string.");f=F(a.length)}var g;d._useTypedArrays?g=D(new Uint8Array(f)):(g=this,g.length=f,g._isBuffer=!0);var h;if(d._useTypedArrays&&"function"==typeof Uint8Array&&a instanceof Uint8Array)g._set(a);else if(H(a))for(h=0;f>h;h++)g[h]=d.isBuffer(a)?a.readUInt8(h):a[h];else if("string"===e)g.write(a,0,b);else if("number"===e&&!d._useTypedArrays&&!c)for(h=0;f>h;h++)g[h]=0;return g}function e(a,b,c,e){c=Number(c)||0;var f=a.length-c;e?(e=Number(e),e>f&&(e=f)):e=f;var g=b.length;S(g%2===0,"Invalid hex string"),e>g/2&&(e=g/2);for(var h=0;e>h;h++){var i=parseInt(b.substr(2*h,2),16);S(!isNaN(i),"Invalid hex string"),a[c+h]=i}return d._charsWritten=2*h,h}function f(a,b,c,e){var f=d._charsWritten=N(J(b),a,c,e);return f}function g(a,b,c,e){var f=d._charsWritten=N(K(b),a,c,e);return f}function h(a,b,c,d){return g(a,b,c,d)}function i(a,b,c,e){var f=d._charsWritten=N(M(b),a,c,e);return f}function j(a,b,c,e){var f=d._charsWritten=N(L(b),a,c,e);return f}function k(a,b,c){return T.fromByteArray(0===b&&c===a.length?a:a.slice(b,c))}function l(a,b,c){var d="",e="";c=Math.min(a.length,c);for(var f=b;c>f;f++)a[f]<=127?(d+=O(e)+String.fromCharCode(a[f]),e=""):e+="%"+a[f].toString(16);return d+O(e)}function m(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;c>e;e++)d+=String.fromCharCode(a[e]);return d}function n(a,b,c){return m(a,b,c)}function o(a,b,c){var d=a.length;(!b||0>b)&&(b=0),(!c||0>c||c>d)&&(c=d);for(var e="",f=b;c>f;f++)e+=I(a[f]);return e}function p(a,b,c){for(var d=a.slice(b,c),e="",f=0;f<d.length;f+=2)e+=String.fromCharCode(d[f]+256*d[f+1]);return e}function q(a,b,c,d){d||(S("boolean"==typeof c,"missing or invalid endian"),S(void 0!==b&&null!==b,"missing offset"),S(b+1<a.length,"Trying to read beyond buffer length"));var e=a.length;if(!(b>=e)){var f;return c?(f=a[b],e>b+1&&(f|=a[b+1]<<8)):(f=a[b]<<8,e>b+1&&(f|=a[b+1])),f}}function r(a,b,c,d){d||(S("boolean"==typeof c,"missing or invalid endian"),S(void 0!==b&&null!==b,"missing offset"),S(b+3<a.length,"Trying to read beyond buffer length"));var e=a.length;if(!(b>=e)){var f;return c?(e>b+2&&(f=a[b+2]<<16),e>b+1&&(f|=a[b+1]<<8),f|=a[b],e>b+3&&(f+=a[b+3]<<24>>>0)):(e>b+1&&(f=a[b+1]<<16),e>b+2&&(f|=a[b+2]<<8),e>b+3&&(f|=a[b+3]),f+=a[b]<<24>>>0),f}}function s(a,b,c,d){d||(S("boolean"==typeof c,"missing or invalid endian"),S(void 0!==b&&null!==b,"missing offset"),S(b+1<a.length,"Trying to read beyond buffer length"));var e=a.length;if(!(b>=e)){var f=q(a,b,c,!0),g=32768&f;return g?-1*(65535-f+1):f}}function t(a,b,c,d){d||(S("boolean"==typeof c,"missing or invalid endian"),S(void 0!==b&&null!==b,"missing offset"),S(b+3<a.length,"Trying to read beyond buffer length"));var e=a.length;if(!(b>=e)){var f=r(a,b,c,!0),g=2147483648&f;return g?-1*(4294967295-f+1):f}}function u(a,b,c,d){return d||(S("boolean"==typeof c,"missing or invalid endian"),S(b+3<a.length,"Trying to read beyond buffer length")),U.read(a,b,c,23,4)}function v(a,b,c,d){return d||(S("boolean"==typeof c,"missing or invalid endian"),S(b+7<a.length,"Trying to read beyond buffer length")),U.read(a,b,c,52,8)}function w(a,b,c,d,e){e||(S(void 0!==b&&null!==b,"missing value"),S("boolean"==typeof d,"missing or invalid endian"),S(void 0!==c&&null!==c,"missing offset"),S(c+1<a.length,"trying to write beyond buffer length"),P(b,65535));var f=a.length;if(!(c>=f))for(var g=0,h=Math.min(f-c,2);h>g;g++)a[c+g]=(b&255<<8*(d?g:1-g))>>>8*(d?g:1-g)}function x(a,b,c,d,e){e||(S(void 0!==b&&null!==b,"missing value"),S("boolean"==typeof d,"missing or invalid endian"),S(void 0!==c&&null!==c,"missing offset"),S(c+3<a.length,"trying to write beyond buffer length"),P(b,4294967295));var f=a.length;if(!(c>=f))for(var g=0,h=Math.min(f-c,4);h>g;g++)a[c+g]=b>>>8*(d?g:3-g)&255}function y(a,b,c,d,e){e||(S(void 0!==b&&null!==b,"missing value"),S("boolean"==typeof d,"missing or invalid endian"),S(void 0!==c&&null!==c,"missing offset"),S(c+1<a.length,"Trying to write beyond buffer length"),Q(b,32767,-32768));var f=a.length;c>=f||(b>=0?w(a,b,c,d,e):w(a,65535+b+1,c,d,e))}function z(a,b,c,d,e){e||(S(void 0!==b&&null!==b,"missing value"),S("boolean"==typeof d,"missing or invalid endian"),S(void 0!==c&&null!==c,"missing offset"),S(c+3<a.length,"Trying to write beyond buffer length"),Q(b,2147483647,-2147483648));var f=a.length;c>=f||(b>=0?x(a,b,c,d,e):x(a,4294967295+b+1,c,d,e))}function A(a,b,c,d,e){e||(S(void 0!==b&&null!==b,"missing value"),S("boolean"==typeof d,"missing or invalid endian"),S(void 0!==c&&null!==c,"missing offset"),S(c+3<a.length,"Trying to write beyond buffer length"),R(b,3.4028234663852886e38,-3.4028234663852886e38));var f=a.length;c>=f||U.write(a,b,c,d,23,4)}function B(a,b,c,d,e){e||(S(void 0!==b&&null!==b,"missing value"),S("boolean"==typeof d,"missing or invalid endian"),S(void 0!==c&&null!==c,"missing offset"),S(c+7<a.length,"Trying to write beyond buffer length"),R(b,1.7976931348623157e308,-1.7976931348623157e308));var f=a.length;c>=f||U.write(a,b,c,d,52,8)}function C(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function D(a){return a._isBuffer=!0,a._get=a.get,a._set=a.set,a.get=V.get,a.set=V.set,a.write=V.write,a.toString=V.toString,a.toLocaleString=V.toString,a.toJSON=V.toJSON,a.copy=V.copy,a.slice=V.slice,a.readUInt8=V.readUInt8,a.readUInt16LE=V.readUInt16LE,a.readUInt16BE=V.readUInt16BE,a.readUInt32LE=V.readUInt32LE,a.readUInt32BE=V.readUInt32BE,a.readInt8=V.readInt8,a.readInt16LE=V.readInt16LE,a.readInt16BE=V.readInt16BE,a.readInt32LE=V.readInt32LE,a.readInt32BE=V.readInt32BE,a.readFloatLE=V.readFloatLE,a.readFloatBE=V.readFloatBE,a.readDoubleLE=V.readDoubleLE,a.readDoubleBE=V.readDoubleBE,a.writeUInt8=V.writeUInt8,a.writeUInt16LE=V.writeUInt16LE,a.writeUInt16BE=V.writeUInt16BE,a.writeUInt32LE=V.writeUInt32LE,a.writeUInt32BE=V.writeUInt32BE,a.writeInt8=V.writeInt8,a.writeInt16LE=V.writeInt16LE,a.writeInt16BE=V.writeInt16BE,a.writeInt32LE=V.writeInt32LE,a.writeInt32BE=V.writeInt32BE,a.writeFloatLE=V.writeFloatLE,a.writeFloatBE=V.writeFloatBE,a.writeDoubleLE=V.writeDoubleLE,a.writeDoubleBE=V.writeDoubleBE,a.fill=V.fill,a.inspect=V.inspect,a.toArrayBuffer=V.toArrayBuffer,a}function E(a,b,c){return"number"!=typeof a?c:(a=~~a,a>=b?b:a>=0?a:(a+=b,a>=0?a:0))}function F(a){return a=~~Math.ceil(+a),0>a?0:a}function G(a){return(Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)})(a)}function H(a){return G(a)||d.isBuffer(a)||a&&"object"==typeof a&&"number"==typeof a.length}function I(a){return 16>a?"0"+a.toString(16):a.toString(16)}function J(a){for(var b=[],c=0;c<a.length;c++){var d=a.charCodeAt(c);if(127>=d)b.push(a.charCodeAt(c));else{var e=c;d>=55296&&57343>=d&&c++;for(var f=encodeURIComponent(a.slice(e,c+1)).substr(1).split("%"),g=0;g<f.length;g++)b.push(parseInt(f[g],16))}}return b}function K(a){for(var b=[],c=0;c<a.length;c++)b.push(255&a.charCodeAt(c));return b}function L(a){for(var b,c,d,e=[],f=0;f<a.length;f++)b=a.charCodeAt(f),c=b>>8,d=b%256,e.push(d),e.push(c);return e}function M(a){return T.toByteArray(a)}function N(a,b,c,d){for(var e=0;d>e&&!(e+c>=b.length||e>=a.length);e++)b[e+c]=a[e];return e}function O(a){try{return decodeURIComponent(a)}catch(b){return String.fromCharCode(65533)}}function P(a,b){S("number"==typeof a,"cannot write a non-number as a number"),S(a>=0,"specified a negative value for writing an unsigned value"),S(b>=a,"value is larger than maximum value for type"),S(Math.floor(a)===a,"value has a fractional component")}function Q(a,b,c){S("number"==typeof a,"cannot write a non-number as a number"),S(b>=a,"value larger than maximum allowed value"),S(a>=c,"value smaller than minimum allowed value"),S(Math.floor(a)===a,"value has a fractional component")}function R(a,b,c){S("number"==typeof a,"cannot write a non-number as a number"),S(b>=a,"value larger than maximum allowed value"),S(a>=c,"value smaller than minimum allowed value")}function S(a,b){if(!a)throw new Error(b||"Failed assertion")}var T=a("base64-js"),U=a("ieee754");c.Buffer=d,c.SlowBuffer=d,c.INSPECT_MAX_BYTES=50,d.poolSize=8192,d._useTypedArrays=function(){if("function"!=typeof Uint8Array||"function"!=typeof ArrayBuffer)return!1;try{var a=new Uint8Array(0);return a.foo=function(){return 42},42===a.foo()&&"function"==typeof a.subarray}catch(b){return!1}}(),d.isEncoding=function(a){switch(String(a).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.isBuffer=function(a){return!(null===a||void 0===a||!a._isBuffer)},d.byteLength=function(a,b){var c;switch(a+="",b||"utf8"){case"hex":c=a.length/2;break;case"utf8":case"utf-8":c=J(a).length;break;case"ascii":case"binary":case"raw":c=a.length;break;case"base64":c=M(a).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":c=2*a.length;break;default:throw new Error("Unknown encoding")}return c},d.concat=function(a,b){if(S(G(a),"Usage: Buffer.concat(list, [totalLength])\nlist should be an Array."),0===a.length)return new d(0);if(1===a.length)return a[0];var c;if("number"!=typeof b)for(b=0,c=0;c<a.length;c++)b+=a[c].length;var e=new d(b),f=0;for(c=0;c<a.length;c++){var g=a[c];g.copy(e,f),f+=g.length}return e},d.prototype.write=function(a,b,c,d){if(isFinite(b))isFinite(c)||(d=c,c=void 0);else{var k=d;d=b,b=c,c=k}b=Number(b)||0;var l=this.length-b;c?(c=Number(c),c>l&&(c=l)):c=l,d=String(d||"utf8").toLowerCase();var m;switch(d){case"hex":m=e(this,a,b,c);break;case"utf8":case"utf-8":m=f(this,a,b,c);break;case"ascii":m=g(this,a,b,c);break;case"binary":m=h(this,a,b,c);break;case"base64":m=i(this,a,b,c);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":m=j(this,a,b,c);break;default:throw new Error("Unknown encoding")}return m},d.prototype.toString=function(a,b,c){var d=this;if(a=String(a||"utf8").toLowerCase(),b=Number(b)||0,c=void 0!==c?Number(c):c=d.length,c===b)return"";var e;switch(a){case"hex":e=o(d,b,c);break;case"utf8":case"utf-8":e=l(d,b,c);break;case"ascii":e=m(d,b,c);break;case"binary":e=n(d,b,c);break;case"base64":e=k(d,b,c);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":e=p(d,b,c);break;default:throw new Error("Unknown encoding")}return e},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},d.prototype.copy=function(a,b,c,d){var e=this;if(c||(c=0),d||0===d||(d=this.length),b||(b=0),d!==c&&0!==a.length&&0!==e.length){S(d>=c,"sourceEnd < sourceStart"),S(b>=0&&b<a.length,"targetStart out of bounds"),S(c>=0&&c<e.length,"sourceStart out of bounds"),S(d>=0&&d<=e.length,"sourceEnd out of bounds"),d>this.length&&(d=this.length),a.length-b<d-c&&(d=a.length-b+c);for(var f=0;d-c>f;f++)a[f+b]=this[f+c]}},d.prototype.slice=function(a,b){var c=this.length;if(a=E(a,c,0),b=E(b,c,c),d._useTypedArrays)return D(this.subarray(a,b));for(var e=b-a,f=new d(e,void 0,!0),g=0;e>g;g++)f[g]=this[g+a];return f},d.prototype.get=function(a){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(a)},d.prototype.set=function(a,b){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(a,b)},d.prototype.readUInt8=function(a,b){return b||(S(void 0!==a&&null!==a,"missing offset"),S(a<this.length,"Trying to read beyond buffer length")),a>=this.length?void 0:this[a]},d.prototype.readUInt16LE=function(a,b){return q(this,a,!0,b)},d.prototype.readUInt16BE=function(a,b){return q(this,a,!1,b)},d.prototype.readUInt32LE=function(a,b){return r(this,a,!0,b)},d.prototype.readUInt32BE=function(a,b){return r(this,a,!1,b)},d.prototype.readInt8=function(a,b){if(b||(S(void 0!==a&&null!==a,"missing offset"),S(a<this.length,"Trying to read beyond buffer length")),!(a>=this.length)){var c=128&this[a];return c?-1*(255-this[a]+1):this[a]}},d.prototype.readInt16LE=function(a,b){return s(this,a,!0,b)},d.prototype.readInt16BE=function(a,b){return s(this,a,!1,b)},d.prototype.readInt32LE=function(a,b){return t(this,a,!0,b)},d.prototype.readInt32BE=function(a,b){return t(this,a,!1,b)},d.prototype.readFloatLE=function(a,b){return u(this,a,!0,b)},d.prototype.readFloatBE=function(a,b){return u(this,a,!1,b)},d.prototype.readDoubleLE=function(a,b){return v(this,a,!0,b)},d.prototype.readDoubleBE=function(a,b){return v(this,a,!1,b)},d.prototype.writeUInt8=function(a,b,c){c||(S(void 0!==a&&null!==a,"missing value"),S(void 0!==b&&null!==b,"missing offset"),S(b<this.length,"trying to write beyond buffer length"),P(a,255)),b>=this.length||(this[b]=a)},d.prototype.writeUInt16LE=function(a,b,c){w(this,a,b,!0,c)},d.prototype.writeUInt16BE=function(a,b,c){w(this,a,b,!1,c)},d.prototype.writeUInt32LE=function(a,b,c){x(this,a,b,!0,c)},d.prototype.writeUInt32BE=function(a,b,c){x(this,a,b,!1,c)},d.prototype.writeInt8=function(a,b,c){c||(S(void 0!==a&&null!==a,"missing value"),S(void 0!==b&&null!==b,"missing offset"),S(b<this.length,"Trying to write beyond buffer length"),Q(a,127,-128)),b>=this.length||(a>=0?this.writeUInt8(a,b,c):this.writeUInt8(255+a+1,b,c))},d.prototype.writeInt16LE=function(a,b,c){y(this,a,b,!0,c)},d.prototype.writeInt16BE=function(a,b,c){y(this,a,b,!1,c)},d.prototype.writeInt32LE=function(a,b,c){z(this,a,b,!0,c)},d.prototype.writeInt32BE=function(a,b,c){z(this,a,b,!1,c)},d.prototype.writeFloatLE=function(a,b,c){A(this,a,b,!0,c)},d.prototype.writeFloatBE=function(a,b,c){A(this,a,b,!1,c)},d.prototype.writeDoubleLE=function(a,b,c){B(this,a,b,!0,c)},d.prototype.writeDoubleBE=function(a,b,c){B(this,a,b,!1,c)},d.prototype.fill=function(a,b,c){if(a||(a=0),b||(b=0),c||(c=this.length),"string"==typeof a&&(a=a.charCodeAt(0)),S("number"==typeof a&&!isNaN(a),"value is not a number"),S(c>=b,"end < start"),c!==b&&0!==this.length){S(b>=0&&b<this.length,"start out of bounds"),S(c>=0&&c<=this.length,"end out of bounds");for(var d=b;c>d;d++)this[d]=a}},d.prototype.inspect=function(){for(var a=[],b=this.length,d=0;b>d;d++)if(a[d]=I(this[d]),d===c.INSPECT_MAX_BYTES){a[d+1]="...";break}return"<Buffer "+a.join(" ")+">"},d.prototype.toArrayBuffer=function(){if("function"==typeof Uint8Array){if(d._useTypedArrays)return new d(this).buffer;for(var a=new Uint8Array(this.length),b=0,c=a.length;c>b;b+=1)a[b]=this[b];return a.buffer}throw new Error("Buffer.toArrayBuffer not supported in this browser")};var V=d.prototype},{"base64-js":7,ieee754:8}],7:[function(a,b){var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(){"use strict";function a(a){var b=a.charCodeAt(0);return b===g?62:b===h?63:i>b?-1:i+10>b?b-i+26+26:k+26>b?b-k:j+26>b?b-j+26:void 0}function d(b){function c(a){j[l++]=a}var d,e,g,h,i,j;if(b.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var k=b.length;i="="===b.charAt(k-2)?2:"="===b.charAt(k-1)?1:0,j=new f(3*b.length/4-i),g=i>0?b.length-4:b.length;var l=0;for(d=0,e=0;g>d;d+=4,e+=3)h=a(b.charAt(d))<<18|a(b.charAt(d+1))<<12|a(b.charAt(d+2))<<6|a(b.charAt(d+3)),c((16711680&h)>>16),c((65280&h)>>8),c(255&h);return 2===i?(h=a(b.charAt(d))<<2|a(b.charAt(d+1))>>4,c(255&h)):1===i&&(h=a(b.charAt(d))<<10|a(b.charAt(d+1))<<4|a(b.charAt(d+2))>>2,c(h>>8&255),c(255&h)),j}function e(a){function b(a){return c.charAt(a)}function d(a){return b(a>>18&63)+b(a>>12&63)+b(a>>6&63)+b(63&a)}var e,f,g,h=a.length%3,i="";for(e=0,g=a.length-h;g>e;e+=3)f=(a[e]<<16)+(a[e+1]<<8)+a[e+2],i+=d(f);switch(h){case 1:f=a[a.length-1],i+=b(f>>2),i+=b(f<<4&63),i+="==";break;case 2:f=(a[a.length-2]<<8)+a[a.length-1],i+=b(f>>10),i+=b(f>>4&63),i+=b(f<<2&63),i+="="}return i}var f="undefined"!=typeof Uint8Array?Uint8Array:Array,g=("0".charCodeAt(0),"+".charCodeAt(0)),h="/".charCodeAt(0),i="0".charCodeAt(0),j="a".charCodeAt(0),k="A".charCodeAt(0);b.exports.toByteArray=d,b.exports.fromByteArray=e}()},{}],8:[function(a,b,c){c.read=function(a,b,c,d,e){var f,g,h=8*e-d-1,i=(1<<h)-1,j=i>>1,k=-7,l=c?e-1:0,m=c?-1:1,n=a[b+l];for(l+=m,f=n&(1<<-k)-1,n>>=-k,k+=h;k>0;f=256*f+a[b+l],l+=m,k-=8);for(g=f&(1<<-k)-1,f>>=-k,k+=d;k>0;g=256*g+a[b+l],l+=m,k-=8);if(0===f)f=1-j;else{if(f===i)return g?0/0:1/0*(n?-1:1);g+=Math.pow(2,d),f-=j}return(n?-1:1)*g*Math.pow(2,f-d)},c.write=function(a,b,c,d,e,f){var g,h,i,j=8*f-e-1,k=(1<<j)-1,l=k>>1,m=23===e?Math.pow(2,-24)-Math.pow(2,-77):0,n=d?0:f-1,o=d?1:-1,p=0>b||0===b&&0>1/b?1:0;for(b=Math.abs(b),isNaN(b)||1/0===b?(h=isNaN(b)?1:0,g=k):(g=Math.floor(Math.log(b)/Math.LN2),b*(i=Math.pow(2,-g))<1&&(g--,i*=2),b+=g+l>=1?m/i:m*Math.pow(2,1-l),b*i>=2&&(g++,i/=2),g+l>=k?(h=0,g=k):g+l>=1?(h=(b*i-1)*Math.pow(2,e),g+=l):(h=b*Math.pow(2,l-1)*Math.pow(2,e),g=0));e>=8;a[c+n]=255&h,n+=o,h/=256,e-=8);for(g=g<<e|h,j+=e;j>0;a[c+n]=255&g,n+=o,g/=256,j-=8);a[c+n-o]|=128*p}},{}],9:[function(a,b){function c(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function d(a){return"function"==typeof a}function e(a){return"number"==typeof a}function f(a){return"object"==typeof a&&null!==a}function g(a){return void 0===a}b.exports=c,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._maxListeners=void 0,c.defaultMaxListeners=10,c.prototype.setMaxListeners=function(a){if(!e(a)||0>a||isNaN(a))throw TypeError("n must be a positive number");return this._maxListeners=a,this},c.prototype.emit=function(a){var b,c,e,h,i,j;if(this._events||(this._events={}),"error"===a&&(!this._events.error||f(this._events.error)&&!this._events.error.length))throw b=arguments[1],b instanceof Error?b:TypeError('Uncaught, unspecified "error" event.');if(c=this._events[a],g(c))return!1;if(d(c))switch(arguments.length){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:for(e=arguments.length,h=new Array(e-1),i=1;e>i;i++)h[i-1]=arguments[i];c.apply(this,h)}else if(f(c)){for(e=arguments.length,h=new Array(e-1),i=1;e>i;i++)h[i-1]=arguments[i];for(j=c.slice(),e=j.length,i=0;e>i;i++)j[i].apply(this,h)}return!0},c.prototype.addListener=function(a,b){var e;if(!d(b))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",a,d(b.listener)?b.listener:b),this._events[a]?f(this._events[a])?this._events[a].push(b):this._events[a]=[this._events[a],b]:this._events[a]=b,f(this._events[a])&&!this._events[a].warned){var e;e=g(this._maxListeners)?c.defaultMaxListeners:this._maxListeners,e&&e>0&&this._events[a].length>e&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),console.trace())}return this},c.prototype.on=c.prototype.addListener,c.prototype.once=function(a,b){function c(){this.removeListener(a,c),e||(e=!0,b.apply(this,arguments))}if(!d(b))throw TypeError("listener must be a function");var e=!1;return c.listener=b,this.on(a,c),this},c.prototype.removeListener=function(a,b){var c,e,g,h;if(!d(b))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;if(c=this._events[a],g=c.length,e=-1,c===b||d(c.listener)&&c.listener===b)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,b);else if(f(c)){for(h=g;h-->0;)if(c[h]===b||c[h].listener&&c[h].listener===b){e=h;break}if(0>e)return this;1===c.length?(c.length=0,delete this._events[a]):c.splice(e,1),this._events.removeListener&&this.emit("removeListener",a,b)}return this},c.prototype.removeAllListeners=function(a){var b,c;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[a]&&delete this._events[a],this;if(0===arguments.length){for(b in this._events)"removeListener"!==b&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events={},this}if(c=this._events[a],d(c))this.removeListener(a,c);else for(;c.length;)this.removeListener(a,c[c.length-1]);return delete this._events[a],this},c.prototype.listeners=function(a){var b;return b=this._events&&this._events[a]?d(this._events[a])?[this._events[a]]:this._events[a].slice():[]},c.listenerCount=function(a,b){var c;return c=a._events&&a._events[b]?d(a._events[b])?1:a._events[b].length:0}},{}],10:[function(a,b){var c=b.exports={};c.nextTick=function(){var a="undefined"!=typeof window&&window.setImmediate,b="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(a)return function(a){return window.setImmediate(a)};if(b){var c=[];return window.addEventListener("message",function(a){var b=a.source;if((b===window||null===b)&&"process-tick"===a.data&&(a.stopPropagation(),c.length>0)){var d=c.shift();d()}},!0),function(a){c.push(a),window.postMessage("process-tick","*")}}return function(a){setTimeout(a,0)}}(),c.title="browser",c.browser=!0,c.env={},c.argv=[],c.binding=function(){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(){throw new Error("process.chdir is not supported")}},{}],11:[function(a,b){function c(a){return this instanceof c?(g.call(this,a),h.call(this,a),a&&a.readable===!1&&(this.readable=!1),a&&a.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,a&&a.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",d)):new c(a)}function d(){if(!this.allowHalfOpen&&!this._writableState.ended){var a=this;f(function(){a.end()})}}b.exports=c;var e=a("inherits"),f=a("process/browser.js").nextTick,g=a("./readable.js"),h=a("./writable.js");e(c,g),c.prototype.write=h.prototype.write,c.prototype.end=h.prototype.end,c.prototype._write=h.prototype._write},{"./readable.js":15,"./writable.js":17,inherits:19,"process/browser.js":13}],12:[function(a,b){function c(){d.call(this)}b.exports=c;var d=a("events").EventEmitter,e=a("inherits");e(c,d),c.Readable=a("./readable.js"),c.Writable=a("./writable.js"),c.Duplex=a("./duplex.js"),c.Transform=a("./transform.js"),c.PassThrough=a("./passthrough.js"),c.Stream=c,c.prototype.pipe=function(a,b){function c(b){a.writable&&!1===a.write(b)&&j.pause&&j.pause()
}function e(){j.readable&&j.resume&&j.resume()}function f(){k||(k=!0,a.end())}function g(){k||(k=!0,"function"==typeof a.destroy&&a.destroy())}function h(a){if(i(),0===d.listenerCount(this,"error"))throw a}function i(){j.removeListener("data",c),a.removeListener("drain",e),j.removeListener("end",f),j.removeListener("close",g),j.removeListener("error",h),a.removeListener("error",h),j.removeListener("end",i),j.removeListener("close",i),a.removeListener("close",i)}var j=this;j.on("data",c),a.on("drain",e),a._isStdio||b&&b.end===!1||(j.on("end",f),j.on("close",g));var k=!1;return j.on("error",h),a.on("error",h),j.on("end",i),j.on("close",i),a.on("close",i),a.emit("pipe",j),a}},{"./duplex.js":11,"./passthrough.js":14,"./readable.js":15,"./transform.js":16,"./writable.js":17,events:9,inherits:19}],13:[function(a,b){b.exports=a(10)},{}],14:[function(a,b){function c(a){return this instanceof c?void d.call(this,a):new c(a)}b.exports=c;var d=a("./transform.js"),e=a("inherits");e(c,d),c.prototype._transform=function(a,b,c){c(null,a)}},{"./transform.js":16,inherits:19}],15:[function(a,b){(function(c){function d(b){b=b||{};var c=b.highWaterMark;this.highWaterMark=c||0===c?c:16384,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=!1,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.calledRead=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!b.objectMode,this.defaultEncoding=b.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,b.encoding&&(x||(x=a("string_decoder").StringDecoder),this.decoder=new x(b.encoding),this.encoding=b.encoding)}function e(a){return this instanceof e?(this._readableState=new d(a,this),this.readable=!0,void z.call(this)):new e(a)}function f(a,b,c,d,e){var f=j(b,c);if(f)a.emit("error",f);else if(null===c||void 0===c)b.reading=!1,b.ended||k(a,b);else if(b.objectMode||c&&c.length>0)if(b.ended&&!e){var h=new Error("stream.push() after EOF");a.emit("error",h)}else if(b.endEmitted&&e){var h=new Error("stream.unshift() after end event");a.emit("error",h)}else!b.decoder||e||d||(c=b.decoder.write(c)),b.length+=b.objectMode?1:c.length,e?b.buffer.unshift(c):(b.reading=!1,b.buffer.push(c)),b.needReadable&&l(a),n(a,b);else e||(b.reading=!1);return g(b)}function g(a){return!a.ended&&(a.needReadable||a.length<a.highWaterMark||0===a.length)}function h(a){if(a>=D)a=D;else{a--;for(var b=1;32>b;b<<=1)a|=a>>b;a++}return a}function i(a,b){return 0===b.length&&b.ended?0:b.objectMode?0===a?0:1:isNaN(a)||null===a?b.flowing&&b.buffer.length?b.buffer[0].length:b.length:0>=a?0:(a>b.highWaterMark&&(b.highWaterMark=h(a)),a>b.length?b.ended?b.length:(b.needReadable=!0,0):a)}function j(a,b){var c=null;return A.isBuffer(b)||"string"==typeof b||null===b||void 0===b||a.objectMode||c||(c=new TypeError("Invalid non-string/buffer chunk")),c}function k(a,b){if(b.decoder&&!b.ended){var c=b.decoder.end();c&&c.length&&(b.buffer.push(c),b.length+=b.objectMode?1:c.length)}b.ended=!0,b.length>0?l(a):u(a)}function l(a){var b=a._readableState;b.needReadable=!1,b.emittedReadable||(b.emittedReadable=!0,b.sync?B(function(){m(a)}):m(a))}function m(a){a.emit("readable")}function n(a,b){b.readingMore||(b.readingMore=!0,B(function(){o(a,b)}))}function o(a,b){for(var c=b.length;!b.reading&&!b.flowing&&!b.ended&&b.length<b.highWaterMark&&(a.read(0),c!==b.length);)c=b.length;b.readingMore=!1}function p(a){return function(){var b=a._readableState;b.awaitDrain--,0===b.awaitDrain&&q(a)}}function q(a){function b(a){var b=a.write(c);!1===b&&d.awaitDrain++}var c,d=a._readableState;for(d.awaitDrain=0;d.pipesCount&&null!==(c=a.read());)if(1===d.pipesCount?b(d.pipes,0,null):v(d.pipes,b),a.emit("data",c),d.awaitDrain>0)return;return 0===d.pipesCount?(d.flowing=!1,void(y.listenerCount(a,"data")>0&&s(a))):void(d.ranOut=!0)}function r(){this._readableState.ranOut&&(this._readableState.ranOut=!1,q(this))}function s(a,b){var c=a._readableState;if(c.flowing)throw new Error("Cannot switch to old mode now.");var d=b||!1,e=!1;a.readable=!0,a.pipe=z.prototype.pipe,a.on=a.addListener=z.prototype.on,a.on("readable",function(){e=!0;for(var b;!d&&null!==(b=a.read());)a.emit("data",b);null===b&&(e=!1,a._readableState.needReadable=!0)}),a.pause=function(){d=!0,this.emit("pause")},a.resume=function(){d=!1,e?B(function(){a.emit("readable")}):this.read(0),this.emit("resume")},a.emit("readable")}function t(a,b){var c,d=b.buffer,e=b.length,f=!!b.decoder,g=!!b.objectMode;if(0===d.length)return null;if(0===e)c=null;else if(g)c=d.shift();else if(!a||a>=e)c=f?d.join(""):A.concat(d,e),d.length=0;else if(a<d[0].length){var h=d[0];c=h.slice(0,a),d[0]=h.slice(a)}else if(a===d[0].length)c=d.shift();else{c=f?"":new A(a);for(var i=0,j=0,k=d.length;k>j&&a>i;j++){var h=d[0],l=Math.min(a-i,h.length);f?c+=h.slice(0,l):h.copy(c,i,0,l),l<h.length?d[0]=h.slice(l):d.shift(),i+=l}}return c}function u(a){var b=a._readableState;if(b.length>0)throw new Error("endReadable called on non-empty stream");!b.endEmitted&&b.calledRead&&(b.ended=!0,B(function(){b.endEmitted||0!==b.length||(b.endEmitted=!0,a.readable=!1,a.emit("end"))}))}function v(a,b){for(var c=0,d=a.length;d>c;c++)b(a[c],c)}function w(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1}b.exports=e,e.ReadableState=d;var x,y=a("events").EventEmitter,z=a("./index.js"),A=a("buffer").Buffer,B=a("process/browser.js").nextTick,C=a("inherits");C(e,z),e.prototype.push=function(a,b){var c=this._readableState;return"string"!=typeof a||c.objectMode||(b=b||c.defaultEncoding,b!==c.encoding&&(a=new A(a,b),b="")),f(this,c,a,b,!1)},e.prototype.unshift=function(a){var b=this._readableState;return f(this,b,a,"",!0)},e.prototype.setEncoding=function(b){x||(x=a("string_decoder").StringDecoder),this._readableState.decoder=new x(b),this._readableState.encoding=b};var D=8388608;e.prototype.read=function(a){var b=this._readableState;b.calledRead=!0;var c=a;if(("number"!=typeof a||a>0)&&(b.emittedReadable=!1),0===a&&b.needReadable&&(b.length>=b.highWaterMark||b.ended))return l(this),null;if(a=i(a,b),0===a&&b.ended)return 0===b.length&&u(this),null;var d=b.needReadable;b.length-a<=b.highWaterMark&&(d=!0),(b.ended||b.reading)&&(d=!1),d&&(b.reading=!0,b.sync=!0,0===b.length&&(b.needReadable=!0),this._read(b.highWaterMark),b.sync=!1),d&&!b.reading&&(a=i(c,b));var e;return e=a>0?t(a,b):null,null===e&&(b.needReadable=!0,a=0),b.length-=a,0!==b.length||b.ended||(b.needReadable=!0),b.ended&&!b.endEmitted&&0===b.length&&u(this),e},e.prototype._read=function(){this.emit("error",new Error("not implemented"))},e.prototype.pipe=function(a,b){function d(a){a===k&&f()}function e(){a.end()}function f(){a.removeListener("close",h),a.removeListener("finish",i),a.removeListener("drain",o),a.removeListener("error",g),a.removeListener("unpipe",d),k.removeListener("end",e),k.removeListener("end",f),(!a._writableState||a._writableState.needDrain)&&o()}function g(b){j(),0===s&&0===y.listenerCount(a,"error")&&a.emit("error",b)}function h(){a.removeListener("finish",i),j()}function i(){a.removeListener("close",h),j()}function j(){k.unpipe(a)}var k=this,l=this._readableState;switch(l.pipesCount){case 0:l.pipes=a;break;case 1:l.pipes=[l.pipes,a];break;default:l.pipes.push(a)}l.pipesCount+=1;var m=(!b||b.end!==!1)&&a!==c.stdout&&a!==c.stderr,n=m?e:f;l.endEmitted?B(n):k.once("end",n),a.on("unpipe",d);var o=p(k);a.on("drain",o);var s=y.listenerCount(a,"error");return a.once("error",g),a.once("close",h),a.once("finish",i),a.emit("pipe",k),l.flowing||(this.on("readable",r),l.flowing=!0,B(function(){q(k)})),a},e.prototype.unpipe=function(a){var b=this._readableState;if(0===b.pipesCount)return this;if(1===b.pipesCount)return a&&a!==b.pipes?this:(a||(a=b.pipes),b.pipes=null,b.pipesCount=0,this.removeListener("readable",r),b.flowing=!1,a&&a.emit("unpipe",this),this);if(!a){var c=b.pipes,d=b.pipesCount;b.pipes=null,b.pipesCount=0,this.removeListener("readable",r),b.flowing=!1;for(var e=0;d>e;e++)c[e].emit("unpipe",this);return this}var e=w(b.pipes,a);return-1===e?this:(b.pipes.splice(e,1),b.pipesCount-=1,1===b.pipesCount&&(b.pipes=b.pipes[0]),a.emit("unpipe",this),this)},e.prototype.on=function(a,b){var c=z.prototype.on.call(this,a,b);if("data"!==a||this._readableState.flowing||s(this),"readable"===a&&this.readable){var d=this._readableState;d.readableListening||(d.readableListening=!0,d.emittedReadable=!1,d.needReadable=!0,d.reading?d.length&&l(this,d):this.read(0))}return c},e.prototype.addListener=e.prototype.on,e.prototype.resume=function(){s(this),this.read(0),this.emit("resume")},e.prototype.pause=function(){s(this,!0),this.emit("pause")},e.prototype.wrap=function(a){var b=this._readableState,c=!1,d=this;a.on("end",function(){if(b.decoder&&!b.ended){var a=b.decoder.end();a&&a.length&&d.push(a)}d.push(null)}),a.on("data",function(e){if(b.decoder&&(e=b.decoder.write(e)),e&&(b.objectMode||e.length)){var f=d.push(e);f||(c=!0,a.pause())}});for(var e in a)"function"==typeof a[e]&&"undefined"==typeof this[e]&&(this[e]=function(b){return function(){return a[b].apply(a,arguments)}}(e));var f=["error","close","destroy","pause","resume"];return v(f,function(b){a.on(b,function(a){return d.emit.apply(d,b,a)})}),d._read=function(){c&&(c=!1,a.resume())},d},e._fromList=t}).call(this,a("/Users/harth/repos/brain/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))},{"./index.js":12,"/Users/harth/repos/brain/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":10,buffer:6,events:9,inherits:19,"process/browser.js":13,string_decoder:18}],16:[function(a,b){function c(a,b){this.afterTransform=function(a,c){return d(b,a,c)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function d(a,b,c){var d=a._transformState;d.transforming=!1;var e=d.writecb;if(!e)return a.emit("error",new Error("no writecb in Transform class"));d.writechunk=null,d.writecb=null,null!==c&&void 0!==c&&a.push(c),e&&e(b);var f=a._readableState;f.reading=!1,(f.needReadable||f.length<f.highWaterMark)&&a._read(f.highWaterMark)}function e(a){if(!(this instanceof e))return new e(a);g.call(this,a);var b=(this._transformState=new c(a,this),this);this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("finish",function(){"function"==typeof this._flush?this._flush(function(a){f(b,a)}):f(b)})}function f(a,b){if(b)return a.emit("error",b);var c=a._writableState,d=(a._readableState,a._transformState);if(c.length)throw new Error("calling transform done when ws.length != 0");if(d.transforming)throw new Error("calling transform done when still transforming");return a.push(null)}b.exports=e;var g=a("./duplex.js"),h=a("inherits");h(e,g),e.prototype.push=function(a,b){return this._transformState.needTransform=!1,g.prototype.push.call(this,a,b)},e.prototype._transform=function(){throw new Error("not implemented")},e.prototype._write=function(a,b,c){var d=this._transformState;if(d.writecb=c,d.writechunk=a,d.writeencoding=b,!d.transforming){var e=this._readableState;(d.needTransform||e.needReadable||e.length<e.highWaterMark)&&this._read(e.highWaterMark)}},e.prototype._read=function(){var a=this._transformState;a.writechunk&&a.writecb&&!a.transforming?(a.transforming=!0,this._transform(a.writechunk,a.writeencoding,a.afterTransform)):a.needTransform=!0}},{"./duplex.js":11,inherits:19}],17:[function(a,b){function c(a,b,c){this.chunk=a,this.encoding=b,this.callback=c}function d(a,b){a=a||{};var c=a.highWaterMark;this.highWaterMark=c||0===c?c:16384,this.objectMode=!!a.objectMode,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var d=a.decodeStrings===!1;this.decodeStrings=!d,this.defaultEncoding=a.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){m(b,a)},this.writecb=null,this.writelen=0,this.buffer=[]}function e(a){return this instanceof e||this instanceof w.Duplex?(this._writableState=new d(a,this),this.writable=!0,void w.call(this)):new e(a)}function f(a,b,c){var d=new Error("write after end");a.emit("error",d),x(function(){c(d)})}function g(a,b,c,d){var e=!0;if(!y.isBuffer(c)&&"string"!=typeof c&&null!==c&&void 0!==c&&!b.objectMode){var f=new TypeError("Invalid non-string/buffer chunk");a.emit("error",f),x(function(){d(f)}),e=!1}return e}function h(a,b,c){return a.objectMode||a.decodeStrings===!1||"string"!=typeof b||(b=new y(b,c)),b}function i(a,b,d,e,f){d=h(b,d,e);var g=b.objectMode?1:d.length;b.length+=g;var i=b.length<b.highWaterMark;return b.needDrain=!i,b.writing?b.buffer.push(new c(d,e,f)):j(a,b,g,d,e,f),i}function j(a,b,c,d,e,f){b.writelen=c,b.writecb=f,b.writing=!0,b.sync=!0,a._write(d,e,b.onwrite),b.sync=!1}function k(a,b,c,d,e){c?x(function(){e(d)}):e(d),a.emit("error",d)}function l(a){a.writing=!1,a.writecb=null,a.length-=a.writelen,a.writelen=0}function m(a,b){var c=a._writableState,d=c.sync,e=c.writecb;if(l(c),b)k(a,c,d,b,e);else{var f=q(a,c);f||c.bufferProcessing||!c.buffer.length||p(a,c),d?x(function(){n(a,c,f,e)}):n(a,c,f,e)}}function n(a,b,c,d){c||o(a,b),d(),c&&r(a,b)}function o(a,b){0===b.length&&b.needDrain&&(b.needDrain=!1,a.emit("drain"))}function p(a,b){b.bufferProcessing=!0;for(var c=0;c<b.buffer.length;c++){var d=b.buffer[c],e=d.chunk,f=d.encoding,g=d.callback,h=b.objectMode?1:e.length;if(j(a,b,h,e,f,g),b.writing){c++;break}}b.bufferProcessing=!1,c<b.buffer.length?b.buffer=b.buffer.slice(c):b.buffer.length=0}function q(a,b){return b.ending&&0===b.length&&!b.finished&&!b.writing}function r(a,b){var c=q(a,b);return c&&(b.finished=!0,a.emit("finish")),c}function s(a,b,c){b.ending=!0,r(a,b),c&&(b.finished?x(c):a.once("finish",c)),b.ended=!0}b.exports=e,e.WritableState=d;var t="undefined"!=typeof Uint8Array?function(a){return a instanceof Uint8Array}:function(a){return a&&a.constructor&&"Uint8Array"===a.constructor.name},u="undefined"!=typeof ArrayBuffer?function(a){return a instanceof ArrayBuffer}:function(a){return a&&a.constructor&&"ArrayBuffer"===a.constructor.name},v=a("inherits"),w=a("./index.js"),x=a("process/browser.js").nextTick,y=a("buffer").Buffer;v(e,w),e.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},e.prototype.write=function(a,b,c){var d=this._writableState,e=!1;return"function"==typeof b&&(c=b,b=null),!y.isBuffer(a)&&t(a)&&(a=new y(a)),u(a)&&"undefined"!=typeof Uint8Array&&(a=new y(new Uint8Array(a))),y.isBuffer(a)?b="buffer":b||(b=d.defaultEncoding),"function"!=typeof c&&(c=function(){}),d.ended?f(this,d,c):g(this,d,a,c)&&(e=i(this,d,a,b,c)),e},e.prototype._write=function(a,b,c){c(new Error("not implemented"))},e.prototype.end=function(a,b,c){var d=this._writableState;"function"==typeof a?(c=a,a=null,b=null):"function"==typeof b&&(c=b,b=null),"undefined"!=typeof a&&null!==a&&this.write(a,b),d.ending||d.finished||s(this,d,c)}},{"./index.js":12,buffer:6,inherits:19,"process/browser.js":13}],18:[function(a,b,c){function d(a){if(a&&!h.isEncoding(a))throw new Error("Unknown encoding: "+a)}function e(a){return a.toString(this.encoding)}function f(a){var b=this.charReceived=a.length%2;return this.charLength=b?2:0,b}function g(a){var b=this.charReceived=a.length%3;return this.charLength=b?3:0,b}var h=a("buffer").Buffer,i=c.StringDecoder=function(a){switch(this.encoding=(a||"utf8").toLowerCase().replace(/[-_]/,""),d(a),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=f;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=g;break;default:return void(this.write=e)}this.charBuffer=new h(6),this.charReceived=0,this.charLength=0};i.prototype.write=function(a){for(var b="",c=0;this.charLength;){var d=a.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:a.length;if(a.copy(this.charBuffer,this.charReceived,c,d),this.charReceived+=d-c,c=d,this.charReceived<this.charLength)return"";b=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var e=b.charCodeAt(b.length-1);if(!(e>=55296&&56319>=e)){if(this.charReceived=this.charLength=0,d==a.length)return b;a=a.slice(d,a.length);break}this.charLength+=this.surrogateSize,b=""}var f=this.detectIncompleteChar(a),g=a.length;this.charLength&&(a.copy(this.charBuffer,0,a.length-f,g),this.charReceived=f,g-=f),b+=a.toString(this.encoding,0,g);var g=b.length-1,e=b.charCodeAt(g);if(e>=55296&&56319>=e){var h=this.surrogateSize;return this.charLength+=h,this.charReceived+=h,this.charBuffer.copy(this.charBuffer,h,0,h),this.charBuffer.write(b.charAt(b.length-1),this.encoding),b.substring(0,g)}return b},i.prototype.detectIncompleteChar=function(a){for(var b=a.length>=3?3:a.length;b>0;b--){var c=a[a.length-b];if(1==b&&c>>5==6){this.charLength=2;break}if(2>=b&&c>>4==14){this.charLength=3;break}if(3>=b&&c>>3==30){this.charLength=4;break}}return b},i.prototype.end=function(a){var b="";if(a&&a.length&&(b=this.write(a)),this.charReceived){var c=this.charReceived,d=this.charBuffer,e=this.encoding;b+=d.slice(0,c).toString(e)}return b}},{buffer:6}],19:[function(a,b){b.exports="function"==typeof Object.create?function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:function(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}},{}],20:[function(a,b,c){(function(){var a=this,d=a._,e={},f=Array.prototype,g=Object.prototype,h=Function.prototype,i=f.push,j=f.slice,k=f.concat,l=g.toString,m=g.hasOwnProperty,n=f.forEach,o=f.map,p=f.reduce,q=f.reduceRight,r=f.filter,s=f.every,t=f.some,u=f.indexOf,v=f.lastIndexOf,w=Array.isArray,x=Object.keys,y=h.bind,z=function(a){return a instanceof z?a:this instanceof z?void(this._wrapped=a):new z(a)};"undefined"!=typeof c?("undefined"!=typeof b&&b.exports&&(c=b.exports=z),c._=z):a._=z,z.VERSION="1.6.0";var A=z.each=z.forEach=function(a,b,c){if(null==a)return a;if(n&&a.forEach===n)a.forEach(b,c);else if(a.length===+a.length){for(var d=0,f=a.length;f>d;d++)if(b.call(c,a[d],d,a)===e)return}else for(var g=z.keys(a),d=0,f=g.length;f>d;d++)if(b.call(c,a[g[d]],g[d],a)===e)return;return a};z.map=z.collect=function(a,b,c){var d=[];return null==a?d:o&&a.map===o?a.map(b,c):(A(a,function(a,e,f){d.push(b.call(c,a,e,f))}),d)};var B="Reduce of empty array with no initial value";z.reduce=z.foldl=z.inject=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),p&&a.reduce===p)return d&&(b=z.bind(b,d)),e?a.reduce(b,c):a.reduce(b);if(A(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)}),!e)throw new TypeError(B);return c},z.reduceRight=z.foldr=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),q&&a.reduceRight===q)return d&&(b=z.bind(b,d)),e?a.reduceRight(b,c):a.reduceRight(b);var f=a.length;if(f!==+f){var g=z.keys(a);f=g.length}if(A(a,function(h,i,j){i=g?g[--f]:--f,e?c=b.call(d,c,a[i],i,j):(c=a[i],e=!0)}),!e)throw new TypeError(B);return c},z.find=z.detect=function(a,b,c){var d;return C(a,function(a,e,f){return b.call(c,a,e,f)?(d=a,!0):void 0}),d},z.filter=z.select=function(a,b,c){var d=[];return null==a?d:r&&a.filter===r?a.filter(b,c):(A(a,function(a,e,f){b.call(c,a,e,f)&&d.push(a)}),d)},z.reject=function(a,b,c){return z.filter(a,function(a,d,e){return!b.call(c,a,d,e)},c)},z.every=z.all=function(a,b,c){b||(b=z.identity);var d=!0;return null==a?d:s&&a.every===s?a.every(b,c):(A(a,function(a,f,g){return(d=d&&b.call(c,a,f,g))?void 0:e}),!!d)};var C=z.some=z.any=function(a,b,c){b||(b=z.identity);var d=!1;return null==a?d:t&&a.some===t?a.some(b,c):(A(a,function(a,f,g){return d||(d=b.call(c,a,f,g))?e:void 0}),!!d)};z.contains=z.include=function(a,b){return null==a?!1:u&&a.indexOf===u?-1!=a.indexOf(b):C(a,function(a){return a===b})},z.invoke=function(a,b){var c=j.call(arguments,2),d=z.isFunction(b);return z.map(a,function(a){return(d?b:a[b]).apply(a,c)})},z.pluck=function(a,b){return z.map(a,z.property(b))},z.where=function(a,b){return z.filter(a,z.matches(b))},z.findWhere=function(a,b){return z.find(a,z.matches(b))},z.max=function(a,b,c){if(!b&&z.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.max.apply(Math,a);var d=-1/0,e=-1/0;return A(a,function(a,f,g){var h=b?b.call(c,a,f,g):a;h>e&&(d=a,e=h)}),d},z.min=function(a,b,c){if(!b&&z.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.min.apply(Math,a);var d=1/0,e=1/0;return A(a,function(a,f,g){var h=b?b.call(c,a,f,g):a;e>h&&(d=a,e=h)}),d},z.shuffle=function(a){var b,c=0,d=[];return A(a,function(a){b=z.random(c++),d[c-1]=d[b],d[b]=a}),d},z.sample=function(a,b,c){return null==b||c?(a.length!==+a.length&&(a=z.values(a)),a[z.random(a.length-1)]):z.shuffle(a).slice(0,Math.max(0,b))};var D=function(a){return null==a?z.identity:z.isFunction(a)?a:z.property(a)};z.sortBy=function(a,b,c){return b=D(b),z.pluck(z.map(a,function(a,d,e){return{value:a,index:d,criteria:b.call(c,a,d,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index-b.index}),"value")};var E=function(a){return function(b,c,d){var e={};return c=D(c),A(b,function(f,g){var h=c.call(d,f,g,b);a(e,h,f)}),e}};z.groupBy=E(function(a,b,c){z.has(a,b)?a[b].push(c):a[b]=[c]}),z.indexBy=E(function(a,b,c){a[b]=c}),z.countBy=E(function(a,b){z.has(a,b)?a[b]++:a[b]=1}),z.sortedIndex=function(a,b,c,d){c=D(c);for(var e=c.call(d,b),f=0,g=a.length;g>f;){var h=f+g>>>1;c.call(d,a[h])<e?f=h+1:g=h}return f},z.toArray=function(a){return a?z.isArray(a)?j.call(a):a.length===+a.length?z.map(a,z.identity):z.values(a):[]},z.size=function(a){return null==a?0:a.length===+a.length?a.length:z.keys(a).length},z.first=z.head=z.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:0>b?[]:j.call(a,0,b)},z.initial=function(a,b,c){return j.call(a,0,a.length-(null==b||c?1:b))},z.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:j.call(a,Math.max(a.length-b,0))},z.rest=z.tail=z.drop=function(a,b,c){return j.call(a,null==b||c?1:b)},z.compact=function(a){return z.filter(a,z.identity)};var F=function(a,b,c){return b&&z.every(a,z.isArray)?k.apply(c,a):(A(a,function(a){z.isArray(a)||z.isArguments(a)?b?i.apply(c,a):F(a,b,c):c.push(a)}),c)};z.flatten=function(a,b){return F(a,b,[])},z.without=function(a){return z.difference(a,j.call(arguments,1))},z.partition=function(a,b){var c=[],d=[];return A(a,function(a){(b(a)?c:d).push(a)}),[c,d]},z.uniq=z.unique=function(a,b,c,d){z.isFunction(b)&&(d=c,c=b,b=!1);var e=c?z.map(a,c,d):a,f=[],g=[];return A(e,function(c,d){(b?d&&g[g.length-1]===c:z.contains(g,c))||(g.push(c),f.push(a[d]))}),f},z.union=function(){return z.uniq(z.flatten(arguments,!0))},z.intersection=function(a){var b=j.call(arguments,1);return z.filter(z.uniq(a),function(a){return z.every(b,function(b){return z.contains(b,a)})})},z.difference=function(a){var b=k.apply(f,j.call(arguments,1));return z.filter(a,function(a){return!z.contains(b,a)})},z.zip=function(){for(var a=z.max(z.pluck(arguments,"length").concat(0)),b=new Array(a),c=0;a>c;c++)b[c]=z.pluck(arguments,""+c);return b},z.object=function(a,b){if(null==a)return{};for(var c={},d=0,e=a.length;e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},z.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(c){if("number"!=typeof c)return d=z.sortedIndex(a,b),a[d]===b?d:-1;d=0>c?Math.max(0,e+c):c}if(u&&a.indexOf===u)return a.indexOf(b,c);for(;e>d;d++)if(a[d]===b)return d;return-1},z.lastIndexOf=function(a,b,c){if(null==a)return-1;var d=null!=c;if(v&&a.lastIndexOf===v)return d?a.lastIndexOf(b,c):a.lastIndexOf(b);for(var e=d?c:a.length;e--;)if(a[e]===b)return e;return-1},z.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=arguments[2]||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=new Array(d);d>e;)f[e++]=a,a+=c;return f};var G=function(){};z.bind=function(a,b){var c,d;if(y&&a.bind===y)return y.apply(a,j.call(arguments,1));if(!z.isFunction(a))throw new TypeError;return c=j.call(arguments,2),d=function(){if(!(this instanceof d))return a.apply(b,c.concat(j.call(arguments)));G.prototype=a.prototype;var e=new G;G.prototype=null;var f=a.apply(e,c.concat(j.call(arguments)));return Object(f)===f?f:e}},z.partial=function(a){var b=j.call(arguments,1);return function(){for(var c=0,d=b.slice(),e=0,f=d.length;f>e;e++)d[e]===z&&(d[e]=arguments[c++]);for(;c<arguments.length;)d.push(arguments[c++]);return a.apply(this,d)}},z.bindAll=function(a){var b=j.call(arguments,1);if(0===b.length)throw new Error("bindAll must be passed function names");return A(b,function(b){a[b]=z.bind(a[b],a)}),a},z.memoize=function(a,b){var c={};return b||(b=z.identity),function(){var d=b.apply(this,arguments);return z.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}},z.delay=function(a,b){var c=j.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},z.defer=function(a){return z.delay.apply(z,[a,1].concat(j.call(arguments,1)))},z.throttle=function(a,b,c){var d,e,f,g=null,h=0;c||(c={});var i=function(){h=c.leading===!1?0:z.now(),g=null,f=a.apply(d,e),d=e=null};return function(){var j=z.now();h||c.leading!==!1||(h=j);var k=b-(j-h);return d=this,e=arguments,0>=k?(clearTimeout(g),g=null,h=j,f=a.apply(d,e),d=e=null):g||c.trailing===!1||(g=setTimeout(i,k)),f}},z.debounce=function(a,b,c){var d,e,f,g,h,i=function(){var j=z.now()-g;b>j?d=setTimeout(i,b-j):(d=null,c||(h=a.apply(f,e),f=e=null))};return function(){f=this,e=arguments,g=z.now();var j=c&&!d;return d||(d=setTimeout(i,b)),j&&(h=a.apply(f,e),f=e=null),h}},z.once=function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}},z.wrap=function(a,b){return z.partial(b,a)},z.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},z.after=function(a,b){return function(){return--a<1?b.apply(this,arguments):void 0}},z.keys=function(a){if(!z.isObject(a))return[];if(x)return x(a);var b=[];for(var c in a)z.has(a,c)&&b.push(c);return b},z.values=function(a){for(var b=z.keys(a),c=b.length,d=new Array(c),e=0;c>e;e++)d[e]=a[b[e]];return d},z.pairs=function(a){for(var b=z.keys(a),c=b.length,d=new Array(c),e=0;c>e;e++)d[e]=[b[e],a[b[e]]];return d},z.invert=function(a){for(var b={},c=z.keys(a),d=0,e=c.length;e>d;d++)b[a[c[d]]]=c[d];return b},z.functions=z.methods=function(a){var b=[];for(var c in a)z.isFunction(a[c])&&b.push(c);return b.sort()},z.extend=function(a){return A(j.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]}),a},z.pick=function(a){var b={},c=k.apply(f,j.call(arguments,1));return A(c,function(c){c in a&&(b[c]=a[c])}),b},z.omit=function(a){var b={},c=k.apply(f,j.call(arguments,1));for(var d in a)z.contains(c,d)||(b[d]=a[d]);return b},z.defaults=function(a){return A(j.call(arguments,1),function(b){if(b)for(var c in b)void 0===a[c]&&(a[c]=b[c])}),a},z.clone=function(a){return z.isObject(a)?z.isArray(a)?a.slice():z.extend({},a):a},z.tap=function(a,b){return b(a),a};var H=function(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof z&&(a=a._wrapped),b instanceof z&&(b=b._wrapped);var e=l.call(a);if(e!=l.call(b))return!1;switch(e){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var f=c.length;f--;)if(c[f]==a)return d[f]==b;var g=a.constructor,h=b.constructor;if(g!==h&&!(z.isFunction(g)&&g instanceof g&&z.isFunction(h)&&h instanceof h)&&"constructor"in a&&"constructor"in b)return!1;c.push(a),d.push(b);var i=0,j=!0;if("[object Array]"==e){if(i=a.length,j=i==b.length)for(;i--&&(j=H(a[i],b[i],c,d)););}else{for(var k in a)if(z.has(a,k)&&(i++,!(j=z.has(b,k)&&H(a[k],b[k],c,d))))break;if(j){for(k in b)if(z.has(b,k)&&!i--)break;j=!i}}return c.pop(),d.pop(),j};z.isEqual=function(a,b){return H(a,b,[],[])},z.isEmpty=function(a){if(null==a)return!0;if(z.isArray(a)||z.isString(a))return 0===a.length;for(var b in a)if(z.has(a,b))return!1;return!0},z.isElement=function(a){return!(!a||1!==a.nodeType)},z.isArray=w||function(a){return"[object Array]"==l.call(a)},z.isObject=function(a){return a===Object(a)},A(["Arguments","Function","String","Number","Date","RegExp"],function(a){z["is"+a]=function(b){return l.call(b)=="[object "+a+"]"}}),z.isArguments(arguments)||(z.isArguments=function(a){return!(!a||!z.has(a,"callee"))}),"function"!=typeof/./&&(z.isFunction=function(a){return"function"==typeof a}),z.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},z.isNaN=function(a){return z.isNumber(a)&&a!=+a},z.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"==l.call(a)},z.isNull=function(a){return null===a},z.isUndefined=function(a){return void 0===a},z.has=function(a,b){return m.call(a,b)},z.noConflict=function(){return a._=d,this},z.identity=function(a){return a},z.constant=function(a){return function(){return a}},z.property=function(a){return function(b){return b[a]}},z.matches=function(a){return function(b){if(b===a)return!0;for(var c in a)if(a[c]!==b[c])return!1;return!0}},z.times=function(a,b,c){for(var d=Array(Math.max(0,a)),e=0;a>e;e++)d[e]=b.call(c,e);return d},z.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))},z.now=Date.now||function(){return(new Date).getTime()};var I={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};I.unescape=z.invert(I.escape);var J={escape:new RegExp("["+z.keys(I.escape).join("")+"]","g"),unescape:new RegExp("("+z.keys(I.unescape).join("|")+")","g")};z.each(["escape","unescape"],function(a){z[a]=function(b){return null==b?"":(""+b).replace(J[a],function(b){return I[a][b]})}}),z.result=function(a,b){if(null==a)return void 0;var c=a[b];return z.isFunction(c)?c.call(a):c},z.mixin=function(a){A(z.functions(a),function(b){var c=z[b]=a[b];z.prototype[b]=function(){var a=[this._wrapped];return i.apply(a,arguments),O.call(this,c.apply(z,a))}})};var K=0;z.uniqueId=function(a){var b=++K+"";return a?a+b:b},z.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var L=/(.)^/,M={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},N=/\\|'|\r|\n|\t|\u2028|\u2029/g;z.template=function(a,b,c){var d;c=z.defaults({},c,z.templateSettings);var e=new RegExp([(c.escape||L).source,(c.interpolate||L).source,(c.evaluate||L).source].join("|")+"|$","g"),f=0,g="__p+='";a.replace(e,function(b,c,d,e,h){return g+=a.slice(f,h).replace(N,function(a){return"\\"+M[a]}),c&&(g+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'"),d&&(g+="'+\n((__t=("+d+"))==null?'':__t)+\n'"),e&&(g+="';\n"+e+"\n__p+='"),f=h+b.length,b}),g+="';\n",c.variable||(g="with(obj||{}){\n"+g+"}\n"),g="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+g+"return __p;\n";try{d=new Function(c.variable||"obj","_",g)}catch(h){throw h.source=g,h}if(b)return d(b,z);var i=function(a){return d.call(this,a,z)};return i.source="function("+(c.variable||"obj")+"){\n"+g+"}",i},z.chain=function(a){return z(a).chain()};var O=function(a){return this._chain?z(a).chain():a};z.mixin(z),A(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=f[a];z.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!=a&&"splice"!=a||0!==c.length||delete c[0],O.call(this,c)}}),A(["concat","join","slice"],function(a){var b=f[a];z.prototype[a]=function(){return O.call(this,b.apply(this._wrapped,arguments))}}),z.extend(z.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return z})}).call(this)},{}]},{},[1]);
'use strict';

function brain(network)
{
    var net = new brain.NeuralNetwork().fromJSON(network);
    net.fromJSON(network);
}

$(document).ready(function()
{

    let promise = new Promise((resolve, reject) =>
    {

        $.getJSON("./nerual_network/network.json", function (json)
        {
            resolve(json);
        });


    });

    promise
        .then(
            response =>
            {
                console.log(response);
                let network = JSON.parse(response);
                return network;
            }
        )
        .then(brain);




});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJvb3RzdHJhcC5taW4uanMiLCJicmFpbi0wLjYuMy5taW4uanMiLCJtYWluLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDdkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImJ1aWxkLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyohXHJcbiAqIEJvb3RzdHJhcCB2My4zLjcgKGh0dHA6Ly9nZXRib290c3RyYXAuY29tKVxyXG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE2IFR3aXR0ZXIsIEluYy5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXHJcbiAqL1xyXG5pZihcInVuZGVmaW5lZFwiPT10eXBlb2YgalF1ZXJ5KXRocm93IG5ldyBFcnJvcihcIkJvb3RzdHJhcCdzIEphdmFTY3JpcHQgcmVxdWlyZXMgalF1ZXJ5XCIpOytmdW5jdGlvbihhKXtcInVzZSBzdHJpY3RcIjt2YXIgYj1hLmZuLmpxdWVyeS5zcGxpdChcIiBcIilbMF0uc3BsaXQoXCIuXCIpO2lmKGJbMF08MiYmYlsxXTw5fHwxPT1iWzBdJiY5PT1iWzFdJiZiWzJdPDF8fGJbMF0+Myl0aHJvdyBuZXcgRXJyb3IoXCJCb290c3RyYXAncyBKYXZhU2NyaXB0IHJlcXVpcmVzIGpRdWVyeSB2ZXJzaW9uIDEuOS4xIG9yIGhpZ2hlciwgYnV0IGxvd2VyIHRoYW4gdmVyc2lvbiA0XCIpfShqUXVlcnkpLCtmdW5jdGlvbihhKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBiKCl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJvb3RzdHJhcFwiKSxiPXtXZWJraXRUcmFuc2l0aW9uOlwid2Via2l0VHJhbnNpdGlvbkVuZFwiLE1velRyYW5zaXRpb246XCJ0cmFuc2l0aW9uZW5kXCIsT1RyYW5zaXRpb246XCJvVHJhbnNpdGlvbkVuZCBvdHJhbnNpdGlvbmVuZFwiLHRyYW5zaXRpb246XCJ0cmFuc2l0aW9uZW5kXCJ9O2Zvcih2YXIgYyBpbiBiKWlmKHZvaWQgMCE9PWEuc3R5bGVbY10pcmV0dXJue2VuZDpiW2NdfTtyZXR1cm4hMX1hLmZuLmVtdWxhdGVUcmFuc2l0aW9uRW5kPWZ1bmN0aW9uKGIpe3ZhciBjPSExLGQ9dGhpczthKHRoaXMpLm9uZShcImJzVHJhbnNpdGlvbkVuZFwiLGZ1bmN0aW9uKCl7Yz0hMH0pO3ZhciBlPWZ1bmN0aW9uKCl7Y3x8YShkKS50cmlnZ2VyKGEuc3VwcG9ydC50cmFuc2l0aW9uLmVuZCl9O3JldHVybiBzZXRUaW1lb3V0KGUsYiksdGhpc30sYShmdW5jdGlvbigpe2Euc3VwcG9ydC50cmFuc2l0aW9uPWIoKSxhLnN1cHBvcnQudHJhbnNpdGlvbiYmKGEuZXZlbnQuc3BlY2lhbC5ic1RyYW5zaXRpb25FbmQ9e2JpbmRUeXBlOmEuc3VwcG9ydC50cmFuc2l0aW9uLmVuZCxkZWxlZ2F0ZVR5cGU6YS5zdXBwb3J0LnRyYW5zaXRpb24uZW5kLGhhbmRsZTpmdW5jdGlvbihiKXtpZihhKGIudGFyZ2V0KS5pcyh0aGlzKSlyZXR1cm4gYi5oYW5kbGVPYmouaGFuZGxlci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSl9KX0oalF1ZXJ5KSwrZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYihiKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGM9YSh0aGlzKSxlPWMuZGF0YShcImJzLmFsZXJ0XCIpO2V8fGMuZGF0YShcImJzLmFsZXJ0XCIsZT1uZXcgZCh0aGlzKSksXCJzdHJpbmdcIj09dHlwZW9mIGImJmVbYl0uY2FsbChjKX0pfXZhciBjPSdbZGF0YS1kaXNtaXNzPVwiYWxlcnRcIl0nLGQ9ZnVuY3Rpb24oYil7YShiKS5vbihcImNsaWNrXCIsYyx0aGlzLmNsb3NlKX07ZC5WRVJTSU9OPVwiMy4zLjdcIixkLlRSQU5TSVRJT05fRFVSQVRJT049MTUwLGQucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKGIpe2Z1bmN0aW9uIGMoKXtnLmRldGFjaCgpLnRyaWdnZXIoXCJjbG9zZWQuYnMuYWxlcnRcIikucmVtb3ZlKCl9dmFyIGU9YSh0aGlzKSxmPWUuYXR0cihcImRhdGEtdGFyZ2V0XCIpO2Z8fChmPWUuYXR0cihcImhyZWZcIiksZj1mJiZmLnJlcGxhY2UoLy4qKD89I1teXFxzXSokKS8sXCJcIikpO3ZhciBnPWEoXCIjXCI9PT1mP1tdOmYpO2ImJmIucHJldmVudERlZmF1bHQoKSxnLmxlbmd0aHx8KGc9ZS5jbG9zZXN0KFwiLmFsZXJ0XCIpKSxnLnRyaWdnZXIoYj1hLkV2ZW50KFwiY2xvc2UuYnMuYWxlcnRcIikpLGIuaXNEZWZhdWx0UHJldmVudGVkKCl8fChnLnJlbW92ZUNsYXNzKFwiaW5cIiksYS5zdXBwb3J0LnRyYW5zaXRpb24mJmcuaGFzQ2xhc3MoXCJmYWRlXCIpP2cub25lKFwiYnNUcmFuc2l0aW9uRW5kXCIsYykuZW11bGF0ZVRyYW5zaXRpb25FbmQoZC5UUkFOU0lUSU9OX0RVUkFUSU9OKTpjKCkpfTt2YXIgZT1hLmZuLmFsZXJ0O2EuZm4uYWxlcnQ9YixhLmZuLmFsZXJ0LkNvbnN0cnVjdG9yPWQsYS5mbi5hbGVydC5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIGEuZm4uYWxlcnQ9ZSx0aGlzfSxhKGRvY3VtZW50KS5vbihcImNsaWNrLmJzLmFsZXJ0LmRhdGEtYXBpXCIsYyxkLnByb3RvdHlwZS5jbG9zZSl9KGpRdWVyeSksK2Z1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGIoYil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBkPWEodGhpcyksZT1kLmRhdGEoXCJicy5idXR0b25cIiksZj1cIm9iamVjdFwiPT10eXBlb2YgYiYmYjtlfHxkLmRhdGEoXCJicy5idXR0b25cIixlPW5ldyBjKHRoaXMsZikpLFwidG9nZ2xlXCI9PWI/ZS50b2dnbGUoKTpiJiZlLnNldFN0YXRlKGIpfSl9dmFyIGM9ZnVuY3Rpb24oYixkKXt0aGlzLiRlbGVtZW50PWEoYiksdGhpcy5vcHRpb25zPWEuZXh0ZW5kKHt9LGMuREVGQVVMVFMsZCksdGhpcy5pc0xvYWRpbmc9ITF9O2MuVkVSU0lPTj1cIjMuMy43XCIsYy5ERUZBVUxUUz17bG9hZGluZ1RleHQ6XCJsb2FkaW5nLi4uXCJ9LGMucHJvdG90eXBlLnNldFN0YXRlPWZ1bmN0aW9uKGIpe3ZhciBjPVwiZGlzYWJsZWRcIixkPXRoaXMuJGVsZW1lbnQsZT1kLmlzKFwiaW5wdXRcIik/XCJ2YWxcIjpcImh0bWxcIixmPWQuZGF0YSgpO2IrPVwiVGV4dFwiLG51bGw9PWYucmVzZXRUZXh0JiZkLmRhdGEoXCJyZXNldFRleHRcIixkW2VdKCkpLHNldFRpbWVvdXQoYS5wcm94eShmdW5jdGlvbigpe2RbZV0obnVsbD09ZltiXT90aGlzLm9wdGlvbnNbYl06ZltiXSksXCJsb2FkaW5nVGV4dFwiPT1iPyh0aGlzLmlzTG9hZGluZz0hMCxkLmFkZENsYXNzKGMpLmF0dHIoYyxjKS5wcm9wKGMsITApKTp0aGlzLmlzTG9hZGluZyYmKHRoaXMuaXNMb2FkaW5nPSExLGQucmVtb3ZlQ2xhc3MoYykucmVtb3ZlQXR0cihjKS5wcm9wKGMsITEpKX0sdGhpcyksMCl9LGMucHJvdG90eXBlLnRvZ2dsZT1mdW5jdGlvbigpe3ZhciBhPSEwLGI9dGhpcy4kZWxlbWVudC5jbG9zZXN0KCdbZGF0YS10b2dnbGU9XCJidXR0b25zXCJdJyk7aWYoYi5sZW5ndGgpe3ZhciBjPXRoaXMuJGVsZW1lbnQuZmluZChcImlucHV0XCIpO1wicmFkaW9cIj09Yy5wcm9wKFwidHlwZVwiKT8oYy5wcm9wKFwiY2hlY2tlZFwiKSYmKGE9ITEpLGIuZmluZChcIi5hY3RpdmVcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIiksdGhpcy4kZWxlbWVudC5hZGRDbGFzcyhcImFjdGl2ZVwiKSk6XCJjaGVja2JveFwiPT1jLnByb3AoXCJ0eXBlXCIpJiYoYy5wcm9wKFwiY2hlY2tlZFwiKSE9PXRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoXCJhY3RpdmVcIikmJihhPSExKSx0aGlzLiRlbGVtZW50LnRvZ2dsZUNsYXNzKFwiYWN0aXZlXCIpKSxjLnByb3AoXCJjaGVja2VkXCIsdGhpcy4kZWxlbWVudC5oYXNDbGFzcyhcImFjdGl2ZVwiKSksYSYmYy50cmlnZ2VyKFwiY2hhbmdlXCIpfWVsc2UgdGhpcy4kZWxlbWVudC5hdHRyKFwiYXJpYS1wcmVzc2VkXCIsIXRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoXCJhY3RpdmVcIikpLHRoaXMuJGVsZW1lbnQudG9nZ2xlQ2xhc3MoXCJhY3RpdmVcIil9O3ZhciBkPWEuZm4uYnV0dG9uO2EuZm4uYnV0dG9uPWIsYS5mbi5idXR0b24uQ29uc3RydWN0b3I9YyxhLmZuLmJ1dHRvbi5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIGEuZm4uYnV0dG9uPWQsdGhpc30sYShkb2N1bWVudCkub24oXCJjbGljay5icy5idXR0b24uZGF0YS1hcGlcIiwnW2RhdGEtdG9nZ2xlXj1cImJ1dHRvblwiXScsZnVuY3Rpb24oYyl7dmFyIGQ9YShjLnRhcmdldCkuY2xvc2VzdChcIi5idG5cIik7Yi5jYWxsKGQsXCJ0b2dnbGVcIiksYShjLnRhcmdldCkuaXMoJ2lucHV0W3R5cGU9XCJyYWRpb1wiXSwgaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJyl8fChjLnByZXZlbnREZWZhdWx0KCksZC5pcyhcImlucHV0LGJ1dHRvblwiKT9kLnRyaWdnZXIoXCJmb2N1c1wiKTpkLmZpbmQoXCJpbnB1dDp2aXNpYmxlLGJ1dHRvbjp2aXNpYmxlXCIpLmZpcnN0KCkudHJpZ2dlcihcImZvY3VzXCIpKX0pLm9uKFwiZm9jdXMuYnMuYnV0dG9uLmRhdGEtYXBpIGJsdXIuYnMuYnV0dG9uLmRhdGEtYXBpXCIsJ1tkYXRhLXRvZ2dsZV49XCJidXR0b25cIl0nLGZ1bmN0aW9uKGIpe2EoYi50YXJnZXQpLmNsb3Nlc3QoXCIuYnRuXCIpLnRvZ2dsZUNsYXNzKFwiZm9jdXNcIiwvXmZvY3VzKGluKT8kLy50ZXN0KGIudHlwZSkpfSl9KGpRdWVyeSksK2Z1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGIoYil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBkPWEodGhpcyksZT1kLmRhdGEoXCJicy5jYXJvdXNlbFwiKSxmPWEuZXh0ZW5kKHt9LGMuREVGQVVMVFMsZC5kYXRhKCksXCJvYmplY3RcIj09dHlwZW9mIGImJmIpLGc9XCJzdHJpbmdcIj09dHlwZW9mIGI/YjpmLnNsaWRlO2V8fGQuZGF0YShcImJzLmNhcm91c2VsXCIsZT1uZXcgYyh0aGlzLGYpKSxcIm51bWJlclwiPT10eXBlb2YgYj9lLnRvKGIpOmc/ZVtnXSgpOmYuaW50ZXJ2YWwmJmUucGF1c2UoKS5jeWNsZSgpfSl9dmFyIGM9ZnVuY3Rpb24oYixjKXt0aGlzLiRlbGVtZW50PWEoYiksdGhpcy4kaW5kaWNhdG9ycz10aGlzLiRlbGVtZW50LmZpbmQoXCIuY2Fyb3VzZWwtaW5kaWNhdG9yc1wiKSx0aGlzLm9wdGlvbnM9Yyx0aGlzLnBhdXNlZD1udWxsLHRoaXMuc2xpZGluZz1udWxsLHRoaXMuaW50ZXJ2YWw9bnVsbCx0aGlzLiRhY3RpdmU9bnVsbCx0aGlzLiRpdGVtcz1udWxsLHRoaXMub3B0aW9ucy5rZXlib2FyZCYmdGhpcy4kZWxlbWVudC5vbihcImtleWRvd24uYnMuY2Fyb3VzZWxcIixhLnByb3h5KHRoaXMua2V5ZG93bix0aGlzKSksXCJob3ZlclwiPT10aGlzLm9wdGlvbnMucGF1c2UmJiEoXCJvbnRvdWNoc3RhcnRcImluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkmJnRoaXMuJGVsZW1lbnQub24oXCJtb3VzZWVudGVyLmJzLmNhcm91c2VsXCIsYS5wcm94eSh0aGlzLnBhdXNlLHRoaXMpKS5vbihcIm1vdXNlbGVhdmUuYnMuY2Fyb3VzZWxcIixhLnByb3h5KHRoaXMuY3ljbGUsdGhpcykpfTtjLlZFUlNJT049XCIzLjMuN1wiLGMuVFJBTlNJVElPTl9EVVJBVElPTj02MDAsYy5ERUZBVUxUUz17aW50ZXJ2YWw6NWUzLHBhdXNlOlwiaG92ZXJcIix3cmFwOiEwLGtleWJvYXJkOiEwfSxjLnByb3RvdHlwZS5rZXlkb3duPWZ1bmN0aW9uKGEpe2lmKCEvaW5wdXR8dGV4dGFyZWEvaS50ZXN0KGEudGFyZ2V0LnRhZ05hbWUpKXtzd2l0Y2goYS53aGljaCl7Y2FzZSAzNzp0aGlzLnByZXYoKTticmVhaztjYXNlIDM5OnRoaXMubmV4dCgpO2JyZWFrO2RlZmF1bHQ6cmV0dXJufWEucHJldmVudERlZmF1bHQoKX19LGMucHJvdG90eXBlLmN5Y2xlPWZ1bmN0aW9uKGIpe3JldHVybiBifHwodGhpcy5wYXVzZWQ9ITEpLHRoaXMuaW50ZXJ2YWwmJmNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbCksdGhpcy5vcHRpb25zLmludGVydmFsJiYhdGhpcy5wYXVzZWQmJih0aGlzLmludGVydmFsPXNldEludGVydmFsKGEucHJveHkodGhpcy5uZXh0LHRoaXMpLHRoaXMub3B0aW9ucy5pbnRlcnZhbCkpLHRoaXN9LGMucHJvdG90eXBlLmdldEl0ZW1JbmRleD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy4kaXRlbXM9YS5wYXJlbnQoKS5jaGlsZHJlbihcIi5pdGVtXCIpLHRoaXMuJGl0ZW1zLmluZGV4KGF8fHRoaXMuJGFjdGl2ZSl9LGMucHJvdG90eXBlLmdldEl0ZW1Gb3JEaXJlY3Rpb249ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldEl0ZW1JbmRleChiKSxkPVwicHJldlwiPT1hJiYwPT09Y3x8XCJuZXh0XCI9PWEmJmM9PXRoaXMuJGl0ZW1zLmxlbmd0aC0xO2lmKGQmJiF0aGlzLm9wdGlvbnMud3JhcClyZXR1cm4gYjt2YXIgZT1cInByZXZcIj09YT8tMToxLGY9KGMrZSkldGhpcy4kaXRlbXMubGVuZ3RoO3JldHVybiB0aGlzLiRpdGVtcy5lcShmKX0sYy5wcm90b3R5cGUudG89ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPXRoaXMuZ2V0SXRlbUluZGV4KHRoaXMuJGFjdGl2ZT10aGlzLiRlbGVtZW50LmZpbmQoXCIuaXRlbS5hY3RpdmVcIikpO2lmKCEoYT50aGlzLiRpdGVtcy5sZW5ndGgtMXx8YTwwKSlyZXR1cm4gdGhpcy5zbGlkaW5nP3RoaXMuJGVsZW1lbnQub25lKFwic2xpZC5icy5jYXJvdXNlbFwiLGZ1bmN0aW9uKCl7Yi50byhhKX0pOmM9PWE/dGhpcy5wYXVzZSgpLmN5Y2xlKCk6dGhpcy5zbGlkZShhPmM/XCJuZXh0XCI6XCJwcmV2XCIsdGhpcy4kaXRlbXMuZXEoYSkpfSxjLnByb3RvdHlwZS5wYXVzZT1mdW5jdGlvbihiKXtyZXR1cm4gYnx8KHRoaXMucGF1c2VkPSEwKSx0aGlzLiRlbGVtZW50LmZpbmQoXCIubmV4dCwgLnByZXZcIikubGVuZ3RoJiZhLnN1cHBvcnQudHJhbnNpdGlvbiYmKHRoaXMuJGVsZW1lbnQudHJpZ2dlcihhLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQpLHRoaXMuY3ljbGUoITApKSx0aGlzLmludGVydmFsPWNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbCksdGhpc30sYy5wcm90b3R5cGUubmV4dD1mdW5jdGlvbigpe2lmKCF0aGlzLnNsaWRpbmcpcmV0dXJuIHRoaXMuc2xpZGUoXCJuZXh0XCIpfSxjLnByb3RvdHlwZS5wcmV2PWZ1bmN0aW9uKCl7aWYoIXRoaXMuc2xpZGluZylyZXR1cm4gdGhpcy5zbGlkZShcInByZXZcIil9LGMucHJvdG90eXBlLnNsaWRlPWZ1bmN0aW9uKGIsZCl7dmFyIGU9dGhpcy4kZWxlbWVudC5maW5kKFwiLml0ZW0uYWN0aXZlXCIpLGY9ZHx8dGhpcy5nZXRJdGVtRm9yRGlyZWN0aW9uKGIsZSksZz10aGlzLmludGVydmFsLGg9XCJuZXh0XCI9PWI/XCJsZWZ0XCI6XCJyaWdodFwiLGk9dGhpcztpZihmLmhhc0NsYXNzKFwiYWN0aXZlXCIpKXJldHVybiB0aGlzLnNsaWRpbmc9ITE7dmFyIGo9ZlswXSxrPWEuRXZlbnQoXCJzbGlkZS5icy5jYXJvdXNlbFwiLHtyZWxhdGVkVGFyZ2V0OmosZGlyZWN0aW9uOmh9KTtpZih0aGlzLiRlbGVtZW50LnRyaWdnZXIoayksIWsuaXNEZWZhdWx0UHJldmVudGVkKCkpe2lmKHRoaXMuc2xpZGluZz0hMCxnJiZ0aGlzLnBhdXNlKCksdGhpcy4kaW5kaWNhdG9ycy5sZW5ndGgpe3RoaXMuJGluZGljYXRvcnMuZmluZChcIi5hY3RpdmVcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7dmFyIGw9YSh0aGlzLiRpbmRpY2F0b3JzLmNoaWxkcmVuKClbdGhpcy5nZXRJdGVtSW5kZXgoZildKTtsJiZsLmFkZENsYXNzKFwiYWN0aXZlXCIpfXZhciBtPWEuRXZlbnQoXCJzbGlkLmJzLmNhcm91c2VsXCIse3JlbGF0ZWRUYXJnZXQ6aixkaXJlY3Rpb246aH0pO3JldHVybiBhLnN1cHBvcnQudHJhbnNpdGlvbiYmdGhpcy4kZWxlbWVudC5oYXNDbGFzcyhcInNsaWRlXCIpPyhmLmFkZENsYXNzKGIpLGZbMF0ub2Zmc2V0V2lkdGgsZS5hZGRDbGFzcyhoKSxmLmFkZENsYXNzKGgpLGUub25lKFwiYnNUcmFuc2l0aW9uRW5kXCIsZnVuY3Rpb24oKXtmLnJlbW92ZUNsYXNzKFtiLGhdLmpvaW4oXCIgXCIpKS5hZGRDbGFzcyhcImFjdGl2ZVwiKSxlLnJlbW92ZUNsYXNzKFtcImFjdGl2ZVwiLGhdLmpvaW4oXCIgXCIpKSxpLnNsaWRpbmc9ITEsc2V0VGltZW91dChmdW5jdGlvbigpe2kuJGVsZW1lbnQudHJpZ2dlcihtKX0sMCl9KS5lbXVsYXRlVHJhbnNpdGlvbkVuZChjLlRSQU5TSVRJT05fRFVSQVRJT04pKTooZS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKSxmLmFkZENsYXNzKFwiYWN0aXZlXCIpLHRoaXMuc2xpZGluZz0hMSx0aGlzLiRlbGVtZW50LnRyaWdnZXIobSkpLGcmJnRoaXMuY3ljbGUoKSx0aGlzfX07dmFyIGQ9YS5mbi5jYXJvdXNlbDthLmZuLmNhcm91c2VsPWIsYS5mbi5jYXJvdXNlbC5Db25zdHJ1Y3Rvcj1jLGEuZm4uY2Fyb3VzZWwubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiBhLmZuLmNhcm91c2VsPWQsdGhpc307dmFyIGU9ZnVuY3Rpb24oYyl7dmFyIGQsZT1hKHRoaXMpLGY9YShlLmF0dHIoXCJkYXRhLXRhcmdldFwiKXx8KGQ9ZS5hdHRyKFwiaHJlZlwiKSkmJmQucmVwbGFjZSgvLiooPz0jW15cXHNdKyQpLyxcIlwiKSk7aWYoZi5oYXNDbGFzcyhcImNhcm91c2VsXCIpKXt2YXIgZz1hLmV4dGVuZCh7fSxmLmRhdGEoKSxlLmRhdGEoKSksaD1lLmF0dHIoXCJkYXRhLXNsaWRlLXRvXCIpO2gmJihnLmludGVydmFsPSExKSxiLmNhbGwoZixnKSxoJiZmLmRhdGEoXCJicy5jYXJvdXNlbFwiKS50byhoKSxjLnByZXZlbnREZWZhdWx0KCl9fTthKGRvY3VtZW50KS5vbihcImNsaWNrLmJzLmNhcm91c2VsLmRhdGEtYXBpXCIsXCJbZGF0YS1zbGlkZV1cIixlKS5vbihcImNsaWNrLmJzLmNhcm91c2VsLmRhdGEtYXBpXCIsXCJbZGF0YS1zbGlkZS10b11cIixlKSxhKHdpbmRvdykub24oXCJsb2FkXCIsZnVuY3Rpb24oKXthKCdbZGF0YS1yaWRlPVwiY2Fyb3VzZWxcIl0nKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGM9YSh0aGlzKTtiLmNhbGwoYyxjLmRhdGEoKSl9KX0pfShqUXVlcnkpLCtmdW5jdGlvbihhKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBiKGIpe3ZhciBjLGQ9Yi5hdHRyKFwiZGF0YS10YXJnZXRcIil8fChjPWIuYXR0cihcImhyZWZcIikpJiZjLnJlcGxhY2UoLy4qKD89I1teXFxzXSskKS8sXCJcIik7cmV0dXJuIGEoZCl9ZnVuY3Rpb24gYyhiKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGM9YSh0aGlzKSxlPWMuZGF0YShcImJzLmNvbGxhcHNlXCIpLGY9YS5leHRlbmQoe30sZC5ERUZBVUxUUyxjLmRhdGEoKSxcIm9iamVjdFwiPT10eXBlb2YgYiYmYik7IWUmJmYudG9nZ2xlJiYvc2hvd3xoaWRlLy50ZXN0KGIpJiYoZi50b2dnbGU9ITEpLGV8fGMuZGF0YShcImJzLmNvbGxhcHNlXCIsZT1uZXcgZCh0aGlzLGYpKSxcInN0cmluZ1wiPT10eXBlb2YgYiYmZVtiXSgpfSl9dmFyIGQ9ZnVuY3Rpb24oYixjKXt0aGlzLiRlbGVtZW50PWEoYiksdGhpcy5vcHRpb25zPWEuZXh0ZW5kKHt9LGQuREVGQVVMVFMsYyksdGhpcy4kdHJpZ2dlcj1hKCdbZGF0YS10b2dnbGU9XCJjb2xsYXBzZVwiXVtocmVmPVwiIycrYi5pZCsnXCJdLFtkYXRhLXRvZ2dsZT1cImNvbGxhcHNlXCJdW2RhdGEtdGFyZ2V0PVwiIycrYi5pZCsnXCJdJyksdGhpcy50cmFuc2l0aW9uaW5nPW51bGwsdGhpcy5vcHRpb25zLnBhcmVudD90aGlzLiRwYXJlbnQ9dGhpcy5nZXRQYXJlbnQoKTp0aGlzLmFkZEFyaWFBbmRDb2xsYXBzZWRDbGFzcyh0aGlzLiRlbGVtZW50LHRoaXMuJHRyaWdnZXIpLHRoaXMub3B0aW9ucy50b2dnbGUmJnRoaXMudG9nZ2xlKCl9O2QuVkVSU0lPTj1cIjMuMy43XCIsZC5UUkFOU0lUSU9OX0RVUkFUSU9OPTM1MCxkLkRFRkFVTFRTPXt0b2dnbGU6ITB9LGQucHJvdG90eXBlLmRpbWVuc2lvbj1mdW5jdGlvbigpe3ZhciBhPXRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoXCJ3aWR0aFwiKTtyZXR1cm4gYT9cIndpZHRoXCI6XCJoZWlnaHRcIn0sZC5wcm90b3R5cGUuc2hvdz1mdW5jdGlvbigpe2lmKCF0aGlzLnRyYW5zaXRpb25pbmcmJiF0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKFwiaW5cIikpe3ZhciBiLGU9dGhpcy4kcGFyZW50JiZ0aGlzLiRwYXJlbnQuY2hpbGRyZW4oXCIucGFuZWxcIikuY2hpbGRyZW4oXCIuaW4sIC5jb2xsYXBzaW5nXCIpO2lmKCEoZSYmZS5sZW5ndGgmJihiPWUuZGF0YShcImJzLmNvbGxhcHNlXCIpLGImJmIudHJhbnNpdGlvbmluZykpKXt2YXIgZj1hLkV2ZW50KFwic2hvdy5icy5jb2xsYXBzZVwiKTtpZih0aGlzLiRlbGVtZW50LnRyaWdnZXIoZiksIWYuaXNEZWZhdWx0UHJldmVudGVkKCkpe2UmJmUubGVuZ3RoJiYoYy5jYWxsKGUsXCJoaWRlXCIpLGJ8fGUuZGF0YShcImJzLmNvbGxhcHNlXCIsbnVsbCkpO3ZhciBnPXRoaXMuZGltZW5zaW9uKCk7dGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcyhcImNvbGxhcHNlXCIpLmFkZENsYXNzKFwiY29sbGFwc2luZ1wiKVtnXSgwKS5hdHRyKFwiYXJpYS1leHBhbmRlZFwiLCEwKSx0aGlzLiR0cmlnZ2VyLnJlbW92ZUNsYXNzKFwiY29sbGFwc2VkXCIpLmF0dHIoXCJhcmlhLWV4cGFuZGVkXCIsITApLHRoaXMudHJhbnNpdGlvbmluZz0xO3ZhciBoPWZ1bmN0aW9uKCl7dGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcyhcImNvbGxhcHNpbmdcIikuYWRkQ2xhc3MoXCJjb2xsYXBzZSBpblwiKVtnXShcIlwiKSx0aGlzLnRyYW5zaXRpb25pbmc9MCx0aGlzLiRlbGVtZW50LnRyaWdnZXIoXCJzaG93bi5icy5jb2xsYXBzZVwiKX07aWYoIWEuc3VwcG9ydC50cmFuc2l0aW9uKXJldHVybiBoLmNhbGwodGhpcyk7dmFyIGk9YS5jYW1lbENhc2UoW1wic2Nyb2xsXCIsZ10uam9pbihcIi1cIikpO3RoaXMuJGVsZW1lbnQub25lKFwiYnNUcmFuc2l0aW9uRW5kXCIsYS5wcm94eShoLHRoaXMpKS5lbXVsYXRlVHJhbnNpdGlvbkVuZChkLlRSQU5TSVRJT05fRFVSQVRJT04pW2ddKHRoaXMuJGVsZW1lbnRbMF1baV0pfX19fSxkLnByb3RvdHlwZS5oaWRlPWZ1bmN0aW9uKCl7aWYoIXRoaXMudHJhbnNpdGlvbmluZyYmdGhpcy4kZWxlbWVudC5oYXNDbGFzcyhcImluXCIpKXt2YXIgYj1hLkV2ZW50KFwiaGlkZS5icy5jb2xsYXBzZVwiKTtpZih0aGlzLiRlbGVtZW50LnRyaWdnZXIoYiksIWIuaXNEZWZhdWx0UHJldmVudGVkKCkpe3ZhciBjPXRoaXMuZGltZW5zaW9uKCk7dGhpcy4kZWxlbWVudFtjXSh0aGlzLiRlbGVtZW50W2NdKCkpWzBdLm9mZnNldEhlaWdodCx0aGlzLiRlbGVtZW50LmFkZENsYXNzKFwiY29sbGFwc2luZ1wiKS5yZW1vdmVDbGFzcyhcImNvbGxhcHNlIGluXCIpLmF0dHIoXCJhcmlhLWV4cGFuZGVkXCIsITEpLHRoaXMuJHRyaWdnZXIuYWRkQ2xhc3MoXCJjb2xsYXBzZWRcIikuYXR0cihcImFyaWEtZXhwYW5kZWRcIiwhMSksdGhpcy50cmFuc2l0aW9uaW5nPTE7dmFyIGU9ZnVuY3Rpb24oKXt0aGlzLnRyYW5zaXRpb25pbmc9MCx0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKFwiY29sbGFwc2luZ1wiKS5hZGRDbGFzcyhcImNvbGxhcHNlXCIpLnRyaWdnZXIoXCJoaWRkZW4uYnMuY29sbGFwc2VcIil9O3JldHVybiBhLnN1cHBvcnQudHJhbnNpdGlvbj92b2lkIHRoaXMuJGVsZW1lbnRbY10oMCkub25lKFwiYnNUcmFuc2l0aW9uRW5kXCIsYS5wcm94eShlLHRoaXMpKS5lbXVsYXRlVHJhbnNpdGlvbkVuZChkLlRSQU5TSVRJT05fRFVSQVRJT04pOmUuY2FsbCh0aGlzKX19fSxkLnByb3RvdHlwZS50b2dnbGU9ZnVuY3Rpb24oKXt0aGlzW3RoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoXCJpblwiKT9cImhpZGVcIjpcInNob3dcIl0oKX0sZC5wcm90b3R5cGUuZ2V0UGFyZW50PWZ1bmN0aW9uKCl7cmV0dXJuIGEodGhpcy5vcHRpb25zLnBhcmVudCkuZmluZCgnW2RhdGEtdG9nZ2xlPVwiY29sbGFwc2VcIl1bZGF0YS1wYXJlbnQ9XCInK3RoaXMub3B0aW9ucy5wYXJlbnQrJ1wiXScpLmVhY2goYS5wcm94eShmdW5jdGlvbihjLGQpe3ZhciBlPWEoZCk7dGhpcy5hZGRBcmlhQW5kQ29sbGFwc2VkQ2xhc3MoYihlKSxlKX0sdGhpcykpLmVuZCgpfSxkLnByb3RvdHlwZS5hZGRBcmlhQW5kQ29sbGFwc2VkQ2xhc3M9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmhhc0NsYXNzKFwiaW5cIik7YS5hdHRyKFwiYXJpYS1leHBhbmRlZFwiLGMpLGIudG9nZ2xlQ2xhc3MoXCJjb2xsYXBzZWRcIiwhYykuYXR0cihcImFyaWEtZXhwYW5kZWRcIixjKX07dmFyIGU9YS5mbi5jb2xsYXBzZTthLmZuLmNvbGxhcHNlPWMsYS5mbi5jb2xsYXBzZS5Db25zdHJ1Y3Rvcj1kLGEuZm4uY29sbGFwc2Uubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiBhLmZuLmNvbGxhcHNlPWUsdGhpc30sYShkb2N1bWVudCkub24oXCJjbGljay5icy5jb2xsYXBzZS5kYXRhLWFwaVwiLCdbZGF0YS10b2dnbGU9XCJjb2xsYXBzZVwiXScsZnVuY3Rpb24oZCl7dmFyIGU9YSh0aGlzKTtlLmF0dHIoXCJkYXRhLXRhcmdldFwiKXx8ZC5wcmV2ZW50RGVmYXVsdCgpO3ZhciBmPWIoZSksZz1mLmRhdGEoXCJicy5jb2xsYXBzZVwiKSxoPWc/XCJ0b2dnbGVcIjplLmRhdGEoKTtjLmNhbGwoZixoKX0pfShqUXVlcnkpLCtmdW5jdGlvbihhKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBiKGIpe3ZhciBjPWIuYXR0cihcImRhdGEtdGFyZ2V0XCIpO2N8fChjPWIuYXR0cihcImhyZWZcIiksYz1jJiYvI1tBLVphLXpdLy50ZXN0KGMpJiZjLnJlcGxhY2UoLy4qKD89I1teXFxzXSokKS8sXCJcIikpO3ZhciBkPWMmJmEoYyk7cmV0dXJuIGQmJmQubGVuZ3RoP2Q6Yi5wYXJlbnQoKX1mdW5jdGlvbiBjKGMpe2MmJjM9PT1jLndoaWNofHwoYShlKS5yZW1vdmUoKSxhKGYpLmVhY2goZnVuY3Rpb24oKXt2YXIgZD1hKHRoaXMpLGU9YihkKSxmPXtyZWxhdGVkVGFyZ2V0OnRoaXN9O2UuaGFzQ2xhc3MoXCJvcGVuXCIpJiYoYyYmXCJjbGlja1wiPT1jLnR5cGUmJi9pbnB1dHx0ZXh0YXJlYS9pLnRlc3QoYy50YXJnZXQudGFnTmFtZSkmJmEuY29udGFpbnMoZVswXSxjLnRhcmdldCl8fChlLnRyaWdnZXIoYz1hLkV2ZW50KFwiaGlkZS5icy5kcm9wZG93blwiLGYpKSxjLmlzRGVmYXVsdFByZXZlbnRlZCgpfHwoZC5hdHRyKFwiYXJpYS1leHBhbmRlZFwiLFwiZmFsc2VcIiksZS5yZW1vdmVDbGFzcyhcIm9wZW5cIikudHJpZ2dlcihhLkV2ZW50KFwiaGlkZGVuLmJzLmRyb3Bkb3duXCIsZikpKSkpfSkpfWZ1bmN0aW9uIGQoYil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBjPWEodGhpcyksZD1jLmRhdGEoXCJicy5kcm9wZG93blwiKTtkfHxjLmRhdGEoXCJicy5kcm9wZG93blwiLGQ9bmV3IGcodGhpcykpLFwic3RyaW5nXCI9PXR5cGVvZiBiJiZkW2JdLmNhbGwoYyl9KX12YXIgZT1cIi5kcm9wZG93bi1iYWNrZHJvcFwiLGY9J1tkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCJdJyxnPWZ1bmN0aW9uKGIpe2EoYikub24oXCJjbGljay5icy5kcm9wZG93blwiLHRoaXMudG9nZ2xlKX07Zy5WRVJTSU9OPVwiMy4zLjdcIixnLnByb3RvdHlwZS50b2dnbGU9ZnVuY3Rpb24oZCl7dmFyIGU9YSh0aGlzKTtpZighZS5pcyhcIi5kaXNhYmxlZCwgOmRpc2FibGVkXCIpKXt2YXIgZj1iKGUpLGc9Zi5oYXNDbGFzcyhcIm9wZW5cIik7aWYoYygpLCFnKXtcIm9udG91Y2hzdGFydFwiaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50JiYhZi5jbG9zZXN0KFwiLm5hdmJhci1uYXZcIikubGVuZ3RoJiZhKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpLmFkZENsYXNzKFwiZHJvcGRvd24tYmFja2Ryb3BcIikuaW5zZXJ0QWZ0ZXIoYSh0aGlzKSkub24oXCJjbGlja1wiLGMpO3ZhciBoPXtyZWxhdGVkVGFyZ2V0OnRoaXN9O2lmKGYudHJpZ2dlcihkPWEuRXZlbnQoXCJzaG93LmJzLmRyb3Bkb3duXCIsaCkpLGQuaXNEZWZhdWx0UHJldmVudGVkKCkpcmV0dXJuO2UudHJpZ2dlcihcImZvY3VzXCIpLmF0dHIoXCJhcmlhLWV4cGFuZGVkXCIsXCJ0cnVlXCIpLGYudG9nZ2xlQ2xhc3MoXCJvcGVuXCIpLnRyaWdnZXIoYS5FdmVudChcInNob3duLmJzLmRyb3Bkb3duXCIsaCkpfXJldHVybiExfX0sZy5wcm90b3R5cGUua2V5ZG93bj1mdW5jdGlvbihjKXtpZigvKDM4fDQwfDI3fDMyKS8udGVzdChjLndoaWNoKSYmIS9pbnB1dHx0ZXh0YXJlYS9pLnRlc3QoYy50YXJnZXQudGFnTmFtZSkpe3ZhciBkPWEodGhpcyk7aWYoYy5wcmV2ZW50RGVmYXVsdCgpLGMuc3RvcFByb3BhZ2F0aW9uKCksIWQuaXMoXCIuZGlzYWJsZWQsIDpkaXNhYmxlZFwiKSl7dmFyIGU9YihkKSxnPWUuaGFzQ2xhc3MoXCJvcGVuXCIpO2lmKCFnJiYyNyE9Yy53aGljaHx8ZyYmMjc9PWMud2hpY2gpcmV0dXJuIDI3PT1jLndoaWNoJiZlLmZpbmQoZikudHJpZ2dlcihcImZvY3VzXCIpLGQudHJpZ2dlcihcImNsaWNrXCIpO3ZhciBoPVwiIGxpOm5vdCguZGlzYWJsZWQpOnZpc2libGUgYVwiLGk9ZS5maW5kKFwiLmRyb3Bkb3duLW1lbnVcIitoKTtpZihpLmxlbmd0aCl7dmFyIGo9aS5pbmRleChjLnRhcmdldCk7Mzg9PWMud2hpY2gmJmo+MCYmai0tLDQwPT1jLndoaWNoJiZqPGkubGVuZ3RoLTEmJmorKyx+anx8KGo9MCksaS5lcShqKS50cmlnZ2VyKFwiZm9jdXNcIil9fX19O3ZhciBoPWEuZm4uZHJvcGRvd247YS5mbi5kcm9wZG93bj1kLGEuZm4uZHJvcGRvd24uQ29uc3RydWN0b3I9ZyxhLmZuLmRyb3Bkb3duLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gYS5mbi5kcm9wZG93bj1oLHRoaXN9LGEoZG9jdW1lbnQpLm9uKFwiY2xpY2suYnMuZHJvcGRvd24uZGF0YS1hcGlcIixjKS5vbihcImNsaWNrLmJzLmRyb3Bkb3duLmRhdGEtYXBpXCIsXCIuZHJvcGRvd24gZm9ybVwiLGZ1bmN0aW9uKGEpe2Euc3RvcFByb3BhZ2F0aW9uKCl9KS5vbihcImNsaWNrLmJzLmRyb3Bkb3duLmRhdGEtYXBpXCIsZixnLnByb3RvdHlwZS50b2dnbGUpLm9uKFwia2V5ZG93bi5icy5kcm9wZG93bi5kYXRhLWFwaVwiLGYsZy5wcm90b3R5cGUua2V5ZG93bikub24oXCJrZXlkb3duLmJzLmRyb3Bkb3duLmRhdGEtYXBpXCIsXCIuZHJvcGRvd24tbWVudVwiLGcucHJvdG90eXBlLmtleWRvd24pfShqUXVlcnkpLCtmdW5jdGlvbihhKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBiKGIsZCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBlPWEodGhpcyksZj1lLmRhdGEoXCJicy5tb2RhbFwiKSxnPWEuZXh0ZW5kKHt9LGMuREVGQVVMVFMsZS5kYXRhKCksXCJvYmplY3RcIj09dHlwZW9mIGImJmIpO2Z8fGUuZGF0YShcImJzLm1vZGFsXCIsZj1uZXcgYyh0aGlzLGcpKSxcInN0cmluZ1wiPT10eXBlb2YgYj9mW2JdKGQpOmcuc2hvdyYmZi5zaG93KGQpfSl9dmFyIGM9ZnVuY3Rpb24oYixjKXt0aGlzLm9wdGlvbnM9Yyx0aGlzLiRib2R5PWEoZG9jdW1lbnQuYm9keSksdGhpcy4kZWxlbWVudD1hKGIpLHRoaXMuJGRpYWxvZz10aGlzLiRlbGVtZW50LmZpbmQoXCIubW9kYWwtZGlhbG9nXCIpLHRoaXMuJGJhY2tkcm9wPW51bGwsdGhpcy5pc1Nob3duPW51bGwsdGhpcy5vcmlnaW5hbEJvZHlQYWQ9bnVsbCx0aGlzLnNjcm9sbGJhcldpZHRoPTAsdGhpcy5pZ25vcmVCYWNrZHJvcENsaWNrPSExLHRoaXMub3B0aW9ucy5yZW1vdGUmJnRoaXMuJGVsZW1lbnQuZmluZChcIi5tb2RhbC1jb250ZW50XCIpLmxvYWQodGhpcy5vcHRpb25zLnJlbW90ZSxhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy4kZWxlbWVudC50cmlnZ2VyKFwibG9hZGVkLmJzLm1vZGFsXCIpfSx0aGlzKSl9O2MuVkVSU0lPTj1cIjMuMy43XCIsYy5UUkFOU0lUSU9OX0RVUkFUSU9OPTMwMCxjLkJBQ0tEUk9QX1RSQU5TSVRJT05fRFVSQVRJT049MTUwLGMuREVGQVVMVFM9e2JhY2tkcm9wOiEwLGtleWJvYXJkOiEwLHNob3c6ITB9LGMucHJvdG90eXBlLnRvZ2dsZT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pc1Nob3duP3RoaXMuaGlkZSgpOnRoaXMuc2hvdyhhKX0sYy5wcm90b3R5cGUuc2hvdz1mdW5jdGlvbihiKXt2YXIgZD10aGlzLGU9YS5FdmVudChcInNob3cuYnMubW9kYWxcIix7cmVsYXRlZFRhcmdldDpifSk7dGhpcy4kZWxlbWVudC50cmlnZ2VyKGUpLHRoaXMuaXNTaG93bnx8ZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KHRoaXMuaXNTaG93bj0hMCx0aGlzLmNoZWNrU2Nyb2xsYmFyKCksdGhpcy5zZXRTY3JvbGxiYXIoKSx0aGlzLiRib2R5LmFkZENsYXNzKFwibW9kYWwtb3BlblwiKSx0aGlzLmVzY2FwZSgpLHRoaXMucmVzaXplKCksdGhpcy4kZWxlbWVudC5vbihcImNsaWNrLmRpc21pc3MuYnMubW9kYWxcIiwnW2RhdGEtZGlzbWlzcz1cIm1vZGFsXCJdJyxhLnByb3h5KHRoaXMuaGlkZSx0aGlzKSksdGhpcy4kZGlhbG9nLm9uKFwibW91c2Vkb3duLmRpc21pc3MuYnMubW9kYWxcIixmdW5jdGlvbigpe2QuJGVsZW1lbnQub25lKFwibW91c2V1cC5kaXNtaXNzLmJzLm1vZGFsXCIsZnVuY3Rpb24oYil7YShiLnRhcmdldCkuaXMoZC4kZWxlbWVudCkmJihkLmlnbm9yZUJhY2tkcm9wQ2xpY2s9ITApfSl9KSx0aGlzLmJhY2tkcm9wKGZ1bmN0aW9uKCl7dmFyIGU9YS5zdXBwb3J0LnRyYW5zaXRpb24mJmQuJGVsZW1lbnQuaGFzQ2xhc3MoXCJmYWRlXCIpO2QuJGVsZW1lbnQucGFyZW50KCkubGVuZ3RofHxkLiRlbGVtZW50LmFwcGVuZFRvKGQuJGJvZHkpLGQuJGVsZW1lbnQuc2hvdygpLnNjcm9sbFRvcCgwKSxkLmFkanVzdERpYWxvZygpLGUmJmQuJGVsZW1lbnRbMF0ub2Zmc2V0V2lkdGgsZC4kZWxlbWVudC5hZGRDbGFzcyhcImluXCIpLGQuZW5mb3JjZUZvY3VzKCk7dmFyIGY9YS5FdmVudChcInNob3duLmJzLm1vZGFsXCIse3JlbGF0ZWRUYXJnZXQ6Yn0pO2U/ZC4kZGlhbG9nLm9uZShcImJzVHJhbnNpdGlvbkVuZFwiLGZ1bmN0aW9uKCl7ZC4kZWxlbWVudC50cmlnZ2VyKFwiZm9jdXNcIikudHJpZ2dlcihmKX0pLmVtdWxhdGVUcmFuc2l0aW9uRW5kKGMuVFJBTlNJVElPTl9EVVJBVElPTik6ZC4kZWxlbWVudC50cmlnZ2VyKFwiZm9jdXNcIikudHJpZ2dlcihmKX0pKX0sYy5wcm90b3R5cGUuaGlkZT1mdW5jdGlvbihiKXtiJiZiLnByZXZlbnREZWZhdWx0KCksYj1hLkV2ZW50KFwiaGlkZS5icy5tb2RhbFwiKSx0aGlzLiRlbGVtZW50LnRyaWdnZXIoYiksdGhpcy5pc1Nob3duJiYhYi5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmKHRoaXMuaXNTaG93bj0hMSx0aGlzLmVzY2FwZSgpLHRoaXMucmVzaXplKCksYShkb2N1bWVudCkub2ZmKFwiZm9jdXNpbi5icy5tb2RhbFwiKSx0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKFwiaW5cIikub2ZmKFwiY2xpY2suZGlzbWlzcy5icy5tb2RhbFwiKS5vZmYoXCJtb3VzZXVwLmRpc21pc3MuYnMubW9kYWxcIiksdGhpcy4kZGlhbG9nLm9mZihcIm1vdXNlZG93bi5kaXNtaXNzLmJzLm1vZGFsXCIpLGEuc3VwcG9ydC50cmFuc2l0aW9uJiZ0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKFwiZmFkZVwiKT90aGlzLiRlbGVtZW50Lm9uZShcImJzVHJhbnNpdGlvbkVuZFwiLGEucHJveHkodGhpcy5oaWRlTW9kYWwsdGhpcykpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKGMuVFJBTlNJVElPTl9EVVJBVElPTik6dGhpcy5oaWRlTW9kYWwoKSl9LGMucHJvdG90eXBlLmVuZm9yY2VGb2N1cz1mdW5jdGlvbigpe2EoZG9jdW1lbnQpLm9mZihcImZvY3VzaW4uYnMubW9kYWxcIikub24oXCJmb2N1c2luLmJzLm1vZGFsXCIsYS5wcm94eShmdW5jdGlvbihhKXtkb2N1bWVudD09PWEudGFyZ2V0fHx0aGlzLiRlbGVtZW50WzBdPT09YS50YXJnZXR8fHRoaXMuJGVsZW1lbnQuaGFzKGEudGFyZ2V0KS5sZW5ndGh8fHRoaXMuJGVsZW1lbnQudHJpZ2dlcihcImZvY3VzXCIpfSx0aGlzKSl9LGMucHJvdG90eXBlLmVzY2FwZT1mdW5jdGlvbigpe3RoaXMuaXNTaG93biYmdGhpcy5vcHRpb25zLmtleWJvYXJkP3RoaXMuJGVsZW1lbnQub24oXCJrZXlkb3duLmRpc21pc3MuYnMubW9kYWxcIixhLnByb3h5KGZ1bmN0aW9uKGEpezI3PT1hLndoaWNoJiZ0aGlzLmhpZGUoKX0sdGhpcykpOnRoaXMuaXNTaG93bnx8dGhpcy4kZWxlbWVudC5vZmYoXCJrZXlkb3duLmRpc21pc3MuYnMubW9kYWxcIil9LGMucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbigpe3RoaXMuaXNTaG93bj9hKHdpbmRvdykub24oXCJyZXNpemUuYnMubW9kYWxcIixhLnByb3h5KHRoaXMuaGFuZGxlVXBkYXRlLHRoaXMpKTphKHdpbmRvdykub2ZmKFwicmVzaXplLmJzLm1vZGFsXCIpfSxjLnByb3RvdHlwZS5oaWRlTW9kYWw9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3RoaXMuJGVsZW1lbnQuaGlkZSgpLHRoaXMuYmFja2Ryb3AoZnVuY3Rpb24oKXthLiRib2R5LnJlbW92ZUNsYXNzKFwibW9kYWwtb3BlblwiKSxhLnJlc2V0QWRqdXN0bWVudHMoKSxhLnJlc2V0U2Nyb2xsYmFyKCksYS4kZWxlbWVudC50cmlnZ2VyKFwiaGlkZGVuLmJzLm1vZGFsXCIpfSl9LGMucHJvdG90eXBlLnJlbW92ZUJhY2tkcm9wPWZ1bmN0aW9uKCl7dGhpcy4kYmFja2Ryb3AmJnRoaXMuJGJhY2tkcm9wLnJlbW92ZSgpLHRoaXMuJGJhY2tkcm9wPW51bGx9LGMucHJvdG90eXBlLmJhY2tkcm9wPWZ1bmN0aW9uKGIpe3ZhciBkPXRoaXMsZT10aGlzLiRlbGVtZW50Lmhhc0NsYXNzKFwiZmFkZVwiKT9cImZhZGVcIjpcIlwiO2lmKHRoaXMuaXNTaG93biYmdGhpcy5vcHRpb25zLmJhY2tkcm9wKXt2YXIgZj1hLnN1cHBvcnQudHJhbnNpdGlvbiYmZTtpZih0aGlzLiRiYWNrZHJvcD1hKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpLmFkZENsYXNzKFwibW9kYWwtYmFja2Ryb3AgXCIrZSkuYXBwZW5kVG8odGhpcy4kYm9keSksdGhpcy4kZWxlbWVudC5vbihcImNsaWNrLmRpc21pc3MuYnMubW9kYWxcIixhLnByb3h5KGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmlnbm9yZUJhY2tkcm9wQ2xpY2s/dm9pZCh0aGlzLmlnbm9yZUJhY2tkcm9wQ2xpY2s9ITEpOnZvaWQoYS50YXJnZXQ9PT1hLmN1cnJlbnRUYXJnZXQmJihcInN0YXRpY1wiPT10aGlzLm9wdGlvbnMuYmFja2Ryb3A/dGhpcy4kZWxlbWVudFswXS5mb2N1cygpOnRoaXMuaGlkZSgpKSl9LHRoaXMpKSxmJiZ0aGlzLiRiYWNrZHJvcFswXS5vZmZzZXRXaWR0aCx0aGlzLiRiYWNrZHJvcC5hZGRDbGFzcyhcImluXCIpLCFiKXJldHVybjtmP3RoaXMuJGJhY2tkcm9wLm9uZShcImJzVHJhbnNpdGlvbkVuZFwiLGIpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKGMuQkFDS0RST1BfVFJBTlNJVElPTl9EVVJBVElPTik6YigpfWVsc2UgaWYoIXRoaXMuaXNTaG93biYmdGhpcy4kYmFja2Ryb3Ape3RoaXMuJGJhY2tkcm9wLnJlbW92ZUNsYXNzKFwiaW5cIik7dmFyIGc9ZnVuY3Rpb24oKXtkLnJlbW92ZUJhY2tkcm9wKCksYiYmYigpfTthLnN1cHBvcnQudHJhbnNpdGlvbiYmdGhpcy4kZWxlbWVudC5oYXNDbGFzcyhcImZhZGVcIik/dGhpcy4kYmFja2Ryb3Aub25lKFwiYnNUcmFuc2l0aW9uRW5kXCIsZykuZW11bGF0ZVRyYW5zaXRpb25FbmQoYy5CQUNLRFJPUF9UUkFOU0lUSU9OX0RVUkFUSU9OKTpnKCl9ZWxzZSBiJiZiKCl9LGMucHJvdG90eXBlLmhhbmRsZVVwZGF0ZT1mdW5jdGlvbigpe3RoaXMuYWRqdXN0RGlhbG9nKCl9LGMucHJvdG90eXBlLmFkanVzdERpYWxvZz1mdW5jdGlvbigpe3ZhciBhPXRoaXMuJGVsZW1lbnRbMF0uc2Nyb2xsSGVpZ2h0PmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ7dGhpcy4kZWxlbWVudC5jc3Moe3BhZGRpbmdMZWZ0OiF0aGlzLmJvZHlJc092ZXJmbG93aW5nJiZhP3RoaXMuc2Nyb2xsYmFyV2lkdGg6XCJcIixwYWRkaW5nUmlnaHQ6dGhpcy5ib2R5SXNPdmVyZmxvd2luZyYmIWE/dGhpcy5zY3JvbGxiYXJXaWR0aDpcIlwifSl9LGMucHJvdG90eXBlLnJlc2V0QWRqdXN0bWVudHM9ZnVuY3Rpb24oKXt0aGlzLiRlbGVtZW50LmNzcyh7cGFkZGluZ0xlZnQ6XCJcIixwYWRkaW5nUmlnaHQ6XCJcIn0pfSxjLnByb3RvdHlwZS5jaGVja1Njcm9sbGJhcj1mdW5jdGlvbigpe3ZhciBhPXdpbmRvdy5pbm5lcldpZHRoO2lmKCFhKXt2YXIgYj1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7YT1iLnJpZ2h0LU1hdGguYWJzKGIubGVmdCl9dGhpcy5ib2R5SXNPdmVyZmxvd2luZz1kb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoPGEsdGhpcy5zY3JvbGxiYXJXaWR0aD10aGlzLm1lYXN1cmVTY3JvbGxiYXIoKX0sYy5wcm90b3R5cGUuc2V0U2Nyb2xsYmFyPWZ1bmN0aW9uKCl7dmFyIGE9cGFyc2VJbnQodGhpcy4kYm9keS5jc3MoXCJwYWRkaW5nLXJpZ2h0XCIpfHwwLDEwKTt0aGlzLm9yaWdpbmFsQm9keVBhZD1kb2N1bWVudC5ib2R5LnN0eWxlLnBhZGRpbmdSaWdodHx8XCJcIix0aGlzLmJvZHlJc092ZXJmbG93aW5nJiZ0aGlzLiRib2R5LmNzcyhcInBhZGRpbmctcmlnaHRcIixhK3RoaXMuc2Nyb2xsYmFyV2lkdGgpfSxjLnByb3RvdHlwZS5yZXNldFNjcm9sbGJhcj1mdW5jdGlvbigpe3RoaXMuJGJvZHkuY3NzKFwicGFkZGluZy1yaWdodFwiLHRoaXMub3JpZ2luYWxCb2R5UGFkKX0sYy5wcm90b3R5cGUubWVhc3VyZVNjcm9sbGJhcj1mdW5jdGlvbigpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7YS5jbGFzc05hbWU9XCJtb2RhbC1zY3JvbGxiYXItbWVhc3VyZVwiLHRoaXMuJGJvZHkuYXBwZW5kKGEpO3ZhciBiPWEub2Zmc2V0V2lkdGgtYS5jbGllbnRXaWR0aDtyZXR1cm4gdGhpcy4kYm9keVswXS5yZW1vdmVDaGlsZChhKSxifTt2YXIgZD1hLmZuLm1vZGFsO2EuZm4ubW9kYWw9YixhLmZuLm1vZGFsLkNvbnN0cnVjdG9yPWMsYS5mbi5tb2RhbC5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIGEuZm4ubW9kYWw9ZCx0aGlzfSxhKGRvY3VtZW50KS5vbihcImNsaWNrLmJzLm1vZGFsLmRhdGEtYXBpXCIsJ1tkYXRhLXRvZ2dsZT1cIm1vZGFsXCJdJyxmdW5jdGlvbihjKXt2YXIgZD1hKHRoaXMpLGU9ZC5hdHRyKFwiaHJlZlwiKSxmPWEoZC5hdHRyKFwiZGF0YS10YXJnZXRcIil8fGUmJmUucmVwbGFjZSgvLiooPz0jW15cXHNdKyQpLyxcIlwiKSksZz1mLmRhdGEoXCJicy5tb2RhbFwiKT9cInRvZ2dsZVwiOmEuZXh0ZW5kKHtyZW1vdGU6IS8jLy50ZXN0KGUpJiZlfSxmLmRhdGEoKSxkLmRhdGEoKSk7ZC5pcyhcImFcIikmJmMucHJldmVudERlZmF1bHQoKSxmLm9uZShcInNob3cuYnMubW9kYWxcIixmdW5jdGlvbihhKXthLmlzRGVmYXVsdFByZXZlbnRlZCgpfHxmLm9uZShcImhpZGRlbi5icy5tb2RhbFwiLGZ1bmN0aW9uKCl7ZC5pcyhcIjp2aXNpYmxlXCIpJiZkLnRyaWdnZXIoXCJmb2N1c1wiKX0pfSksYi5jYWxsKGYsZyx0aGlzKX0pfShqUXVlcnkpLCtmdW5jdGlvbihhKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBiKGIpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZD1hKHRoaXMpLGU9ZC5kYXRhKFwiYnMudG9vbHRpcFwiKSxmPVwib2JqZWN0XCI9PXR5cGVvZiBiJiZiOyFlJiYvZGVzdHJveXxoaWRlLy50ZXN0KGIpfHwoZXx8ZC5kYXRhKFwiYnMudG9vbHRpcFwiLGU9bmV3IGModGhpcyxmKSksXCJzdHJpbmdcIj09dHlwZW9mIGImJmVbYl0oKSl9KX12YXIgYz1mdW5jdGlvbihhLGIpe3RoaXMudHlwZT1udWxsLHRoaXMub3B0aW9ucz1udWxsLHRoaXMuZW5hYmxlZD1udWxsLHRoaXMudGltZW91dD1udWxsLHRoaXMuaG92ZXJTdGF0ZT1udWxsLHRoaXMuJGVsZW1lbnQ9bnVsbCx0aGlzLmluU3RhdGU9bnVsbCx0aGlzLmluaXQoXCJ0b29sdGlwXCIsYSxiKX07Yy5WRVJTSU9OPVwiMy4zLjdcIixjLlRSQU5TSVRJT05fRFVSQVRJT049MTUwLGMuREVGQVVMVFM9e2FuaW1hdGlvbjohMCxwbGFjZW1lbnQ6XCJ0b3BcIixzZWxlY3RvcjohMSx0ZW1wbGF0ZTonPGRpdiBjbGFzcz1cInRvb2x0aXBcIiByb2xlPVwidG9vbHRpcFwiPjxkaXYgY2xhc3M9XCJ0b29sdGlwLWFycm93XCI+PC9kaXY+PGRpdiBjbGFzcz1cInRvb2x0aXAtaW5uZXJcIj48L2Rpdj48L2Rpdj4nLHRyaWdnZXI6XCJob3ZlciBmb2N1c1wiLHRpdGxlOlwiXCIsZGVsYXk6MCxodG1sOiExLGNvbnRhaW5lcjohMSx2aWV3cG9ydDp7c2VsZWN0b3I6XCJib2R5XCIscGFkZGluZzowfX0sYy5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihiLGMsZCl7aWYodGhpcy5lbmFibGVkPSEwLHRoaXMudHlwZT1iLHRoaXMuJGVsZW1lbnQ9YShjKSx0aGlzLm9wdGlvbnM9dGhpcy5nZXRPcHRpb25zKGQpLHRoaXMuJHZpZXdwb3J0PXRoaXMub3B0aW9ucy52aWV3cG9ydCYmYShhLmlzRnVuY3Rpb24odGhpcy5vcHRpb25zLnZpZXdwb3J0KT90aGlzLm9wdGlvbnMudmlld3BvcnQuY2FsbCh0aGlzLHRoaXMuJGVsZW1lbnQpOnRoaXMub3B0aW9ucy52aWV3cG9ydC5zZWxlY3Rvcnx8dGhpcy5vcHRpb25zLnZpZXdwb3J0KSx0aGlzLmluU3RhdGU9e2NsaWNrOiExLGhvdmVyOiExLGZvY3VzOiExfSx0aGlzLiRlbGVtZW50WzBdaW5zdGFuY2VvZiBkb2N1bWVudC5jb25zdHJ1Y3RvciYmIXRoaXMub3B0aW9ucy5zZWxlY3Rvcil0aHJvdyBuZXcgRXJyb3IoXCJgc2VsZWN0b3JgIG9wdGlvbiBtdXN0IGJlIHNwZWNpZmllZCB3aGVuIGluaXRpYWxpemluZyBcIit0aGlzLnR5cGUrXCIgb24gdGhlIHdpbmRvdy5kb2N1bWVudCBvYmplY3QhXCIpO2Zvcih2YXIgZT10aGlzLm9wdGlvbnMudHJpZ2dlci5zcGxpdChcIiBcIiksZj1lLmxlbmd0aDtmLS07KXt2YXIgZz1lW2ZdO2lmKFwiY2xpY2tcIj09Zyl0aGlzLiRlbGVtZW50Lm9uKFwiY2xpY2suXCIrdGhpcy50eXBlLHRoaXMub3B0aW9ucy5zZWxlY3RvcixhLnByb3h5KHRoaXMudG9nZ2xlLHRoaXMpKTtlbHNlIGlmKFwibWFudWFsXCIhPWcpe3ZhciBoPVwiaG92ZXJcIj09Zz9cIm1vdXNlZW50ZXJcIjpcImZvY3VzaW5cIixpPVwiaG92ZXJcIj09Zz9cIm1vdXNlbGVhdmVcIjpcImZvY3Vzb3V0XCI7dGhpcy4kZWxlbWVudC5vbihoK1wiLlwiK3RoaXMudHlwZSx0aGlzLm9wdGlvbnMuc2VsZWN0b3IsYS5wcm94eSh0aGlzLmVudGVyLHRoaXMpKSx0aGlzLiRlbGVtZW50Lm9uKGkrXCIuXCIrdGhpcy50eXBlLHRoaXMub3B0aW9ucy5zZWxlY3RvcixhLnByb3h5KHRoaXMubGVhdmUsdGhpcykpfX10aGlzLm9wdGlvbnMuc2VsZWN0b3I/dGhpcy5fb3B0aW9ucz1hLmV4dGVuZCh7fSx0aGlzLm9wdGlvbnMse3RyaWdnZXI6XCJtYW51YWxcIixzZWxlY3RvcjpcIlwifSk6dGhpcy5maXhUaXRsZSgpfSxjLnByb3RvdHlwZS5nZXREZWZhdWx0cz1mdW5jdGlvbigpe3JldHVybiBjLkRFRkFVTFRTfSxjLnByb3RvdHlwZS5nZXRPcHRpb25zPWZ1bmN0aW9uKGIpe3JldHVybiBiPWEuZXh0ZW5kKHt9LHRoaXMuZ2V0RGVmYXVsdHMoKSx0aGlzLiRlbGVtZW50LmRhdGEoKSxiKSxiLmRlbGF5JiZcIm51bWJlclwiPT10eXBlb2YgYi5kZWxheSYmKGIuZGVsYXk9e3Nob3c6Yi5kZWxheSxoaWRlOmIuZGVsYXl9KSxifSxjLnByb3RvdHlwZS5nZXREZWxlZ2F0ZU9wdGlvbnM9ZnVuY3Rpb24oKXt2YXIgYj17fSxjPXRoaXMuZ2V0RGVmYXVsdHMoKTtyZXR1cm4gdGhpcy5fb3B0aW9ucyYmYS5lYWNoKHRoaXMuX29wdGlvbnMsZnVuY3Rpb24oYSxkKXtjW2FdIT1kJiYoYlthXT1kKX0pLGJ9LGMucHJvdG90eXBlLmVudGVyPWZ1bmN0aW9uKGIpe3ZhciBjPWIgaW5zdGFuY2VvZiB0aGlzLmNvbnN0cnVjdG9yP2I6YShiLmN1cnJlbnRUYXJnZXQpLmRhdGEoXCJicy5cIit0aGlzLnR5cGUpO3JldHVybiBjfHwoYz1uZXcgdGhpcy5jb25zdHJ1Y3RvcihiLmN1cnJlbnRUYXJnZXQsdGhpcy5nZXREZWxlZ2F0ZU9wdGlvbnMoKSksYShiLmN1cnJlbnRUYXJnZXQpLmRhdGEoXCJicy5cIit0aGlzLnR5cGUsYykpLGIgaW5zdGFuY2VvZiBhLkV2ZW50JiYoYy5pblN0YXRlW1wiZm9jdXNpblwiPT1iLnR5cGU/XCJmb2N1c1wiOlwiaG92ZXJcIl09ITApLGMudGlwKCkuaGFzQ2xhc3MoXCJpblwiKXx8XCJpblwiPT1jLmhvdmVyU3RhdGU/dm9pZChjLmhvdmVyU3RhdGU9XCJpblwiKTooY2xlYXJUaW1lb3V0KGMudGltZW91dCksYy5ob3ZlclN0YXRlPVwiaW5cIixjLm9wdGlvbnMuZGVsYXkmJmMub3B0aW9ucy5kZWxheS5zaG93P3ZvaWQoYy50aW1lb3V0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXtcImluXCI9PWMuaG92ZXJTdGF0ZSYmYy5zaG93KCl9LGMub3B0aW9ucy5kZWxheS5zaG93KSk6Yy5zaG93KCkpfSxjLnByb3RvdHlwZS5pc0luU3RhdGVUcnVlPWZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIHRoaXMuaW5TdGF0ZSlpZih0aGlzLmluU3RhdGVbYV0pcmV0dXJuITA7cmV0dXJuITF9LGMucHJvdG90eXBlLmxlYXZlPWZ1bmN0aW9uKGIpe3ZhciBjPWIgaW5zdGFuY2VvZiB0aGlzLmNvbnN0cnVjdG9yP2I6YShiLmN1cnJlbnRUYXJnZXQpLmRhdGEoXCJicy5cIit0aGlzLnR5cGUpO2lmKGN8fChjPW5ldyB0aGlzLmNvbnN0cnVjdG9yKGIuY3VycmVudFRhcmdldCx0aGlzLmdldERlbGVnYXRlT3B0aW9ucygpKSxhKGIuY3VycmVudFRhcmdldCkuZGF0YShcImJzLlwiK3RoaXMudHlwZSxjKSksYiBpbnN0YW5jZW9mIGEuRXZlbnQmJihjLmluU3RhdGVbXCJmb2N1c291dFwiPT1iLnR5cGU/XCJmb2N1c1wiOlwiaG92ZXJcIl09ITEpLCFjLmlzSW5TdGF0ZVRydWUoKSlyZXR1cm4gY2xlYXJUaW1lb3V0KGMudGltZW91dCksYy5ob3ZlclN0YXRlPVwib3V0XCIsYy5vcHRpb25zLmRlbGF5JiZjLm9wdGlvbnMuZGVsYXkuaGlkZT92b2lkKGMudGltZW91dD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XCJvdXRcIj09Yy5ob3ZlclN0YXRlJiZjLmhpZGUoKX0sYy5vcHRpb25zLmRlbGF5LmhpZGUpKTpjLmhpZGUoKX0sYy5wcm90b3R5cGUuc2hvdz1mdW5jdGlvbigpe3ZhciBiPWEuRXZlbnQoXCJzaG93LmJzLlwiK3RoaXMudHlwZSk7aWYodGhpcy5oYXNDb250ZW50KCkmJnRoaXMuZW5hYmxlZCl7dGhpcy4kZWxlbWVudC50cmlnZ2VyKGIpO3ZhciBkPWEuY29udGFpbnModGhpcy4kZWxlbWVudFswXS5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudCx0aGlzLiRlbGVtZW50WzBdKTtpZihiLmlzRGVmYXVsdFByZXZlbnRlZCgpfHwhZClyZXR1cm47dmFyIGU9dGhpcyxmPXRoaXMudGlwKCksZz10aGlzLmdldFVJRCh0aGlzLnR5cGUpO3RoaXMuc2V0Q29udGVudCgpLGYuYXR0cihcImlkXCIsZyksdGhpcy4kZWxlbWVudC5hdHRyKFwiYXJpYS1kZXNjcmliZWRieVwiLGcpLHRoaXMub3B0aW9ucy5hbmltYXRpb24mJmYuYWRkQ2xhc3MoXCJmYWRlXCIpO3ZhciBoPVwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMub3B0aW9ucy5wbGFjZW1lbnQ/dGhpcy5vcHRpb25zLnBsYWNlbWVudC5jYWxsKHRoaXMsZlswXSx0aGlzLiRlbGVtZW50WzBdKTp0aGlzLm9wdGlvbnMucGxhY2VtZW50LGk9L1xccz9hdXRvP1xccz8vaSxqPWkudGVzdChoKTtqJiYoaD1oLnJlcGxhY2UoaSxcIlwiKXx8XCJ0b3BcIiksZi5kZXRhY2goKS5jc3Moe3RvcDowLGxlZnQ6MCxkaXNwbGF5OlwiYmxvY2tcIn0pLmFkZENsYXNzKGgpLmRhdGEoXCJicy5cIit0aGlzLnR5cGUsdGhpcyksdGhpcy5vcHRpb25zLmNvbnRhaW5lcj9mLmFwcGVuZFRvKHRoaXMub3B0aW9ucy5jb250YWluZXIpOmYuaW5zZXJ0QWZ0ZXIodGhpcy4kZWxlbWVudCksdGhpcy4kZWxlbWVudC50cmlnZ2VyKFwiaW5zZXJ0ZWQuYnMuXCIrdGhpcy50eXBlKTt2YXIgaz10aGlzLmdldFBvc2l0aW9uKCksbD1mWzBdLm9mZnNldFdpZHRoLG09ZlswXS5vZmZzZXRIZWlnaHQ7aWYoail7dmFyIG49aCxvPXRoaXMuZ2V0UG9zaXRpb24odGhpcy4kdmlld3BvcnQpO2g9XCJib3R0b21cIj09aCYmay5ib3R0b20rbT5vLmJvdHRvbT9cInRvcFwiOlwidG9wXCI9PWgmJmsudG9wLW08by50b3A/XCJib3R0b21cIjpcInJpZ2h0XCI9PWgmJmsucmlnaHQrbD5vLndpZHRoP1wibGVmdFwiOlwibGVmdFwiPT1oJiZrLmxlZnQtbDxvLmxlZnQ/XCJyaWdodFwiOmgsZi5yZW1vdmVDbGFzcyhuKS5hZGRDbGFzcyhoKX12YXIgcD10aGlzLmdldENhbGN1bGF0ZWRPZmZzZXQoaCxrLGwsbSk7dGhpcy5hcHBseVBsYWNlbWVudChwLGgpO3ZhciBxPWZ1bmN0aW9uKCl7dmFyIGE9ZS5ob3ZlclN0YXRlO2UuJGVsZW1lbnQudHJpZ2dlcihcInNob3duLmJzLlwiK2UudHlwZSksZS5ob3ZlclN0YXRlPW51bGwsXCJvdXRcIj09YSYmZS5sZWF2ZShlKX07YS5zdXBwb3J0LnRyYW5zaXRpb24mJnRoaXMuJHRpcC5oYXNDbGFzcyhcImZhZGVcIik/Zi5vbmUoXCJic1RyYW5zaXRpb25FbmRcIixxKS5lbXVsYXRlVHJhbnNpdGlvbkVuZChjLlRSQU5TSVRJT05fRFVSQVRJT04pOnEoKX19LGMucHJvdG90eXBlLmFwcGx5UGxhY2VtZW50PWZ1bmN0aW9uKGIsYyl7dmFyIGQ9dGhpcy50aXAoKSxlPWRbMF0ub2Zmc2V0V2lkdGgsZj1kWzBdLm9mZnNldEhlaWdodCxnPXBhcnNlSW50KGQuY3NzKFwibWFyZ2luLXRvcFwiKSwxMCksaD1wYXJzZUludChkLmNzcyhcIm1hcmdpbi1sZWZ0XCIpLDEwKTtpc05hTihnKSYmKGc9MCksaXNOYU4oaCkmJihoPTApLGIudG9wKz1nLGIubGVmdCs9aCxhLm9mZnNldC5zZXRPZmZzZXQoZFswXSxhLmV4dGVuZCh7dXNpbmc6ZnVuY3Rpb24oYSl7ZC5jc3Moe3RvcDpNYXRoLnJvdW5kKGEudG9wKSxsZWZ0Ok1hdGgucm91bmQoYS5sZWZ0KX0pfX0sYiksMCksZC5hZGRDbGFzcyhcImluXCIpO3ZhciBpPWRbMF0ub2Zmc2V0V2lkdGgsaj1kWzBdLm9mZnNldEhlaWdodDtcInRvcFwiPT1jJiZqIT1mJiYoYi50b3A9Yi50b3ArZi1qKTt2YXIgaz10aGlzLmdldFZpZXdwb3J0QWRqdXN0ZWREZWx0YShjLGIsaSxqKTtrLmxlZnQ/Yi5sZWZ0Kz1rLmxlZnQ6Yi50b3ArPWsudG9wO3ZhciBsPS90b3B8Ym90dG9tLy50ZXN0KGMpLG09bD8yKmsubGVmdC1lK2k6MiprLnRvcC1mK2osbj1sP1wib2Zmc2V0V2lkdGhcIjpcIm9mZnNldEhlaWdodFwiO2Qub2Zmc2V0KGIpLHRoaXMucmVwbGFjZUFycm93KG0sZFswXVtuXSxsKX0sYy5wcm90b3R5cGUucmVwbGFjZUFycm93PWZ1bmN0aW9uKGEsYixjKXt0aGlzLmFycm93KCkuY3NzKGM/XCJsZWZ0XCI6XCJ0b3BcIiw1MCooMS1hL2IpK1wiJVwiKS5jc3MoYz9cInRvcFwiOlwibGVmdFwiLFwiXCIpfSxjLnByb3RvdHlwZS5zZXRDb250ZW50PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy50aXAoKSxiPXRoaXMuZ2V0VGl0bGUoKTthLmZpbmQoXCIudG9vbHRpcC1pbm5lclwiKVt0aGlzLm9wdGlvbnMuaHRtbD9cImh0bWxcIjpcInRleHRcIl0oYiksYS5yZW1vdmVDbGFzcyhcImZhZGUgaW4gdG9wIGJvdHRvbSBsZWZ0IHJpZ2h0XCIpfSxjLnByb3RvdHlwZS5oaWRlPWZ1bmN0aW9uKGIpe2Z1bmN0aW9uIGQoKXtcImluXCIhPWUuaG92ZXJTdGF0ZSYmZi5kZXRhY2goKSxlLiRlbGVtZW50JiZlLiRlbGVtZW50LnJlbW92ZUF0dHIoXCJhcmlhLWRlc2NyaWJlZGJ5XCIpLnRyaWdnZXIoXCJoaWRkZW4uYnMuXCIrZS50eXBlKSxiJiZiKCl9dmFyIGU9dGhpcyxmPWEodGhpcy4kdGlwKSxnPWEuRXZlbnQoXCJoaWRlLmJzLlwiK3RoaXMudHlwZSk7aWYodGhpcy4kZWxlbWVudC50cmlnZ2VyKGcpLCFnLmlzRGVmYXVsdFByZXZlbnRlZCgpKXJldHVybiBmLnJlbW92ZUNsYXNzKFwiaW5cIiksYS5zdXBwb3J0LnRyYW5zaXRpb24mJmYuaGFzQ2xhc3MoXCJmYWRlXCIpP2Yub25lKFwiYnNUcmFuc2l0aW9uRW5kXCIsZCkuZW11bGF0ZVRyYW5zaXRpb25FbmQoYy5UUkFOU0lUSU9OX0RVUkFUSU9OKTpkKCksdGhpcy5ob3ZlclN0YXRlPW51bGwsdGhpc30sYy5wcm90b3R5cGUuZml4VGl0bGU9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLiRlbGVtZW50OyhhLmF0dHIoXCJ0aXRsZVwiKXx8XCJzdHJpbmdcIiE9dHlwZW9mIGEuYXR0cihcImRhdGEtb3JpZ2luYWwtdGl0bGVcIikpJiZhLmF0dHIoXCJkYXRhLW9yaWdpbmFsLXRpdGxlXCIsYS5hdHRyKFwidGl0bGVcIil8fFwiXCIpLmF0dHIoXCJ0aXRsZVwiLFwiXCIpfSxjLnByb3RvdHlwZS5oYXNDb250ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0VGl0bGUoKX0sYy5wcm90b3R5cGUuZ2V0UG9zaXRpb249ZnVuY3Rpb24oYil7Yj1ifHx0aGlzLiRlbGVtZW50O3ZhciBjPWJbMF0sZD1cIkJPRFlcIj09Yy50YWdOYW1lLGU9Yy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtudWxsPT1lLndpZHRoJiYoZT1hLmV4dGVuZCh7fSxlLHt3aWR0aDplLnJpZ2h0LWUubGVmdCxoZWlnaHQ6ZS5ib3R0b20tZS50b3B9KSk7dmFyIGY9d2luZG93LlNWR0VsZW1lbnQmJmMgaW5zdGFuY2VvZiB3aW5kb3cuU1ZHRWxlbWVudCxnPWQ/e3RvcDowLGxlZnQ6MH06Zj9udWxsOmIub2Zmc2V0KCksaD17c2Nyb2xsOmQ/ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcHx8ZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A6Yi5zY3JvbGxUb3AoKX0saT1kP3t3aWR0aDphKHdpbmRvdykud2lkdGgoKSxoZWlnaHQ6YSh3aW5kb3cpLmhlaWdodCgpfTpudWxsO3JldHVybiBhLmV4dGVuZCh7fSxlLGgsaSxnKX0sYy5wcm90b3R5cGUuZ2V0Q2FsY3VsYXRlZE9mZnNldD1mdW5jdGlvbihhLGIsYyxkKXtyZXR1cm5cImJvdHRvbVwiPT1hP3t0b3A6Yi50b3ArYi5oZWlnaHQsbGVmdDpiLmxlZnQrYi53aWR0aC8yLWMvMn06XCJ0b3BcIj09YT97dG9wOmIudG9wLWQsbGVmdDpiLmxlZnQrYi53aWR0aC8yLWMvMn06XCJsZWZ0XCI9PWE/e3RvcDpiLnRvcCtiLmhlaWdodC8yLWQvMixsZWZ0OmIubGVmdC1jfTp7dG9wOmIudG9wK2IuaGVpZ2h0LzItZC8yLGxlZnQ6Yi5sZWZ0K2Iud2lkdGh9fSxjLnByb3RvdHlwZS5nZXRWaWV3cG9ydEFkanVzdGVkRGVsdGE9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9e3RvcDowLGxlZnQ6MH07aWYoIXRoaXMuJHZpZXdwb3J0KXJldHVybiBlO3ZhciBmPXRoaXMub3B0aW9ucy52aWV3cG9ydCYmdGhpcy5vcHRpb25zLnZpZXdwb3J0LnBhZGRpbmd8fDAsZz10aGlzLmdldFBvc2l0aW9uKHRoaXMuJHZpZXdwb3J0KTtpZigvcmlnaHR8bGVmdC8udGVzdChhKSl7dmFyIGg9Yi50b3AtZi1nLnNjcm9sbCxpPWIudG9wK2YtZy5zY3JvbGwrZDtoPGcudG9wP2UudG9wPWcudG9wLWg6aT5nLnRvcCtnLmhlaWdodCYmKGUudG9wPWcudG9wK2cuaGVpZ2h0LWkpfWVsc2V7dmFyIGo9Yi5sZWZ0LWYsaz1iLmxlZnQrZitjO2o8Zy5sZWZ0P2UubGVmdD1nLmxlZnQtajprPmcucmlnaHQmJihlLmxlZnQ9Zy5sZWZ0K2cud2lkdGgtayl9cmV0dXJuIGV9LGMucHJvdG90eXBlLmdldFRpdGxlPWZ1bmN0aW9uKCl7dmFyIGEsYj10aGlzLiRlbGVtZW50LGM9dGhpcy5vcHRpb25zO3JldHVybiBhPWIuYXR0cihcImRhdGEtb3JpZ2luYWwtdGl0bGVcIil8fChcImZ1bmN0aW9uXCI9PXR5cGVvZiBjLnRpdGxlP2MudGl0bGUuY2FsbChiWzBdKTpjLnRpdGxlKX0sYy5wcm90b3R5cGUuZ2V0VUlEPWZ1bmN0aW9uKGEpe2RvIGErPX5+KDFlNipNYXRoLnJhbmRvbSgpKTt3aGlsZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZChhKSk7cmV0dXJuIGF9LGMucHJvdG90eXBlLnRpcD1mdW5jdGlvbigpe2lmKCF0aGlzLiR0aXAmJih0aGlzLiR0aXA9YSh0aGlzLm9wdGlvbnMudGVtcGxhdGUpLDEhPXRoaXMuJHRpcC5sZW5ndGgpKXRocm93IG5ldyBFcnJvcih0aGlzLnR5cGUrXCIgYHRlbXBsYXRlYCBvcHRpb24gbXVzdCBjb25zaXN0IG9mIGV4YWN0bHkgMSB0b3AtbGV2ZWwgZWxlbWVudCFcIik7cmV0dXJuIHRoaXMuJHRpcH0sYy5wcm90b3R5cGUuYXJyb3c9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kYXJyb3c9dGhpcy4kYXJyb3d8fHRoaXMudGlwKCkuZmluZChcIi50b29sdGlwLWFycm93XCIpfSxjLnByb3RvdHlwZS5lbmFibGU9ZnVuY3Rpb24oKXt0aGlzLmVuYWJsZWQ9ITB9LGMucHJvdG90eXBlLmRpc2FibGU9ZnVuY3Rpb24oKXt0aGlzLmVuYWJsZWQ9ITF9LGMucHJvdG90eXBlLnRvZ2dsZUVuYWJsZWQ9ZnVuY3Rpb24oKXt0aGlzLmVuYWJsZWQ9IXRoaXMuZW5hYmxlZH0sYy5wcm90b3R5cGUudG9nZ2xlPWZ1bmN0aW9uKGIpe3ZhciBjPXRoaXM7YiYmKGM9YShiLmN1cnJlbnRUYXJnZXQpLmRhdGEoXCJicy5cIit0aGlzLnR5cGUpLGN8fChjPW5ldyB0aGlzLmNvbnN0cnVjdG9yKGIuY3VycmVudFRhcmdldCx0aGlzLmdldERlbGVnYXRlT3B0aW9ucygpKSxhKGIuY3VycmVudFRhcmdldCkuZGF0YShcImJzLlwiK3RoaXMudHlwZSxjKSkpLGI/KGMuaW5TdGF0ZS5jbGljaz0hYy5pblN0YXRlLmNsaWNrLGMuaXNJblN0YXRlVHJ1ZSgpP2MuZW50ZXIoYyk6Yy5sZWF2ZShjKSk6Yy50aXAoKS5oYXNDbGFzcyhcImluXCIpP2MubGVhdmUoYyk6Yy5lbnRlcihjKX0sYy5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3ZhciBhPXRoaXM7Y2xlYXJUaW1lb3V0KHRoaXMudGltZW91dCksdGhpcy5oaWRlKGZ1bmN0aW9uKCl7YS4kZWxlbWVudC5vZmYoXCIuXCIrYS50eXBlKS5yZW1vdmVEYXRhKFwiYnMuXCIrYS50eXBlKSxhLiR0aXAmJmEuJHRpcC5kZXRhY2goKSxhLiR0aXA9bnVsbCxhLiRhcnJvdz1udWxsLGEuJHZpZXdwb3J0PW51bGwsYS4kZWxlbWVudD1udWxsfSl9O3ZhciBkPWEuZm4udG9vbHRpcDthLmZuLnRvb2x0aXA9YixhLmZuLnRvb2x0aXAuQ29uc3RydWN0b3I9YyxhLmZuLnRvb2x0aXAubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiBhLmZuLnRvb2x0aXA9ZCx0aGlzfX0oalF1ZXJ5KSwrZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYihiKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGQ9YSh0aGlzKSxlPWQuZGF0YShcImJzLnBvcG92ZXJcIiksZj1cIm9iamVjdFwiPT10eXBlb2YgYiYmYjshZSYmL2Rlc3Ryb3l8aGlkZS8udGVzdChiKXx8KGV8fGQuZGF0YShcImJzLnBvcG92ZXJcIixlPW5ldyBjKHRoaXMsZikpLFwic3RyaW5nXCI9PXR5cGVvZiBiJiZlW2JdKCkpfSl9dmFyIGM9ZnVuY3Rpb24oYSxiKXt0aGlzLmluaXQoXCJwb3BvdmVyXCIsYSxiKX07aWYoIWEuZm4udG9vbHRpcCl0aHJvdyBuZXcgRXJyb3IoXCJQb3BvdmVyIHJlcXVpcmVzIHRvb2x0aXAuanNcIik7Yy5WRVJTSU9OPVwiMy4zLjdcIixjLkRFRkFVTFRTPWEuZXh0ZW5kKHt9LGEuZm4udG9vbHRpcC5Db25zdHJ1Y3Rvci5ERUZBVUxUUyx7cGxhY2VtZW50OlwicmlnaHRcIix0cmlnZ2VyOlwiY2xpY2tcIixjb250ZW50OlwiXCIsdGVtcGxhdGU6JzxkaXYgY2xhc3M9XCJwb3BvdmVyXCIgcm9sZT1cInRvb2x0aXBcIj48ZGl2IGNsYXNzPVwiYXJyb3dcIj48L2Rpdj48aDMgY2xhc3M9XCJwb3BvdmVyLXRpdGxlXCI+PC9oMz48ZGl2IGNsYXNzPVwicG9wb3Zlci1jb250ZW50XCI+PC9kaXY+PC9kaXY+J30pLGMucHJvdG90eXBlPWEuZXh0ZW5kKHt9LGEuZm4udG9vbHRpcC5Db25zdHJ1Y3Rvci5wcm90b3R5cGUpLGMucHJvdG90eXBlLmNvbnN0cnVjdG9yPWMsYy5wcm90b3R5cGUuZ2V0RGVmYXVsdHM9ZnVuY3Rpb24oKXtyZXR1cm4gYy5ERUZBVUxUU30sYy5wcm90b3R5cGUuc2V0Q29udGVudD1mdW5jdGlvbigpe3ZhciBhPXRoaXMudGlwKCksYj10aGlzLmdldFRpdGxlKCksYz10aGlzLmdldENvbnRlbnQoKTthLmZpbmQoXCIucG9wb3Zlci10aXRsZVwiKVt0aGlzLm9wdGlvbnMuaHRtbD9cImh0bWxcIjpcInRleHRcIl0oYiksYS5maW5kKFwiLnBvcG92ZXItY29udGVudFwiKS5jaGlsZHJlbigpLmRldGFjaCgpLmVuZCgpW3RoaXMub3B0aW9ucy5odG1sP1wic3RyaW5nXCI9PXR5cGVvZiBjP1wiaHRtbFwiOlwiYXBwZW5kXCI6XCJ0ZXh0XCJdKGMpLGEucmVtb3ZlQ2xhc3MoXCJmYWRlIHRvcCBib3R0b20gbGVmdCByaWdodCBpblwiKSxhLmZpbmQoXCIucG9wb3Zlci10aXRsZVwiKS5odG1sKCl8fGEuZmluZChcIi5wb3BvdmVyLXRpdGxlXCIpLmhpZGUoKX0sYy5wcm90b3R5cGUuaGFzQ29udGVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFRpdGxlKCl8fHRoaXMuZ2V0Q29udGVudCgpfSxjLnByb3RvdHlwZS5nZXRDb250ZW50PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy4kZWxlbWVudCxiPXRoaXMub3B0aW9ucztyZXR1cm4gYS5hdHRyKFwiZGF0YS1jb250ZW50XCIpfHwoXCJmdW5jdGlvblwiPT10eXBlb2YgYi5jb250ZW50P2IuY29udGVudC5jYWxsKGFbMF0pOmIuY29udGVudCl9LGMucHJvdG90eXBlLmFycm93PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGFycm93PXRoaXMuJGFycm93fHx0aGlzLnRpcCgpLmZpbmQoXCIuYXJyb3dcIil9O3ZhciBkPWEuZm4ucG9wb3ZlcjthLmZuLnBvcG92ZXI9YixhLmZuLnBvcG92ZXIuQ29uc3RydWN0b3I9YyxhLmZuLnBvcG92ZXIubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiBhLmZuLnBvcG92ZXI9ZCx0aGlzfX0oalF1ZXJ5KSwrZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYihjLGQpe3RoaXMuJGJvZHk9YShkb2N1bWVudC5ib2R5KSx0aGlzLiRzY3JvbGxFbGVtZW50PWEoYShjKS5pcyhkb2N1bWVudC5ib2R5KT93aW5kb3c6YyksdGhpcy5vcHRpb25zPWEuZXh0ZW5kKHt9LGIuREVGQVVMVFMsZCksdGhpcy5zZWxlY3Rvcj0odGhpcy5vcHRpb25zLnRhcmdldHx8XCJcIikrXCIgLm5hdiBsaSA+IGFcIix0aGlzLm9mZnNldHM9W10sdGhpcy50YXJnZXRzPVtdLHRoaXMuYWN0aXZlVGFyZ2V0PW51bGwsdGhpcy5zY3JvbGxIZWlnaHQ9MCx0aGlzLiRzY3JvbGxFbGVtZW50Lm9uKFwic2Nyb2xsLmJzLnNjcm9sbHNweVwiLGEucHJveHkodGhpcy5wcm9jZXNzLHRoaXMpKSx0aGlzLnJlZnJlc2goKSx0aGlzLnByb2Nlc3MoKX1mdW5jdGlvbiBjKGMpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZD1hKHRoaXMpLGU9ZC5kYXRhKFwiYnMuc2Nyb2xsc3B5XCIpLGY9XCJvYmplY3RcIj09dHlwZW9mIGMmJmM7ZXx8ZC5kYXRhKFwiYnMuc2Nyb2xsc3B5XCIsZT1uZXcgYih0aGlzLGYpKSxcInN0cmluZ1wiPT10eXBlb2YgYyYmZVtjXSgpfSl9Yi5WRVJTSU9OPVwiMy4zLjdcIixiLkRFRkFVTFRTPXtvZmZzZXQ6MTB9LGIucHJvdG90eXBlLmdldFNjcm9sbEhlaWdodD1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRzY3JvbGxFbGVtZW50WzBdLnNjcm9sbEhlaWdodHx8TWF0aC5tYXgodGhpcy4kYm9keVswXS5zY3JvbGxIZWlnaHQsZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodCl9LGIucHJvdG90eXBlLnJlZnJlc2g9ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9XCJvZmZzZXRcIixkPTA7dGhpcy5vZmZzZXRzPVtdLHRoaXMudGFyZ2V0cz1bXSx0aGlzLnNjcm9sbEhlaWdodD10aGlzLmdldFNjcm9sbEhlaWdodCgpLGEuaXNXaW5kb3codGhpcy4kc2Nyb2xsRWxlbWVudFswXSl8fChjPVwicG9zaXRpb25cIixkPXRoaXMuJHNjcm9sbEVsZW1lbnQuc2Nyb2xsVG9wKCkpLHRoaXMuJGJvZHkuZmluZCh0aGlzLnNlbGVjdG9yKS5tYXAoZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpLGU9Yi5kYXRhKFwidGFyZ2V0XCIpfHxiLmF0dHIoXCJocmVmXCIpLGY9L14jLi8udGVzdChlKSYmYShlKTtyZXR1cm4gZiYmZi5sZW5ndGgmJmYuaXMoXCI6dmlzaWJsZVwiKSYmW1tmW2NdKCkudG9wK2QsZV1dfHxudWxsfSkuc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBhWzBdLWJbMF19KS5lYWNoKGZ1bmN0aW9uKCl7Yi5vZmZzZXRzLnB1c2godGhpc1swXSksYi50YXJnZXRzLnB1c2godGhpc1sxXSl9KX0sYi5wcm90b3R5cGUucHJvY2Vzcz1mdW5jdGlvbigpe3ZhciBhLGI9dGhpcy4kc2Nyb2xsRWxlbWVudC5zY3JvbGxUb3AoKSt0aGlzLm9wdGlvbnMub2Zmc2V0LGM9dGhpcy5nZXRTY3JvbGxIZWlnaHQoKSxkPXRoaXMub3B0aW9ucy5vZmZzZXQrYy10aGlzLiRzY3JvbGxFbGVtZW50LmhlaWdodCgpLGU9dGhpcy5vZmZzZXRzLGY9dGhpcy50YXJnZXRzLGc9dGhpcy5hY3RpdmVUYXJnZXQ7aWYodGhpcy5zY3JvbGxIZWlnaHQhPWMmJnRoaXMucmVmcmVzaCgpLGI+PWQpcmV0dXJuIGchPShhPWZbZi5sZW5ndGgtMV0pJiZ0aGlzLmFjdGl2YXRlKGEpO2lmKGcmJmI8ZVswXSlyZXR1cm4gdGhpcy5hY3RpdmVUYXJnZXQ9bnVsbCx0aGlzLmNsZWFyKCk7Zm9yKGE9ZS5sZW5ndGg7YS0tOylnIT1mW2FdJiZiPj1lW2FdJiYodm9pZCAwPT09ZVthKzFdfHxiPGVbYSsxXSkmJnRoaXMuYWN0aXZhdGUoZlthXSl9LGIucHJvdG90eXBlLmFjdGl2YXRlPWZ1bmN0aW9uKGIpe1xyXG50aGlzLmFjdGl2ZVRhcmdldD1iLHRoaXMuY2xlYXIoKTt2YXIgYz10aGlzLnNlbGVjdG9yKydbZGF0YS10YXJnZXQ9XCInK2IrJ1wiXSwnK3RoaXMuc2VsZWN0b3IrJ1tocmVmPVwiJytiKydcIl0nLGQ9YShjKS5wYXJlbnRzKFwibGlcIikuYWRkQ2xhc3MoXCJhY3RpdmVcIik7ZC5wYXJlbnQoXCIuZHJvcGRvd24tbWVudVwiKS5sZW5ndGgmJihkPWQuY2xvc2VzdChcImxpLmRyb3Bkb3duXCIpLmFkZENsYXNzKFwiYWN0aXZlXCIpKSxkLnRyaWdnZXIoXCJhY3RpdmF0ZS5icy5zY3JvbGxzcHlcIil9LGIucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7YSh0aGlzLnNlbGVjdG9yKS5wYXJlbnRzVW50aWwodGhpcy5vcHRpb25zLnRhcmdldCxcIi5hY3RpdmVcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIil9O3ZhciBkPWEuZm4uc2Nyb2xsc3B5O2EuZm4uc2Nyb2xsc3B5PWMsYS5mbi5zY3JvbGxzcHkuQ29uc3RydWN0b3I9YixhLmZuLnNjcm9sbHNweS5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIGEuZm4uc2Nyb2xsc3B5PWQsdGhpc30sYSh3aW5kb3cpLm9uKFwibG9hZC5icy5zY3JvbGxzcHkuZGF0YS1hcGlcIixmdW5jdGlvbigpe2EoJ1tkYXRhLXNweT1cInNjcm9sbFwiXScpLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpO2MuY2FsbChiLGIuZGF0YSgpKX0pfSl9KGpRdWVyeSksK2Z1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGIoYil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBkPWEodGhpcyksZT1kLmRhdGEoXCJicy50YWJcIik7ZXx8ZC5kYXRhKFwiYnMudGFiXCIsZT1uZXcgYyh0aGlzKSksXCJzdHJpbmdcIj09dHlwZW9mIGImJmVbYl0oKX0pfXZhciBjPWZ1bmN0aW9uKGIpe3RoaXMuZWxlbWVudD1hKGIpfTtjLlZFUlNJT049XCIzLjMuN1wiLGMuVFJBTlNJVElPTl9EVVJBVElPTj0xNTAsYy5wcm90b3R5cGUuc2hvdz1mdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudCxjPWIuY2xvc2VzdChcInVsOm5vdCguZHJvcGRvd24tbWVudSlcIiksZD1iLmRhdGEoXCJ0YXJnZXRcIik7aWYoZHx8KGQ9Yi5hdHRyKFwiaHJlZlwiKSxkPWQmJmQucmVwbGFjZSgvLiooPz0jW15cXHNdKiQpLyxcIlwiKSksIWIucGFyZW50KFwibGlcIikuaGFzQ2xhc3MoXCJhY3RpdmVcIikpe3ZhciBlPWMuZmluZChcIi5hY3RpdmU6bGFzdCBhXCIpLGY9YS5FdmVudChcImhpZGUuYnMudGFiXCIse3JlbGF0ZWRUYXJnZXQ6YlswXX0pLGc9YS5FdmVudChcInNob3cuYnMudGFiXCIse3JlbGF0ZWRUYXJnZXQ6ZVswXX0pO2lmKGUudHJpZ2dlcihmKSxiLnRyaWdnZXIoZyksIWcuaXNEZWZhdWx0UHJldmVudGVkKCkmJiFmLmlzRGVmYXVsdFByZXZlbnRlZCgpKXt2YXIgaD1hKGQpO3RoaXMuYWN0aXZhdGUoYi5jbG9zZXN0KFwibGlcIiksYyksdGhpcy5hY3RpdmF0ZShoLGgucGFyZW50KCksZnVuY3Rpb24oKXtlLnRyaWdnZXIoe3R5cGU6XCJoaWRkZW4uYnMudGFiXCIscmVsYXRlZFRhcmdldDpiWzBdfSksYi50cmlnZ2VyKHt0eXBlOlwic2hvd24uYnMudGFiXCIscmVsYXRlZFRhcmdldDplWzBdfSl9KX19fSxjLnByb3RvdHlwZS5hY3RpdmF0ZT1mdW5jdGlvbihiLGQsZSl7ZnVuY3Rpb24gZigpe2cucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIikuZmluZChcIj4gLmRyb3Bkb3duLW1lbnUgPiAuYWN0aXZlXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpLmVuZCgpLmZpbmQoJ1tkYXRhLXRvZ2dsZT1cInRhYlwiXScpLmF0dHIoXCJhcmlhLWV4cGFuZGVkXCIsITEpLGIuYWRkQ2xhc3MoXCJhY3RpdmVcIikuZmluZCgnW2RhdGEtdG9nZ2xlPVwidGFiXCJdJykuYXR0cihcImFyaWEtZXhwYW5kZWRcIiwhMCksaD8oYlswXS5vZmZzZXRXaWR0aCxiLmFkZENsYXNzKFwiaW5cIikpOmIucmVtb3ZlQ2xhc3MoXCJmYWRlXCIpLGIucGFyZW50KFwiLmRyb3Bkb3duLW1lbnVcIikubGVuZ3RoJiZiLmNsb3Nlc3QoXCJsaS5kcm9wZG93blwiKS5hZGRDbGFzcyhcImFjdGl2ZVwiKS5lbmQoKS5maW5kKCdbZGF0YS10b2dnbGU9XCJ0YWJcIl0nKS5hdHRyKFwiYXJpYS1leHBhbmRlZFwiLCEwKSxlJiZlKCl9dmFyIGc9ZC5maW5kKFwiPiAuYWN0aXZlXCIpLGg9ZSYmYS5zdXBwb3J0LnRyYW5zaXRpb24mJihnLmxlbmd0aCYmZy5oYXNDbGFzcyhcImZhZGVcIil8fCEhZC5maW5kKFwiPiAuZmFkZVwiKS5sZW5ndGgpO2cubGVuZ3RoJiZoP2cub25lKFwiYnNUcmFuc2l0aW9uRW5kXCIsZikuZW11bGF0ZVRyYW5zaXRpb25FbmQoYy5UUkFOU0lUSU9OX0RVUkFUSU9OKTpmKCksZy5yZW1vdmVDbGFzcyhcImluXCIpfTt2YXIgZD1hLmZuLnRhYjthLmZuLnRhYj1iLGEuZm4udGFiLkNvbnN0cnVjdG9yPWMsYS5mbi50YWIubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiBhLmZuLnRhYj1kLHRoaXN9O3ZhciBlPWZ1bmN0aW9uKGMpe2MucHJldmVudERlZmF1bHQoKSxiLmNhbGwoYSh0aGlzKSxcInNob3dcIil9O2EoZG9jdW1lbnQpLm9uKFwiY2xpY2suYnMudGFiLmRhdGEtYXBpXCIsJ1tkYXRhLXRvZ2dsZT1cInRhYlwiXScsZSkub24oXCJjbGljay5icy50YWIuZGF0YS1hcGlcIiwnW2RhdGEtdG9nZ2xlPVwicGlsbFwiXScsZSl9KGpRdWVyeSksK2Z1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGIoYil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBkPWEodGhpcyksZT1kLmRhdGEoXCJicy5hZmZpeFwiKSxmPVwib2JqZWN0XCI9PXR5cGVvZiBiJiZiO2V8fGQuZGF0YShcImJzLmFmZml4XCIsZT1uZXcgYyh0aGlzLGYpKSxcInN0cmluZ1wiPT10eXBlb2YgYiYmZVtiXSgpfSl9dmFyIGM9ZnVuY3Rpb24oYixkKXt0aGlzLm9wdGlvbnM9YS5leHRlbmQoe30sYy5ERUZBVUxUUyxkKSx0aGlzLiR0YXJnZXQ9YSh0aGlzLm9wdGlvbnMudGFyZ2V0KS5vbihcInNjcm9sbC5icy5hZmZpeC5kYXRhLWFwaVwiLGEucHJveHkodGhpcy5jaGVja1Bvc2l0aW9uLHRoaXMpKS5vbihcImNsaWNrLmJzLmFmZml4LmRhdGEtYXBpXCIsYS5wcm94eSh0aGlzLmNoZWNrUG9zaXRpb25XaXRoRXZlbnRMb29wLHRoaXMpKSx0aGlzLiRlbGVtZW50PWEoYiksdGhpcy5hZmZpeGVkPW51bGwsdGhpcy51bnBpbj1udWxsLHRoaXMucGlubmVkT2Zmc2V0PW51bGwsdGhpcy5jaGVja1Bvc2l0aW9uKCl9O2MuVkVSU0lPTj1cIjMuMy43XCIsYy5SRVNFVD1cImFmZml4IGFmZml4LXRvcCBhZmZpeC1ib3R0b21cIixjLkRFRkFVTFRTPXtvZmZzZXQ6MCx0YXJnZXQ6d2luZG93fSxjLnByb3RvdHlwZS5nZXRTdGF0ZT1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT10aGlzLiR0YXJnZXQuc2Nyb2xsVG9wKCksZj10aGlzLiRlbGVtZW50Lm9mZnNldCgpLGc9dGhpcy4kdGFyZ2V0LmhlaWdodCgpO2lmKG51bGwhPWMmJlwidG9wXCI9PXRoaXMuYWZmaXhlZClyZXR1cm4gZTxjJiZcInRvcFwiO2lmKFwiYm90dG9tXCI9PXRoaXMuYWZmaXhlZClyZXR1cm4gbnVsbCE9Yz8hKGUrdGhpcy51bnBpbjw9Zi50b3ApJiZcImJvdHRvbVwiOiEoZStnPD1hLWQpJiZcImJvdHRvbVwiO3ZhciBoPW51bGw9PXRoaXMuYWZmaXhlZCxpPWg/ZTpmLnRvcCxqPWg/ZzpiO3JldHVybiBudWxsIT1jJiZlPD1jP1widG9wXCI6bnVsbCE9ZCYmaStqPj1hLWQmJlwiYm90dG9tXCJ9LGMucHJvdG90eXBlLmdldFBpbm5lZE9mZnNldD1mdW5jdGlvbigpe2lmKHRoaXMucGlubmVkT2Zmc2V0KXJldHVybiB0aGlzLnBpbm5lZE9mZnNldDt0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKGMuUkVTRVQpLmFkZENsYXNzKFwiYWZmaXhcIik7dmFyIGE9dGhpcy4kdGFyZ2V0LnNjcm9sbFRvcCgpLGI9dGhpcy4kZWxlbWVudC5vZmZzZXQoKTtyZXR1cm4gdGhpcy5waW5uZWRPZmZzZXQ9Yi50b3AtYX0sYy5wcm90b3R5cGUuY2hlY2tQb3NpdGlvbldpdGhFdmVudExvb3A9ZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGEucHJveHkodGhpcy5jaGVja1Bvc2l0aW9uLHRoaXMpLDEpfSxjLnByb3RvdHlwZS5jaGVja1Bvc2l0aW9uPWZ1bmN0aW9uKCl7aWYodGhpcy4kZWxlbWVudC5pcyhcIjp2aXNpYmxlXCIpKXt2YXIgYj10aGlzLiRlbGVtZW50LmhlaWdodCgpLGQ9dGhpcy5vcHRpb25zLm9mZnNldCxlPWQudG9wLGY9ZC5ib3R0b20sZz1NYXRoLm1heChhKGRvY3VtZW50KS5oZWlnaHQoKSxhKGRvY3VtZW50LmJvZHkpLmhlaWdodCgpKTtcIm9iamVjdFwiIT10eXBlb2YgZCYmKGY9ZT1kKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiYoZT1kLnRvcCh0aGlzLiRlbGVtZW50KSksXCJmdW5jdGlvblwiPT10eXBlb2YgZiYmKGY9ZC5ib3R0b20odGhpcy4kZWxlbWVudCkpO3ZhciBoPXRoaXMuZ2V0U3RhdGUoZyxiLGUsZik7aWYodGhpcy5hZmZpeGVkIT1oKXtudWxsIT10aGlzLnVucGluJiZ0aGlzLiRlbGVtZW50LmNzcyhcInRvcFwiLFwiXCIpO3ZhciBpPVwiYWZmaXhcIisoaD9cIi1cIitoOlwiXCIpLGo9YS5FdmVudChpK1wiLmJzLmFmZml4XCIpO2lmKHRoaXMuJGVsZW1lbnQudHJpZ2dlcihqKSxqLmlzRGVmYXVsdFByZXZlbnRlZCgpKXJldHVybjt0aGlzLmFmZml4ZWQ9aCx0aGlzLnVucGluPVwiYm90dG9tXCI9PWg/dGhpcy5nZXRQaW5uZWRPZmZzZXQoKTpudWxsLHRoaXMuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoYy5SRVNFVCkuYWRkQ2xhc3MoaSkudHJpZ2dlcihpLnJlcGxhY2UoXCJhZmZpeFwiLFwiYWZmaXhlZFwiKStcIi5icy5hZmZpeFwiKX1cImJvdHRvbVwiPT1oJiZ0aGlzLiRlbGVtZW50Lm9mZnNldCh7dG9wOmctYi1mfSl9fTt2YXIgZD1hLmZuLmFmZml4O2EuZm4uYWZmaXg9YixhLmZuLmFmZml4LkNvbnN0cnVjdG9yPWMsYS5mbi5hZmZpeC5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIGEuZm4uYWZmaXg9ZCx0aGlzfSxhKHdpbmRvdykub24oXCJsb2FkXCIsZnVuY3Rpb24oKXthKCdbZGF0YS1zcHk9XCJhZmZpeFwiXScpLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1hKHRoaXMpLGQ9Yy5kYXRhKCk7ZC5vZmZzZXQ9ZC5vZmZzZXR8fHt9LG51bGwhPWQub2Zmc2V0Qm90dG9tJiYoZC5vZmZzZXQuYm90dG9tPWQub2Zmc2V0Qm90dG9tKSxudWxsIT1kLm9mZnNldFRvcCYmKGQub2Zmc2V0LnRvcD1kLm9mZnNldFRvcCksYi5jYWxsKGMsZCl9KX0pfShqUXVlcnkpOyIsIi8qXG5Db3B5cmlnaHQgKGMpIDIwMTAgSGVhdGhlciBBcnRodXJcblxuUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nXG5hIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcblwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xud2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvXG5wZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG9cbnRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcblxuVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmVcbmluY2x1ZGVkIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELFxuRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG5NRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORFxuTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRVxuTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTlxuT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OXG5XSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuKi8hZnVuY3Rpb24gYShiLGMsZCl7ZnVuY3Rpb24gZShnLGgpe2lmKCFjW2ddKXtpZighYltnXSl7dmFyIGk9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighaCYmaSlyZXR1cm4gaShnLCEwKTtpZihmKXJldHVybiBmKGcsITApO3Rocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrZytcIidcIil9dmFyIGo9Y1tnXT17ZXhwb3J0czp7fX07YltnXVswXS5jYWxsKGouZXhwb3J0cyxmdW5jdGlvbihhKXt2YXIgYz1iW2ddWzFdW2FdO3JldHVybiBlKGM/YzphKX0saixqLmV4cG9ydHMsYSxiLGMsZCl9cmV0dXJuIGNbZ10uZXhwb3J0c31mb3IodmFyIGY9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxnPTA7ZzxkLmxlbmd0aDtnKyspZShkW2ddKTtyZXR1cm4gZX0oezE6W2Z1bmN0aW9uKGEpe2JyYWluPWEoXCIuL2xpYi9icmFpblwiKX0se1wiLi9saWIvYnJhaW5cIjoyfV0sMjpbZnVuY3Rpb24oYSxiLGMpe2MuTmV1cmFsTmV0d29yaz1hKFwiLi9uZXVyYWxuZXR3b3JrXCIpLk5ldXJhbE5ldHdvcmssYy5jcm9zc1ZhbGlkYXRlPWEoXCIuL2Nyb3NzLXZhbGlkYXRlXCIpfSx7XCIuL2Nyb3NzLXZhbGlkYXRlXCI6MyxcIi4vbmV1cmFsbmV0d29ya1wiOjV9XSwzOltmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoYSxiLGMsZSxmKXt2YXIgZz1uZXcgYShiKSxoPURhdGUubm93KCksaT1nLnRyYWluKGUsYyksaj1EYXRlLm5vdygpLGs9Zy50ZXN0KGYpLGw9RGF0ZS5ub3coKSxtPWQoaykuZXh0ZW5kKHt0cmFpblRpbWU6ai1oLHRlc3RUaW1lOmwtaixpdGVyYXRpb25zOmkuaXRlcmF0aW9ucyx0cmFpbkVycm9yOmkuZXJyb3IsbGVhcm5pbmdSYXRlOmcubGVhcm5pbmdSYXRlLGhpZGRlbjpnLmhpZGRlblNpemVzLG5ldHdvcms6Zy50b0pTT04oKX0pO3JldHVybiBtfXZhciBkPWEoXCJ1bmRlcnNjb3JlXCIpLl87Yi5leHBvcnRzPWZ1bmN0aW9uKGEsYixlLGYsZyl7Zz1nfHw0O3ZhciBoPWIubGVuZ3RoL2c7Yj1kKGIpLnNvcnRCeShmdW5jdGlvbigpe3JldHVybiBNYXRoLnJhbmRvbSgpfSk7dmFyIGk9e2Vycm9yOjAsdHJhaW5UaW1lOjAsdGVzdFRpbWU6MCxpdGVyYXRpb25zOjAsdHJhaW5FcnJvcjowfSxqPXt0cnVlUG9zOjAsdHJ1ZU5lZzowLGZhbHNlUG9zOjAsZmFsc2VOZWc6MCx0b3RhbDowfSxrPVtdLGw9ZC5yYW5nZShnKS5tYXAoZnVuY3Rpb24oZyl7dmFyIGw9ZChiKS5jbG9uZSgpLG09bC5zcGxpY2UoZypoLGgpLG49bCxvPWMoYSxlLGYsbixtKTtyZXR1cm4gZChpKS5lYWNoKGZ1bmN0aW9uKGEsYil7aVtiXT1hK29bYl19KSxkKGopLmVhY2goZnVuY3Rpb24oYSxiKXtqW2JdPWErb1tiXX0pLGsucHVzaChvLm1pc2NsYXNzZXMpLG99KTtyZXR1cm4gZChpKS5lYWNoKGZ1bmN0aW9uKGEsYil7aVtiXT1hL2d9KSxqLnByZWNpc2lvbj1qLnRydWVQb3MvKGoudHJ1ZVBvcytqLmZhbHNlUG9zKSxqLnJlY2FsbD1qLnRydWVQb3MvKGoudHJ1ZVBvcytqLmZhbHNlTmVnKSxqLmFjY3VyYWN5PShqLnRydWVOZWcrai50cnVlUG9zKS9qLnRvdGFsLGoudGVzdFNpemU9aCxqLnRyYWluU2l6ZT1iLmxlbmd0aC1oLHthdmdzOmksc3RhdHM6aixzZXRzOmwsbWlzY2xhc3NlczpkKGspLmZsYXR0ZW4oKX19fSx7dW5kZXJzY29yZToyMH1dLDQ6W2Z1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYyhhKXt2YXIgYj1oKGEpLnJlZHVjZShmdW5jdGlvbihhLGIpe3JldHVybiBoKGEpLmV4dGVuZChiKX0se30pO3JldHVybiBkKGIpfWZ1bmN0aW9uIGQoYSl7dmFyIGI9e30sYz0wO2Zvcih2YXIgZCBpbiBhKWJbZF09YysrO3JldHVybiBifWZ1bmN0aW9uIGUoYSxiKXt2YXIgYz1bXTtmb3IodmFyIGQgaW4gYSljW2FbZF1dPWJbZF18fDA7cmV0dXJuIGN9ZnVuY3Rpb24gZihhLGIpe3ZhciBjPXt9O2Zvcih2YXIgZCBpbiBhKWNbZF09YlthW2RdXTtyZXR1cm4gY31mdW5jdGlvbiBnKGEpe2Zvcih2YXIgYj17fSxjPTAsZD1hLmxlbmd0aDtkLS0+MDspYlthW2RdXT1jKys7cmV0dXJuIGJ9dmFyIGg9YShcInVuZGVyc2NvcmVcIik7Yi5leHBvcnRzPXtidWlsZExvb2t1cDpjLGxvb2t1cEZyb21IYXNoOmQsdG9BcnJheTplLHRvSGFzaDpmLGxvb2t1cEZyb21BcnJheTpnfX0se3VuZGVyc2NvcmU6MjB9XSw1OltmdW5jdGlvbihhLGIsYyl7ZnVuY3Rpb24gZCgpe3JldHVybi40Kk1hdGgucmFuZG9tKCktLjJ9ZnVuY3Rpb24gZShhKXtmb3IodmFyIGI9bmV3IEFycmF5KGEpLGM9MDthPmM7YysrKWJbY109MDtyZXR1cm4gYn1mdW5jdGlvbiBmKGEpe2Zvcih2YXIgYj1uZXcgQXJyYXkoYSksYz0wO2E+YztjKyspYltjXT1kKCk7cmV0dXJuIGJ9ZnVuY3Rpb24gZyhhKXtmb3IodmFyIGI9MCxjPTA7YzxhLmxlbmd0aDtjKyspYis9TWF0aC5wb3coYVtjXSwyKTtyZXR1cm4gYi9hLmxlbmd0aH1mdW5jdGlvbiBoKGEpe2lmKGsuY2FsbCh0aGlzLHtvYmplY3RNb2RlOiEwfSksYT1hfHx7fSwhYS5uZXVyYWxOZXR3b3JrKXRocm93IG5ldyBFcnJvcihcIm5vIG5ldXJhbCBuZXR3b3JrIHNwZWNpZmllZFwiKTtyZXR1cm4gdGhpcy5uZXVyYWxOZXR3b3JrPWEubmV1cmFsTmV0d29yayx0aGlzLmRhdGFGb3JtYXREZXRlcm1pbmVkPSExLHRoaXMuaW5wdXRLZXlzPVtdLHRoaXMub3V0cHV0S2V5cz1bXSx0aGlzLmk9MCx0aGlzLml0ZXJhdGlvbnM9YS5pdGVyYXRpb25zfHwyZTQsdGhpcy5lcnJvclRocmVzaD1hLmVycm9yVGhyZXNofHwuMDA1LHRoaXMubG9nPWEubG9nfHwhMSx0aGlzLmxvZ1BlcmlvZD1hLmxvZ1BlcmlvZHx8MTAsdGhpcy5jYWxsYmFjaz1hLmNhbGxiYWNrLHRoaXMuY2FsbGJhY2tQZXJpb2Q9YS5jYWxsYmFja1BlcmlvZHx8MTAsdGhpcy5mbG9vZENhbGxiYWNrPWEuZmxvb2RDYWxsYmFjayx0aGlzLmRvbmVUcmFpbmluZ0NhbGxiYWNrPWEuZG9uZVRyYWluaW5nQ2FsbGJhY2ssdGhpcy5zaXplPTAsdGhpcy5jb3VudD0wLHRoaXMuc3VtPTAsdGhpcy5vbihcImZpbmlzaFwiLHRoaXMuZmluaXNoU3RyZWFtSXRlcmF0aW9uKSx0aGlzfXZhciBpPWEoXCJ1bmRlcnNjb3JlXCIpLGo9YShcIi4vbG9va3VwXCIpLGs9YShcInN0cmVhbVwiKS5Xcml0YWJsZSxsPWEoXCJpbmhlcml0c1wiKSxtPWZ1bmN0aW9uKGEpe2E9YXx8e30sdGhpcy5sZWFybmluZ1JhdGU9YS5sZWFybmluZ1JhdGV8fC4zLHRoaXMubW9tZW50dW09YS5tb21lbnR1bXx8LjEsdGhpcy5oaWRkZW5TaXplcz1hLmhpZGRlbkxheWVycyx0aGlzLmJpbmFyeVRocmVzaD1hLmJpbmFyeVRocmVzaHx8LjV9O20ucHJvdG90eXBlPXtpbml0aWFsaXplOmZ1bmN0aW9uKGEpe3RoaXMuc2l6ZXM9YSx0aGlzLm91dHB1dExheWVyPXRoaXMuc2l6ZXMubGVuZ3RoLTEsdGhpcy5iaWFzZXM9W10sdGhpcy53ZWlnaHRzPVtdLHRoaXMub3V0cHV0cz1bXSx0aGlzLmRlbHRhcz1bXSx0aGlzLmNoYW5nZXM9W10sdGhpcy5lcnJvcnM9W107Zm9yKHZhciBiPTA7Yjw9dGhpcy5vdXRwdXRMYXllcjtiKyspe3ZhciBjPXRoaXMuc2l6ZXNbYl07aWYodGhpcy5kZWx0YXNbYl09ZShjKSx0aGlzLmVycm9yc1tiXT1lKGMpLHRoaXMub3V0cHV0c1tiXT1lKGMpLGI+MCl7dGhpcy5iaWFzZXNbYl09ZihjKSx0aGlzLndlaWdodHNbYl09bmV3IEFycmF5KGMpLHRoaXMuY2hhbmdlc1tiXT1uZXcgQXJyYXkoYyk7Zm9yKHZhciBkPTA7Yz5kO2QrKyl7dmFyIGc9dGhpcy5zaXplc1tiLTFdO3RoaXMud2VpZ2h0c1tiXVtkXT1mKGcpLHRoaXMuY2hhbmdlc1tiXVtkXT1lKGcpfX19fSxydW46ZnVuY3Rpb24oYSl7dGhpcy5pbnB1dExvb2t1cCYmKGE9ai50b0FycmF5KHRoaXMuaW5wdXRMb29rdXAsYSkpO3ZhciBiPXRoaXMucnVuSW5wdXQoYSk7cmV0dXJuIHRoaXMub3V0cHV0TG9va3VwJiYoYj1qLnRvSGFzaCh0aGlzLm91dHB1dExvb2t1cCxiKSksYn0scnVuSW5wdXQ6ZnVuY3Rpb24oYSl7dGhpcy5vdXRwdXRzWzBdPWE7Zm9yKHZhciBiPTE7Yjw9dGhpcy5vdXRwdXRMYXllcjtiKyspe2Zvcih2YXIgYz0wO2M8dGhpcy5zaXplc1tiXTtjKyspe2Zvcih2YXIgZD10aGlzLndlaWdodHNbYl1bY10sZT10aGlzLmJpYXNlc1tiXVtjXSxmPTA7ZjxkLmxlbmd0aDtmKyspZSs9ZFtmXSphW2ZdO3RoaXMub3V0cHV0c1tiXVtjXT0xLygxK01hdGguZXhwKC1lKSl9dmFyIGc9YT10aGlzLm91dHB1dHNbYl19cmV0dXJuIGd9LHRyYWluOmZ1bmN0aW9uKGEsYil7YT10aGlzLmZvcm1hdERhdGEoYSksYj1ifHx7fTt2YXIgYz1iLml0ZXJhdGlvbnN8fDJlNCxkPWIuZXJyb3JUaHJlc2h8fC4wMDUsZT1iLmxvZ3x8ITEsZj1iLmxvZ1BlcmlvZHx8MTAsZz1iLmNhbGxiYWNrLGg9Yi5jYWxsYmFja1BlcmlvZHx8MTAsaj1hWzBdLmlucHV0Lmxlbmd0aCxrPWFbMF0ub3V0cHV0Lmxlbmd0aCxsPXRoaXMuaGlkZGVuU2l6ZXM7bHx8KGw9W01hdGgubWF4KDMsTWF0aC5mbG9vcihqLzIpKV0pO3ZhciBtPWkoW2osbCxrXSkuZmxhdHRlbigpO3RoaXMuaW5pdGlhbGl6ZShtKTtmb3IodmFyIG49MSxvPTA7Yz5vJiZuPmQ7bysrKXtmb3IodmFyIHA9MCxxPTA7cTxhLmxlbmd0aDtxKyspe3ZhciByPXRoaXMudHJhaW5QYXR0ZXJuKGFbcV0uaW5wdXQsYVtxXS5vdXRwdXQpO3ArPXJ9bj1wL2EubGVuZ3RoLGUmJm8lZj09MCYmY29uc29sZS5sb2coXCJpdGVyYXRpb25zOlwiLG8sXCJ0cmFpbmluZyBlcnJvcjpcIixuKSxnJiZvJWg9PTAmJmcoe2Vycm9yOm4saXRlcmF0aW9uczpvfSl9cmV0dXJue2Vycm9yOm4saXRlcmF0aW9uczpvfX0sdHJhaW5QYXR0ZXJuOmZ1bmN0aW9uKGEsYil7dGhpcy5ydW5JbnB1dChhKSx0aGlzLmNhbGN1bGF0ZURlbHRhcyhiKSx0aGlzLmFkanVzdFdlaWdodHMoKTt2YXIgYz1nKHRoaXMuZXJyb3JzW3RoaXMub3V0cHV0TGF5ZXJdKTtyZXR1cm4gY30sY2FsY3VsYXRlRGVsdGFzOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLm91dHB1dExheWVyO2I+PTA7Yi0tKWZvcih2YXIgYz0wO2M8dGhpcy5zaXplc1tiXTtjKyspe3ZhciBkPXRoaXMub3V0cHV0c1tiXVtjXSxlPTA7aWYoYj09dGhpcy5vdXRwdXRMYXllcillPWFbY10tZDtlbHNlIGZvcih2YXIgZj10aGlzLmRlbHRhc1tiKzFdLGc9MDtnPGYubGVuZ3RoO2crKyllKz1mW2ddKnRoaXMud2VpZ2h0c1tiKzFdW2ddW2NdO3RoaXMuZXJyb3JzW2JdW2NdPWUsdGhpcy5kZWx0YXNbYl1bY109ZSpkKigxLWQpfX0sYWRqdXN0V2VpZ2h0czpmdW5jdGlvbigpe2Zvcih2YXIgYT0xO2E8PXRoaXMub3V0cHV0TGF5ZXI7YSsrKWZvcih2YXIgYj10aGlzLm91dHB1dHNbYS0xXSxjPTA7Yzx0aGlzLnNpemVzW2FdO2MrKyl7Zm9yKHZhciBkPXRoaXMuZGVsdGFzW2FdW2NdLGU9MDtlPGIubGVuZ3RoO2UrKyl7dmFyIGY9dGhpcy5jaGFuZ2VzW2FdW2NdW2VdO2Y9dGhpcy5sZWFybmluZ1JhdGUqZCpiW2VdK3RoaXMubW9tZW50dW0qZix0aGlzLmNoYW5nZXNbYV1bY11bZV09Zix0aGlzLndlaWdodHNbYV1bY11bZV0rPWZ9dGhpcy5iaWFzZXNbYV1bY10rPXRoaXMubGVhcm5pbmdSYXRlKmR9fSxmb3JtYXREYXRhOmZ1bmN0aW9uKGEpe2lmKCFpLmlzQXJyYXkoYSkpe3ZhciBiPVtdO2IucHVzaChhKSxhPWJ9dmFyIGM9YVswXS5pbnB1dDtyZXR1cm4gaShjKS5pc0FycmF5KCl8fGMgaW5zdGFuY2VvZiBGbG9hdDY0QXJyYXl8fCh0aGlzLmlucHV0TG9va3VwfHwodGhpcy5pbnB1dExvb2t1cD1qLmJ1aWxkTG9va3VwKGkoYSkucGx1Y2soXCJpbnB1dFwiKSkpLGE9YS5tYXAoZnVuY3Rpb24oYSl7dmFyIGI9ai50b0FycmF5KHRoaXMuaW5wdXRMb29rdXAsYS5pbnB1dCk7cmV0dXJuIGkoaShhKS5jbG9uZSgpKS5leHRlbmQoe2lucHV0OmJ9KX0sdGhpcykpLGkoYVswXS5vdXRwdXQpLmlzQXJyYXkoKXx8KHRoaXMub3V0cHV0TG9va3VwfHwodGhpcy5vdXRwdXRMb29rdXA9ai5idWlsZExvb2t1cChpKGEpLnBsdWNrKFwib3V0cHV0XCIpKSksYT1hLm1hcChmdW5jdGlvbihhKXt2YXIgYj1qLnRvQXJyYXkodGhpcy5vdXRwdXRMb29rdXAsYS5vdXRwdXQpO3JldHVybiBpKGkoYSkuY2xvbmUoKSkuZXh0ZW5kKHtvdXRwdXQ6Yn0pfSx0aGlzKSksYX0sdGVzdDpmdW5jdGlvbihhKXthPXRoaXMuZm9ybWF0RGF0YShhKTtmb3IodmFyIGI9MT09YVswXS5vdXRwdXQubGVuZ3RoLGM9MCxkPTAsZT0wLGY9MCxoPVtdLGo9MCxrPTA7azxhLmxlbmd0aDtrKyspe3ZhciBsLG0sbj10aGlzLnJ1bklucHV0KGFba10uaW5wdXQpLG89YVtrXS5vdXRwdXQ7aWYoYj8obD1uWzBdPnRoaXMuYmluYXJ5VGhyZXNoPzE6MCxtPW9bMF0pOihsPW4uaW5kZXhPZihpKG4pLm1heCgpKSxtPW8uaW5kZXhPZihpKG8pLm1heCgpKSksbCE9bSl7dmFyIHA9YVtrXTtpKHApLmV4dGVuZCh7YWN0dWFsOmwsZXhwZWN0ZWQ6bX0pLGgucHVzaChwKX1iJiYoMD09bCYmMD09bT9mKys6MT09bCYmMT09bT9lKys6MD09bCYmMT09bT9kKys6MT09bCYmMD09bSYmYysrKTt2YXIgcT1uLm1hcChmdW5jdGlvbihhLGIpe3JldHVybiBvW2JdLWF9KTtqKz1nKHEpfXZhciByPWovYS5sZW5ndGgscz17ZXJyb3I6cixtaXNjbGFzc2VzOmh9O3JldHVybiBiJiZpKHMpLmV4dGVuZCh7dHJ1ZU5lZzpmLHRydWVQb3M6ZSxmYWxzZU5lZzpkLGZhbHNlUG9zOmMsdG90YWw6YS5sZW5ndGgscHJlY2lzaW9uOmUvKGUrYykscmVjYWxsOmUvKGUrZCksYWNjdXJhY3k6KGYrZSkvYS5sZW5ndGh9KSxzfSx0b0pTT046ZnVuY3Rpb24oKXtmb3IodmFyIGE9W10sYj0wO2I8PXRoaXMub3V0cHV0TGF5ZXI7YisrKXthW2JdPXt9O3ZhciBjO2M9MD09YiYmdGhpcy5pbnB1dExvb2t1cD9pKHRoaXMuaW5wdXRMb29rdXApLmtleXMoKTpiPT10aGlzLm91dHB1dExheWVyJiZ0aGlzLm91dHB1dExvb2t1cD9pKHRoaXMub3V0cHV0TG9va3VwKS5rZXlzKCk6aS5yYW5nZSgwLHRoaXMuc2l6ZXNbYl0pO2Zvcih2YXIgZD0wO2Q8Yy5sZW5ndGg7ZCsrKXt2YXIgZT1jW2RdO2lmKGFbYl1bZV09e30sYj4wKXthW2JdW2VdLmJpYXM9dGhpcy5iaWFzZXNbYl1bZF0sYVtiXVtlXS53ZWlnaHRzPXt9O2Zvcih2YXIgZiBpbiBhW2ItMV0pe3ZhciBnPWY7MT09YiYmdGhpcy5pbnB1dExvb2t1cCYmKGc9dGhpcy5pbnB1dExvb2t1cFtmXSksYVtiXVtlXS53ZWlnaHRzW2ZdPXRoaXMud2VpZ2h0c1tiXVtkXVtnXX19fX1yZXR1cm57bGF5ZXJzOmEsb3V0cHV0TG9va3VwOiEhdGhpcy5vdXRwdXRMb29rdXAsaW5wdXRMb29rdXA6ISF0aGlzLmlucHV0TG9va3VwfX0sZnJvbUpTT046ZnVuY3Rpb24oYSl7dmFyIGI9YS5sYXllcnMubGVuZ3RoO3RoaXMub3V0cHV0TGF5ZXI9Yi0xLHRoaXMuc2l6ZXM9bmV3IEFycmF5KGIpLHRoaXMud2VpZ2h0cz1uZXcgQXJyYXkoYiksdGhpcy5iaWFzZXM9bmV3IEFycmF5KGIpLHRoaXMub3V0cHV0cz1uZXcgQXJyYXkoYik7Zm9yKHZhciBjPTA7Yzw9dGhpcy5vdXRwdXRMYXllcjtjKyspe3ZhciBkPWEubGF5ZXJzW2NdOzAhPWN8fGRbMF0mJiFhLmlucHV0TG9va3VwP2MhPXRoaXMub3V0cHV0TGF5ZXJ8fGRbMF0mJiFhLm91dHB1dExvb2t1cHx8KHRoaXMub3V0cHV0TG9va3VwPWoubG9va3VwRnJvbUhhc2goZCkpOnRoaXMuaW5wdXRMb29rdXA9ai5sb29rdXBGcm9tSGFzaChkKTt2YXIgZT1pKGQpLmtleXMoKTt0aGlzLnNpemVzW2NdPWUubGVuZ3RoLHRoaXMud2VpZ2h0c1tjXT1bXSx0aGlzLmJpYXNlc1tjXT1bXSx0aGlzLm91dHB1dHNbY109W107Zm9yKHZhciBmIGluIGUpe3ZhciBnPWVbZl07dGhpcy5iaWFzZXNbY11bZl09ZFtnXS5iaWFzLHRoaXMud2VpZ2h0c1tjXVtmXT1pKGRbZ10ud2VpZ2h0cykudG9BcnJheSgpfX1yZXR1cm4gdGhpc30sdG9GdW5jdGlvbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMudG9KU09OKCk7cmV0dXJuIG5ldyBGdW5jdGlvbihcImlucHV0XCIsXCIgIHZhciBuZXQgPSBcIitKU09OLnN0cmluZ2lmeShhKStcIjtcXG5cXG4gIGZvciAodmFyIGkgPSAxOyBpIDwgbmV0LmxheWVycy5sZW5ndGg7IGkrKykge1xcbiAgICB2YXIgbGF5ZXIgPSBuZXQubGF5ZXJzW2ldO1xcbiAgICB2YXIgb3V0cHV0ID0ge307XFxuICAgIFxcbiAgICBmb3IgKHZhciBpZCBpbiBsYXllcikge1xcbiAgICAgIHZhciBub2RlID0gbGF5ZXJbaWRdO1xcbiAgICAgIHZhciBzdW0gPSBub2RlLmJpYXM7XFxuICAgICAgXFxuICAgICAgZm9yICh2YXIgaWlkIGluIG5vZGUud2VpZ2h0cykge1xcbiAgICAgICAgc3VtICs9IG5vZGUud2VpZ2h0c1tpaWRdICogaW5wdXRbaWlkXTtcXG4gICAgICB9XFxuICAgICAgb3V0cHV0W2lkXSA9ICgxIC8gKDEgKyBNYXRoLmV4cCgtc3VtKSkpO1xcbiAgICB9XFxuICAgIGlucHV0ID0gb3V0cHV0O1xcbiAgfVxcbiAgcmV0dXJuIG91dHB1dDtcIil9LGNyZWF0ZVRyYWluU3RyZWFtOmZ1bmN0aW9uKGEpe3JldHVybiBhPWF8fHt9LGEubmV1cmFsTmV0d29yaz10aGlzLHRoaXMudHJhaW5TdHJlYW09bmV3IGgoYSksdGhpcy50cmFpblN0cmVhbX19LGMuTmV1cmFsTmV0d29yaz1tLGwoaCxrKSxoLnByb3RvdHlwZS5fd3JpdGU9ZnVuY3Rpb24oYSxiLGMpe2lmKCFhKXJldHVybiB0aGlzLmVtaXQoXCJmaW5pc2hcIiksYygpO2lmKCF0aGlzLmRhdGFGb3JtYXREZXRlcm1pbmVkKXJldHVybiB0aGlzLnNpemUrKyx0aGlzLmlucHV0S2V5cz1pLnVuaW9uKHRoaXMuaW5wdXRLZXlzLGkua2V5cyhhLmlucHV0KSksdGhpcy5vdXRwdXRLZXlzPWkudW5pb24odGhpcy5vdXRwdXRLZXlzLGkua2V5cyhhLm91dHB1dCkpLHRoaXMuZmlyc3REYXR1bT10aGlzLmZpcnN0RGF0dW18fGEsYygpO3RoaXMuY291bnQrKzt2YXIgZD10aGlzLm5ldXJhbE5ldHdvcmsuZm9ybWF0RGF0YShhKTt0aGlzLnRyYWluRGF0dW0oZFswXSksYygpfSxoLnByb3RvdHlwZS50cmFpbkRhdHVtPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMubmV1cmFsTmV0d29yay50cmFpblBhdHRlcm4oYS5pbnB1dCxhLm91dHB1dCk7dGhpcy5zdW0rPWJ9LGgucHJvdG90eXBlLmZpbmlzaFN0cmVhbUl0ZXJhdGlvbj1mdW5jdGlvbigpe2lmKHRoaXMuZGF0YUZvcm1hdERldGVybWluZWQmJnRoaXMuc2l6ZSE9PXRoaXMuY291bnQmJmNvbnNvbGUubG9nKFwiVGhpcyBpdGVyYXRpb24ncyBkYXRhIGxlbmd0aCB3YXMgZGlmZmVyZW50IGZyb20gdGhlIGZpcnN0LlwiKSwhdGhpcy5kYXRhRm9ybWF0RGV0ZXJtaW5lZCl7dGhpcy5uZXVyYWxOZXR3b3JrLmlucHV0TG9va3VwPWoubG9va3VwRnJvbUFycmF5KHRoaXMuaW5wdXRLZXlzKSx0aGlzLm5ldXJhbE5ldHdvcmsub3V0cHV0TG9va3VwPWoubG9va3VwRnJvbUFycmF5KHRoaXMub3V0cHV0S2V5cyk7dmFyIGE9dGhpcy5uZXVyYWxOZXR3b3JrLmZvcm1hdERhdGEodGhpcy5maXJzdERhdHVtKSxiPWFbMF0uaW5wdXQubGVuZ3RoLGM9YVswXS5vdXRwdXQubGVuZ3RoLGQ9dGhpcy5oaWRkZW5TaXplcztkfHwoZD1bTWF0aC5tYXgoMyxNYXRoLmZsb29yKGIvMikpXSk7dmFyIGU9aShbYixkLGNdKS5mbGF0dGVuKCk7cmV0dXJuIHRoaXMuZGF0YUZvcm1hdERldGVybWluZWQ9ITAsdGhpcy5uZXVyYWxOZXR3b3JrLmluaXRpYWxpemUoZSksdm9pZChcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLmZsb29kQ2FsbGJhY2smJnRoaXMuZmxvb2RDYWxsYmFjaygpKX12YXIgZj10aGlzLnN1bS90aGlzLnNpemU7aWYodGhpcy5sb2cmJnRoaXMuaSV0aGlzLmxvZ1BlcmlvZD09MCYmY29uc29sZS5sb2coXCJpdGVyYXRpb25zOlwiLHRoaXMuaSxcInRyYWluaW5nIGVycm9yOlwiLGYpLHRoaXMuY2FsbGJhY2smJnRoaXMuaSV0aGlzLmNhbGxiYWNrUGVyaW9kPT0wJiZ0aGlzLmNhbGxiYWNrKHtlcnJvcjpmLGl0ZXJhdGlvbnM6dGhpcy5pfSksdGhpcy5zdW09MCx0aGlzLmNvdW50PTAsdGhpcy5pKyssdGhpcy5pPHRoaXMuaXRlcmF0aW9ucyYmZj50aGlzLmVycm9yVGhyZXNoKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLmZsb29kQ2FsbGJhY2spcmV0dXJuIHRoaXMuZmxvb2RDYWxsYmFjaygpfWVsc2UgaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5kb25lVHJhaW5pbmdDYWxsYmFjaylyZXR1cm4gdGhpcy5kb25lVHJhaW5pbmdDYWxsYmFjayh7ZXJyb3I6ZixpdGVyYXRpb25zOnRoaXMuaX0pfX0se1wiLi9sb29rdXBcIjo0LGluaGVyaXRzOjE5LHN0cmVhbToxMix1bmRlcnNjb3JlOjIwfV0sNjpbZnVuY3Rpb24oYSxiLGMpe2Z1bmN0aW9uIGQoYSxiLGMpe2lmKCEodGhpcyBpbnN0YW5jZW9mIGQpKXJldHVybiBuZXcgZChhLGIsYyk7dmFyIGU9dHlwZW9mIGE7aWYoXCJiYXNlNjRcIj09PWImJlwic3RyaW5nXCI9PT1lKWZvcihhPUMoYSk7YS5sZW5ndGglNCE9PTA7KWErPVwiPVwiO3ZhciBmO2lmKFwibnVtYmVyXCI9PT1lKWY9RihhKTtlbHNlIGlmKFwic3RyaW5nXCI9PT1lKWY9ZC5ieXRlTGVuZ3RoKGEsYik7ZWxzZXtpZihcIm9iamVjdFwiIT09ZSl0aHJvdyBuZXcgRXJyb3IoXCJGaXJzdCBhcmd1bWVudCBuZWVkcyB0byBiZSBhIG51bWJlciwgYXJyYXkgb3Igc3RyaW5nLlwiKTtmPUYoYS5sZW5ndGgpfXZhciBnO2QuX3VzZVR5cGVkQXJyYXlzP2c9RChuZXcgVWludDhBcnJheShmKSk6KGc9dGhpcyxnLmxlbmd0aD1mLGcuX2lzQnVmZmVyPSEwKTt2YXIgaDtpZihkLl91c2VUeXBlZEFycmF5cyYmXCJmdW5jdGlvblwiPT10eXBlb2YgVWludDhBcnJheSYmYSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpZy5fc2V0KGEpO2Vsc2UgaWYoSChhKSlmb3IoaD0wO2Y+aDtoKyspZ1toXT1kLmlzQnVmZmVyKGEpP2EucmVhZFVJbnQ4KGgpOmFbaF07ZWxzZSBpZihcInN0cmluZ1wiPT09ZSlnLndyaXRlKGEsMCxiKTtlbHNlIGlmKFwibnVtYmVyXCI9PT1lJiYhZC5fdXNlVHlwZWRBcnJheXMmJiFjKWZvcihoPTA7Zj5oO2grKylnW2hdPTA7cmV0dXJuIGd9ZnVuY3Rpb24gZShhLGIsYyxlKXtjPU51bWJlcihjKXx8MDt2YXIgZj1hLmxlbmd0aC1jO2U/KGU9TnVtYmVyKGUpLGU+ZiYmKGU9ZikpOmU9Zjt2YXIgZz1iLmxlbmd0aDtTKGclMj09PTAsXCJJbnZhbGlkIGhleCBzdHJpbmdcIiksZT5nLzImJihlPWcvMik7Zm9yKHZhciBoPTA7ZT5oO2grKyl7dmFyIGk9cGFyc2VJbnQoYi5zdWJzdHIoMipoLDIpLDE2KTtTKCFpc05hTihpKSxcIkludmFsaWQgaGV4IHN0cmluZ1wiKSxhW2MraF09aX1yZXR1cm4gZC5fY2hhcnNXcml0dGVuPTIqaCxofWZ1bmN0aW9uIGYoYSxiLGMsZSl7dmFyIGY9ZC5fY2hhcnNXcml0dGVuPU4oSihiKSxhLGMsZSk7cmV0dXJuIGZ9ZnVuY3Rpb24gZyhhLGIsYyxlKXt2YXIgZj1kLl9jaGFyc1dyaXR0ZW49TihLKGIpLGEsYyxlKTtyZXR1cm4gZn1mdW5jdGlvbiBoKGEsYixjLGQpe3JldHVybiBnKGEsYixjLGQpfWZ1bmN0aW9uIGkoYSxiLGMsZSl7dmFyIGY9ZC5fY2hhcnNXcml0dGVuPU4oTShiKSxhLGMsZSk7cmV0dXJuIGZ9ZnVuY3Rpb24gaihhLGIsYyxlKXt2YXIgZj1kLl9jaGFyc1dyaXR0ZW49TihMKGIpLGEsYyxlKTtyZXR1cm4gZn1mdW5jdGlvbiBrKGEsYixjKXtyZXR1cm4gVC5mcm9tQnl0ZUFycmF5KDA9PT1iJiZjPT09YS5sZW5ndGg/YTphLnNsaWNlKGIsYykpfWZ1bmN0aW9uIGwoYSxiLGMpe3ZhciBkPVwiXCIsZT1cIlwiO2M9TWF0aC5taW4oYS5sZW5ndGgsYyk7Zm9yKHZhciBmPWI7Yz5mO2YrKylhW2ZdPD0xMjc/KGQrPU8oZSkrU3RyaW5nLmZyb21DaGFyQ29kZShhW2ZdKSxlPVwiXCIpOmUrPVwiJVwiK2FbZl0udG9TdHJpbmcoMTYpO3JldHVybiBkK08oZSl9ZnVuY3Rpb24gbShhLGIsYyl7dmFyIGQ9XCJcIjtjPU1hdGgubWluKGEubGVuZ3RoLGMpO2Zvcih2YXIgZT1iO2M+ZTtlKyspZCs9U3RyaW5nLmZyb21DaGFyQ29kZShhW2VdKTtyZXR1cm4gZH1mdW5jdGlvbiBuKGEsYixjKXtyZXR1cm4gbShhLGIsYyl9ZnVuY3Rpb24gbyhhLGIsYyl7dmFyIGQ9YS5sZW5ndGg7KCFifHwwPmIpJiYoYj0wKSwoIWN8fDA+Y3x8Yz5kKSYmKGM9ZCk7Zm9yKHZhciBlPVwiXCIsZj1iO2M+ZjtmKyspZSs9SShhW2ZdKTtyZXR1cm4gZX1mdW5jdGlvbiBwKGEsYixjKXtmb3IodmFyIGQ9YS5zbGljZShiLGMpLGU9XCJcIixmPTA7ZjxkLmxlbmd0aDtmKz0yKWUrPVN0cmluZy5mcm9tQ2hhckNvZGUoZFtmXSsyNTYqZFtmKzFdKTtyZXR1cm4gZX1mdW5jdGlvbiBxKGEsYixjLGQpe2R8fChTKFwiYm9vbGVhblwiPT10eXBlb2YgYyxcIm1pc3Npbmcgb3IgaW52YWxpZCBlbmRpYW5cIiksUyh2b2lkIDAhPT1iJiZudWxsIT09YixcIm1pc3Npbmcgb2Zmc2V0XCIpLFMoYisxPGEubGVuZ3RoLFwiVHJ5aW5nIHRvIHJlYWQgYmV5b25kIGJ1ZmZlciBsZW5ndGhcIikpO3ZhciBlPWEubGVuZ3RoO2lmKCEoYj49ZSkpe3ZhciBmO3JldHVybiBjPyhmPWFbYl0sZT5iKzEmJihmfD1hW2IrMV08PDgpKTooZj1hW2JdPDw4LGU+YisxJiYoZnw9YVtiKzFdKSksZn19ZnVuY3Rpb24gcihhLGIsYyxkKXtkfHwoUyhcImJvb2xlYW5cIj09dHlwZW9mIGMsXCJtaXNzaW5nIG9yIGludmFsaWQgZW5kaWFuXCIpLFModm9pZCAwIT09YiYmbnVsbCE9PWIsXCJtaXNzaW5nIG9mZnNldFwiKSxTKGIrMzxhLmxlbmd0aCxcIlRyeWluZyB0byByZWFkIGJleW9uZCBidWZmZXIgbGVuZ3RoXCIpKTt2YXIgZT1hLmxlbmd0aDtpZighKGI+PWUpKXt2YXIgZjtyZXR1cm4gYz8oZT5iKzImJihmPWFbYisyXTw8MTYpLGU+YisxJiYoZnw9YVtiKzFdPDw4KSxmfD1hW2JdLGU+YiszJiYoZis9YVtiKzNdPDwyND4+PjApKTooZT5iKzEmJihmPWFbYisxXTw8MTYpLGU+YisyJiYoZnw9YVtiKzJdPDw4KSxlPmIrMyYmKGZ8PWFbYiszXSksZis9YVtiXTw8MjQ+Pj4wKSxmfX1mdW5jdGlvbiBzKGEsYixjLGQpe2R8fChTKFwiYm9vbGVhblwiPT10eXBlb2YgYyxcIm1pc3Npbmcgb3IgaW52YWxpZCBlbmRpYW5cIiksUyh2b2lkIDAhPT1iJiZudWxsIT09YixcIm1pc3Npbmcgb2Zmc2V0XCIpLFMoYisxPGEubGVuZ3RoLFwiVHJ5aW5nIHRvIHJlYWQgYmV5b25kIGJ1ZmZlciBsZW5ndGhcIikpO3ZhciBlPWEubGVuZ3RoO2lmKCEoYj49ZSkpe3ZhciBmPXEoYSxiLGMsITApLGc9MzI3NjgmZjtyZXR1cm4gZz8tMSooNjU1MzUtZisxKTpmfX1mdW5jdGlvbiB0KGEsYixjLGQpe2R8fChTKFwiYm9vbGVhblwiPT10eXBlb2YgYyxcIm1pc3Npbmcgb3IgaW52YWxpZCBlbmRpYW5cIiksUyh2b2lkIDAhPT1iJiZudWxsIT09YixcIm1pc3Npbmcgb2Zmc2V0XCIpLFMoYiszPGEubGVuZ3RoLFwiVHJ5aW5nIHRvIHJlYWQgYmV5b25kIGJ1ZmZlciBsZW5ndGhcIikpO3ZhciBlPWEubGVuZ3RoO2lmKCEoYj49ZSkpe3ZhciBmPXIoYSxiLGMsITApLGc9MjE0NzQ4MzY0OCZmO3JldHVybiBnPy0xKig0Mjk0OTY3Mjk1LWYrMSk6Zn19ZnVuY3Rpb24gdShhLGIsYyxkKXtyZXR1cm4gZHx8KFMoXCJib29sZWFuXCI9PXR5cGVvZiBjLFwibWlzc2luZyBvciBpbnZhbGlkIGVuZGlhblwiKSxTKGIrMzxhLmxlbmd0aCxcIlRyeWluZyB0byByZWFkIGJleW9uZCBidWZmZXIgbGVuZ3RoXCIpKSxVLnJlYWQoYSxiLGMsMjMsNCl9ZnVuY3Rpb24gdihhLGIsYyxkKXtyZXR1cm4gZHx8KFMoXCJib29sZWFuXCI9PXR5cGVvZiBjLFwibWlzc2luZyBvciBpbnZhbGlkIGVuZGlhblwiKSxTKGIrNzxhLmxlbmd0aCxcIlRyeWluZyB0byByZWFkIGJleW9uZCBidWZmZXIgbGVuZ3RoXCIpKSxVLnJlYWQoYSxiLGMsNTIsOCl9ZnVuY3Rpb24gdyhhLGIsYyxkLGUpe2V8fChTKHZvaWQgMCE9PWImJm51bGwhPT1iLFwibWlzc2luZyB2YWx1ZVwiKSxTKFwiYm9vbGVhblwiPT10eXBlb2YgZCxcIm1pc3Npbmcgb3IgaW52YWxpZCBlbmRpYW5cIiksUyh2b2lkIDAhPT1jJiZudWxsIT09YyxcIm1pc3Npbmcgb2Zmc2V0XCIpLFMoYysxPGEubGVuZ3RoLFwidHJ5aW5nIHRvIHdyaXRlIGJleW9uZCBidWZmZXIgbGVuZ3RoXCIpLFAoYiw2NTUzNSkpO3ZhciBmPWEubGVuZ3RoO2lmKCEoYz49ZikpZm9yKHZhciBnPTAsaD1NYXRoLm1pbihmLWMsMik7aD5nO2crKylhW2MrZ109KGImMjU1PDw4KihkP2c6MS1nKSk+Pj44KihkP2c6MS1nKX1mdW5jdGlvbiB4KGEsYixjLGQsZSl7ZXx8KFModm9pZCAwIT09YiYmbnVsbCE9PWIsXCJtaXNzaW5nIHZhbHVlXCIpLFMoXCJib29sZWFuXCI9PXR5cGVvZiBkLFwibWlzc2luZyBvciBpbnZhbGlkIGVuZGlhblwiKSxTKHZvaWQgMCE9PWMmJm51bGwhPT1jLFwibWlzc2luZyBvZmZzZXRcIiksUyhjKzM8YS5sZW5ndGgsXCJ0cnlpbmcgdG8gd3JpdGUgYmV5b25kIGJ1ZmZlciBsZW5ndGhcIiksUChiLDQyOTQ5NjcyOTUpKTt2YXIgZj1hLmxlbmd0aDtpZighKGM+PWYpKWZvcih2YXIgZz0wLGg9TWF0aC5taW4oZi1jLDQpO2g+ZztnKyspYVtjK2ddPWI+Pj44KihkP2c6My1nKSYyNTV9ZnVuY3Rpb24geShhLGIsYyxkLGUpe2V8fChTKHZvaWQgMCE9PWImJm51bGwhPT1iLFwibWlzc2luZyB2YWx1ZVwiKSxTKFwiYm9vbGVhblwiPT10eXBlb2YgZCxcIm1pc3Npbmcgb3IgaW52YWxpZCBlbmRpYW5cIiksUyh2b2lkIDAhPT1jJiZudWxsIT09YyxcIm1pc3Npbmcgb2Zmc2V0XCIpLFMoYysxPGEubGVuZ3RoLFwiVHJ5aW5nIHRvIHdyaXRlIGJleW9uZCBidWZmZXIgbGVuZ3RoXCIpLFEoYiwzMjc2NywtMzI3NjgpKTt2YXIgZj1hLmxlbmd0aDtjPj1mfHwoYj49MD93KGEsYixjLGQsZSk6dyhhLDY1NTM1K2IrMSxjLGQsZSkpfWZ1bmN0aW9uIHooYSxiLGMsZCxlKXtlfHwoUyh2b2lkIDAhPT1iJiZudWxsIT09YixcIm1pc3NpbmcgdmFsdWVcIiksUyhcImJvb2xlYW5cIj09dHlwZW9mIGQsXCJtaXNzaW5nIG9yIGludmFsaWQgZW5kaWFuXCIpLFModm9pZCAwIT09YyYmbnVsbCE9PWMsXCJtaXNzaW5nIG9mZnNldFwiKSxTKGMrMzxhLmxlbmd0aCxcIlRyeWluZyB0byB3cml0ZSBiZXlvbmQgYnVmZmVyIGxlbmd0aFwiKSxRKGIsMjE0NzQ4MzY0NywtMjE0NzQ4MzY0OCkpO3ZhciBmPWEubGVuZ3RoO2M+PWZ8fChiPj0wP3goYSxiLGMsZCxlKTp4KGEsNDI5NDk2NzI5NStiKzEsYyxkLGUpKX1mdW5jdGlvbiBBKGEsYixjLGQsZSl7ZXx8KFModm9pZCAwIT09YiYmbnVsbCE9PWIsXCJtaXNzaW5nIHZhbHVlXCIpLFMoXCJib29sZWFuXCI9PXR5cGVvZiBkLFwibWlzc2luZyBvciBpbnZhbGlkIGVuZGlhblwiKSxTKHZvaWQgMCE9PWMmJm51bGwhPT1jLFwibWlzc2luZyBvZmZzZXRcIiksUyhjKzM8YS5sZW5ndGgsXCJUcnlpbmcgdG8gd3JpdGUgYmV5b25kIGJ1ZmZlciBsZW5ndGhcIiksUihiLDMuNDAyODIzNDY2Mzg1Mjg4NmUzOCwtMy40MDI4MjM0NjYzODUyODg2ZTM4KSk7dmFyIGY9YS5sZW5ndGg7Yz49Znx8VS53cml0ZShhLGIsYyxkLDIzLDQpfWZ1bmN0aW9uIEIoYSxiLGMsZCxlKXtlfHwoUyh2b2lkIDAhPT1iJiZudWxsIT09YixcIm1pc3NpbmcgdmFsdWVcIiksUyhcImJvb2xlYW5cIj09dHlwZW9mIGQsXCJtaXNzaW5nIG9yIGludmFsaWQgZW5kaWFuXCIpLFModm9pZCAwIT09YyYmbnVsbCE9PWMsXCJtaXNzaW5nIG9mZnNldFwiKSxTKGMrNzxhLmxlbmd0aCxcIlRyeWluZyB0byB3cml0ZSBiZXlvbmQgYnVmZmVyIGxlbmd0aFwiKSxSKGIsMS43OTc2OTMxMzQ4NjIzMTU3ZTMwOCwtMS43OTc2OTMxMzQ4NjIzMTU3ZTMwOCkpO3ZhciBmPWEubGVuZ3RoO2M+PWZ8fFUud3JpdGUoYSxiLGMsZCw1Miw4KX1mdW5jdGlvbiBDKGEpe3JldHVybiBhLnRyaW0/YS50cmltKCk6YS5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLFwiXCIpfWZ1bmN0aW9uIEQoYSl7cmV0dXJuIGEuX2lzQnVmZmVyPSEwLGEuX2dldD1hLmdldCxhLl9zZXQ9YS5zZXQsYS5nZXQ9Vi5nZXQsYS5zZXQ9Vi5zZXQsYS53cml0ZT1WLndyaXRlLGEudG9TdHJpbmc9Vi50b1N0cmluZyxhLnRvTG9jYWxlU3RyaW5nPVYudG9TdHJpbmcsYS50b0pTT049Vi50b0pTT04sYS5jb3B5PVYuY29weSxhLnNsaWNlPVYuc2xpY2UsYS5yZWFkVUludDg9Vi5yZWFkVUludDgsYS5yZWFkVUludDE2TEU9Vi5yZWFkVUludDE2TEUsYS5yZWFkVUludDE2QkU9Vi5yZWFkVUludDE2QkUsYS5yZWFkVUludDMyTEU9Vi5yZWFkVUludDMyTEUsYS5yZWFkVUludDMyQkU9Vi5yZWFkVUludDMyQkUsYS5yZWFkSW50OD1WLnJlYWRJbnQ4LGEucmVhZEludDE2TEU9Vi5yZWFkSW50MTZMRSxhLnJlYWRJbnQxNkJFPVYucmVhZEludDE2QkUsYS5yZWFkSW50MzJMRT1WLnJlYWRJbnQzMkxFLGEucmVhZEludDMyQkU9Vi5yZWFkSW50MzJCRSxhLnJlYWRGbG9hdExFPVYucmVhZEZsb2F0TEUsYS5yZWFkRmxvYXRCRT1WLnJlYWRGbG9hdEJFLGEucmVhZERvdWJsZUxFPVYucmVhZERvdWJsZUxFLGEucmVhZERvdWJsZUJFPVYucmVhZERvdWJsZUJFLGEud3JpdGVVSW50OD1WLndyaXRlVUludDgsYS53cml0ZVVJbnQxNkxFPVYud3JpdGVVSW50MTZMRSxhLndyaXRlVUludDE2QkU9Vi53cml0ZVVJbnQxNkJFLGEud3JpdGVVSW50MzJMRT1WLndyaXRlVUludDMyTEUsYS53cml0ZVVJbnQzMkJFPVYud3JpdGVVSW50MzJCRSxhLndyaXRlSW50OD1WLndyaXRlSW50OCxhLndyaXRlSW50MTZMRT1WLndyaXRlSW50MTZMRSxhLndyaXRlSW50MTZCRT1WLndyaXRlSW50MTZCRSxhLndyaXRlSW50MzJMRT1WLndyaXRlSW50MzJMRSxhLndyaXRlSW50MzJCRT1WLndyaXRlSW50MzJCRSxhLndyaXRlRmxvYXRMRT1WLndyaXRlRmxvYXRMRSxhLndyaXRlRmxvYXRCRT1WLndyaXRlRmxvYXRCRSxhLndyaXRlRG91YmxlTEU9Vi53cml0ZURvdWJsZUxFLGEud3JpdGVEb3VibGVCRT1WLndyaXRlRG91YmxlQkUsYS5maWxsPVYuZmlsbCxhLmluc3BlY3Q9Vi5pbnNwZWN0LGEudG9BcnJheUJ1ZmZlcj1WLnRvQXJyYXlCdWZmZXIsYX1mdW5jdGlvbiBFKGEsYixjKXtyZXR1cm5cIm51bWJlclwiIT10eXBlb2YgYT9jOihhPX5+YSxhPj1iP2I6YT49MD9hOihhKz1iLGE+PTA/YTowKSl9ZnVuY3Rpb24gRihhKXtyZXR1cm4gYT1+fk1hdGguY2VpbCgrYSksMD5hPzA6YX1mdW5jdGlvbiBHKGEpe3JldHVybihBcnJheS5pc0FycmF5fHxmdW5jdGlvbihhKXtyZXR1cm5cIltvYmplY3QgQXJyYXldXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSl9KShhKX1mdW5jdGlvbiBIKGEpe3JldHVybiBHKGEpfHxkLmlzQnVmZmVyKGEpfHxhJiZcIm9iamVjdFwiPT10eXBlb2YgYSYmXCJudW1iZXJcIj09dHlwZW9mIGEubGVuZ3RofWZ1bmN0aW9uIEkoYSl7cmV0dXJuIDE2PmE/XCIwXCIrYS50b1N0cmluZygxNik6YS50b1N0cmluZygxNil9ZnVuY3Rpb24gSihhKXtmb3IodmFyIGI9W10sYz0wO2M8YS5sZW5ndGg7YysrKXt2YXIgZD1hLmNoYXJDb2RlQXQoYyk7aWYoMTI3Pj1kKWIucHVzaChhLmNoYXJDb2RlQXQoYykpO2Vsc2V7dmFyIGU9YztkPj01NTI5NiYmNTczNDM+PWQmJmMrKztmb3IodmFyIGY9ZW5jb2RlVVJJQ29tcG9uZW50KGEuc2xpY2UoZSxjKzEpKS5zdWJzdHIoMSkuc3BsaXQoXCIlXCIpLGc9MDtnPGYubGVuZ3RoO2crKyliLnB1c2gocGFyc2VJbnQoZltnXSwxNikpfX1yZXR1cm4gYn1mdW5jdGlvbiBLKGEpe2Zvcih2YXIgYj1bXSxjPTA7YzxhLmxlbmd0aDtjKyspYi5wdXNoKDI1NSZhLmNoYXJDb2RlQXQoYykpO3JldHVybiBifWZ1bmN0aW9uIEwoYSl7Zm9yKHZhciBiLGMsZCxlPVtdLGY9MDtmPGEubGVuZ3RoO2YrKyliPWEuY2hhckNvZGVBdChmKSxjPWI+PjgsZD1iJTI1NixlLnB1c2goZCksZS5wdXNoKGMpO3JldHVybiBlfWZ1bmN0aW9uIE0oYSl7cmV0dXJuIFQudG9CeXRlQXJyYXkoYSl9ZnVuY3Rpb24gTihhLGIsYyxkKXtmb3IodmFyIGU9MDtkPmUmJiEoZStjPj1iLmxlbmd0aHx8ZT49YS5sZW5ndGgpO2UrKyliW2UrY109YVtlXTtyZXR1cm4gZX1mdW5jdGlvbiBPKGEpe3RyeXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGEpfWNhdGNoKGIpe3JldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKDY1NTMzKX19ZnVuY3Rpb24gUChhLGIpe1MoXCJudW1iZXJcIj09dHlwZW9mIGEsXCJjYW5ub3Qgd3JpdGUgYSBub24tbnVtYmVyIGFzIGEgbnVtYmVyXCIpLFMoYT49MCxcInNwZWNpZmllZCBhIG5lZ2F0aXZlIHZhbHVlIGZvciB3cml0aW5nIGFuIHVuc2lnbmVkIHZhbHVlXCIpLFMoYj49YSxcInZhbHVlIGlzIGxhcmdlciB0aGFuIG1heGltdW0gdmFsdWUgZm9yIHR5cGVcIiksUyhNYXRoLmZsb29yKGEpPT09YSxcInZhbHVlIGhhcyBhIGZyYWN0aW9uYWwgY29tcG9uZW50XCIpfWZ1bmN0aW9uIFEoYSxiLGMpe1MoXCJudW1iZXJcIj09dHlwZW9mIGEsXCJjYW5ub3Qgd3JpdGUgYSBub24tbnVtYmVyIGFzIGEgbnVtYmVyXCIpLFMoYj49YSxcInZhbHVlIGxhcmdlciB0aGFuIG1heGltdW0gYWxsb3dlZCB2YWx1ZVwiKSxTKGE+PWMsXCJ2YWx1ZSBzbWFsbGVyIHRoYW4gbWluaW11bSBhbGxvd2VkIHZhbHVlXCIpLFMoTWF0aC5mbG9vcihhKT09PWEsXCJ2YWx1ZSBoYXMgYSBmcmFjdGlvbmFsIGNvbXBvbmVudFwiKX1mdW5jdGlvbiBSKGEsYixjKXtTKFwibnVtYmVyXCI9PXR5cGVvZiBhLFwiY2Fubm90IHdyaXRlIGEgbm9uLW51bWJlciBhcyBhIG51bWJlclwiKSxTKGI+PWEsXCJ2YWx1ZSBsYXJnZXIgdGhhbiBtYXhpbXVtIGFsbG93ZWQgdmFsdWVcIiksUyhhPj1jLFwidmFsdWUgc21hbGxlciB0aGFuIG1pbmltdW0gYWxsb3dlZCB2YWx1ZVwiKX1mdW5jdGlvbiBTKGEsYil7aWYoIWEpdGhyb3cgbmV3IEVycm9yKGJ8fFwiRmFpbGVkIGFzc2VydGlvblwiKX12YXIgVD1hKFwiYmFzZTY0LWpzXCIpLFU9YShcImllZWU3NTRcIik7Yy5CdWZmZXI9ZCxjLlNsb3dCdWZmZXI9ZCxjLklOU1BFQ1RfTUFYX0JZVEVTPTUwLGQucG9vbFNpemU9ODE5MixkLl91c2VUeXBlZEFycmF5cz1mdW5jdGlvbigpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIFVpbnQ4QXJyYXl8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIEFycmF5QnVmZmVyKXJldHVybiExO3RyeXt2YXIgYT1uZXcgVWludDhBcnJheSgwKTtyZXR1cm4gYS5mb289ZnVuY3Rpb24oKXtyZXR1cm4gNDJ9LDQyPT09YS5mb28oKSYmXCJmdW5jdGlvblwiPT10eXBlb2YgYS5zdWJhcnJheX1jYXRjaChiKXtyZXR1cm4hMX19KCksZC5pc0VuY29kaW5nPWZ1bmN0aW9uKGEpe3N3aXRjaChTdHJpbmcoYSkudG9Mb3dlckNhc2UoKSl7Y2FzZVwiaGV4XCI6Y2FzZVwidXRmOFwiOmNhc2VcInV0Zi04XCI6Y2FzZVwiYXNjaWlcIjpjYXNlXCJiaW5hcnlcIjpjYXNlXCJiYXNlNjRcIjpjYXNlXCJyYXdcIjpjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpyZXR1cm4hMDtkZWZhdWx0OnJldHVybiExfX0sZC5pc0J1ZmZlcj1mdW5jdGlvbihhKXtyZXR1cm4hKG51bGw9PT1hfHx2b2lkIDA9PT1hfHwhYS5faXNCdWZmZXIpfSxkLmJ5dGVMZW5ndGg9ZnVuY3Rpb24oYSxiKXt2YXIgYztzd2l0Y2goYSs9XCJcIixifHxcInV0ZjhcIil7Y2FzZVwiaGV4XCI6Yz1hLmxlbmd0aC8yO2JyZWFrO2Nhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOmM9SihhKS5sZW5ndGg7YnJlYWs7Y2FzZVwiYXNjaWlcIjpjYXNlXCJiaW5hcnlcIjpjYXNlXCJyYXdcIjpjPWEubGVuZ3RoO2JyZWFrO2Nhc2VcImJhc2U2NFwiOmM9TShhKS5sZW5ndGg7YnJlYWs7Y2FzZVwidWNzMlwiOmNhc2VcInVjcy0yXCI6Y2FzZVwidXRmMTZsZVwiOmNhc2VcInV0Zi0xNmxlXCI6Yz0yKmEubGVuZ3RoO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBlbmNvZGluZ1wiKX1yZXR1cm4gY30sZC5jb25jYXQ9ZnVuY3Rpb24oYSxiKXtpZihTKEcoYSksXCJVc2FnZTogQnVmZmVyLmNvbmNhdChsaXN0LCBbdG90YWxMZW5ndGhdKVxcbmxpc3Qgc2hvdWxkIGJlIGFuIEFycmF5LlwiKSwwPT09YS5sZW5ndGgpcmV0dXJuIG5ldyBkKDApO2lmKDE9PT1hLmxlbmd0aClyZXR1cm4gYVswXTt2YXIgYztpZihcIm51bWJlclwiIT10eXBlb2YgYilmb3IoYj0wLGM9MDtjPGEubGVuZ3RoO2MrKyliKz1hW2NdLmxlbmd0aDt2YXIgZT1uZXcgZChiKSxmPTA7Zm9yKGM9MDtjPGEubGVuZ3RoO2MrKyl7dmFyIGc9YVtjXTtnLmNvcHkoZSxmKSxmKz1nLmxlbmd0aH1yZXR1cm4gZX0sZC5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oYSxiLGMsZCl7aWYoaXNGaW5pdGUoYikpaXNGaW5pdGUoYyl8fChkPWMsYz12b2lkIDApO2Vsc2V7dmFyIGs9ZDtkPWIsYj1jLGM9a31iPU51bWJlcihiKXx8MDt2YXIgbD10aGlzLmxlbmd0aC1iO2M/KGM9TnVtYmVyKGMpLGM+bCYmKGM9bCkpOmM9bCxkPVN0cmluZyhkfHxcInV0ZjhcIikudG9Mb3dlckNhc2UoKTt2YXIgbTtzd2l0Y2goZCl7Y2FzZVwiaGV4XCI6bT1lKHRoaXMsYSxiLGMpO2JyZWFrO2Nhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOm09Zih0aGlzLGEsYixjKTticmVhaztjYXNlXCJhc2NpaVwiOm09Zyh0aGlzLGEsYixjKTticmVhaztjYXNlXCJiaW5hcnlcIjptPWgodGhpcyxhLGIsYyk7YnJlYWs7Y2FzZVwiYmFzZTY0XCI6bT1pKHRoaXMsYSxiLGMpO2JyZWFrO2Nhc2VcInVjczJcIjpjYXNlXCJ1Y3MtMlwiOmNhc2VcInV0ZjE2bGVcIjpjYXNlXCJ1dGYtMTZsZVwiOm09aih0aGlzLGEsYixjKTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihcIlVua25vd24gZW5jb2RpbmdcIil9cmV0dXJuIG19LGQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzO2lmKGE9U3RyaW5nKGF8fFwidXRmOFwiKS50b0xvd2VyQ2FzZSgpLGI9TnVtYmVyKGIpfHwwLGM9dm9pZCAwIT09Yz9OdW1iZXIoYyk6Yz1kLmxlbmd0aCxjPT09YilyZXR1cm5cIlwiO3ZhciBlO3N3aXRjaChhKXtjYXNlXCJoZXhcIjplPW8oZCxiLGMpO2JyZWFrO2Nhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOmU9bChkLGIsYyk7YnJlYWs7Y2FzZVwiYXNjaWlcIjplPW0oZCxiLGMpO2JyZWFrO2Nhc2VcImJpbmFyeVwiOmU9bihkLGIsYyk7YnJlYWs7Y2FzZVwiYmFzZTY0XCI6ZT1rKGQsYixjKTticmVhaztjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjplPXAoZCxiLGMpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBlbmNvZGluZ1wiKX1yZXR1cm4gZX0sZC5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJue3R5cGU6XCJCdWZmZXJcIixkYXRhOkFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMuX2Fycnx8dGhpcywwKX19LGQucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9dGhpcztpZihjfHwoYz0wKSxkfHwwPT09ZHx8KGQ9dGhpcy5sZW5ndGgpLGJ8fChiPTApLGQhPT1jJiYwIT09YS5sZW5ndGgmJjAhPT1lLmxlbmd0aCl7UyhkPj1jLFwic291cmNlRW5kIDwgc291cmNlU3RhcnRcIiksUyhiPj0wJiZiPGEubGVuZ3RoLFwidGFyZ2V0U3RhcnQgb3V0IG9mIGJvdW5kc1wiKSxTKGM+PTAmJmM8ZS5sZW5ndGgsXCJzb3VyY2VTdGFydCBvdXQgb2YgYm91bmRzXCIpLFMoZD49MCYmZDw9ZS5sZW5ndGgsXCJzb3VyY2VFbmQgb3V0IG9mIGJvdW5kc1wiKSxkPnRoaXMubGVuZ3RoJiYoZD10aGlzLmxlbmd0aCksYS5sZW5ndGgtYjxkLWMmJihkPWEubGVuZ3RoLWIrYyk7Zm9yKHZhciBmPTA7ZC1jPmY7ZisrKWFbZitiXT10aGlzW2YrY119fSxkLnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMubGVuZ3RoO2lmKGE9RShhLGMsMCksYj1FKGIsYyxjKSxkLl91c2VUeXBlZEFycmF5cylyZXR1cm4gRCh0aGlzLnN1YmFycmF5KGEsYikpO2Zvcih2YXIgZT1iLWEsZj1uZXcgZChlLHZvaWQgMCwhMCksZz0wO2U+ZztnKyspZltnXT10aGlzW2crYV07cmV0dXJuIGZ9LGQucHJvdG90eXBlLmdldD1mdW5jdGlvbihhKXtyZXR1cm4gY29uc29sZS5sb2coXCIuZ2V0KCkgaXMgZGVwcmVjYXRlZC4gQWNjZXNzIHVzaW5nIGFycmF5IGluZGV4ZXMgaW5zdGVhZC5cIiksdGhpcy5yZWFkVUludDgoYSl9LGQucHJvdG90eXBlLnNldD1mdW5jdGlvbihhLGIpe3JldHVybiBjb25zb2xlLmxvZyhcIi5zZXQoKSBpcyBkZXByZWNhdGVkLiBBY2Nlc3MgdXNpbmcgYXJyYXkgaW5kZXhlcyBpbnN0ZWFkLlwiKSx0aGlzLndyaXRlVUludDgoYSxiKX0sZC5wcm90b3R5cGUucmVhZFVJbnQ4PWZ1bmN0aW9uKGEsYil7cmV0dXJuIGJ8fChTKHZvaWQgMCE9PWEmJm51bGwhPT1hLFwibWlzc2luZyBvZmZzZXRcIiksUyhhPHRoaXMubGVuZ3RoLFwiVHJ5aW5nIHRvIHJlYWQgYmV5b25kIGJ1ZmZlciBsZW5ndGhcIikpLGE+PXRoaXMubGVuZ3RoP3ZvaWQgMDp0aGlzW2FdfSxkLnByb3RvdHlwZS5yZWFkVUludDE2TEU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gcSh0aGlzLGEsITAsYil9LGQucHJvdG90eXBlLnJlYWRVSW50MTZCRT1mdW5jdGlvbihhLGIpe3JldHVybiBxKHRoaXMsYSwhMSxiKX0sZC5wcm90b3R5cGUucmVhZFVJbnQzMkxFPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHIodGhpcyxhLCEwLGIpfSxkLnByb3RvdHlwZS5yZWFkVUludDMyQkU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gcih0aGlzLGEsITEsYil9LGQucHJvdG90eXBlLnJlYWRJbnQ4PWZ1bmN0aW9uKGEsYil7aWYoYnx8KFModm9pZCAwIT09YSYmbnVsbCE9PWEsXCJtaXNzaW5nIG9mZnNldFwiKSxTKGE8dGhpcy5sZW5ndGgsXCJUcnlpbmcgdG8gcmVhZCBiZXlvbmQgYnVmZmVyIGxlbmd0aFwiKSksIShhPj10aGlzLmxlbmd0aCkpe3ZhciBjPTEyOCZ0aGlzW2FdO3JldHVybiBjPy0xKigyNTUtdGhpc1thXSsxKTp0aGlzW2FdfX0sZC5wcm90b3R5cGUucmVhZEludDE2TEU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gcyh0aGlzLGEsITAsYil9LGQucHJvdG90eXBlLnJlYWRJbnQxNkJFPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHModGhpcyxhLCExLGIpfSxkLnByb3RvdHlwZS5yZWFkSW50MzJMRT1mdW5jdGlvbihhLGIpe3JldHVybiB0KHRoaXMsYSwhMCxiKX0sZC5wcm90b3R5cGUucmVhZEludDMyQkU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdCh0aGlzLGEsITEsYil9LGQucHJvdG90eXBlLnJlYWRGbG9hdExFPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHUodGhpcyxhLCEwLGIpfSxkLnByb3RvdHlwZS5yZWFkRmxvYXRCRT1mdW5jdGlvbihhLGIpe3JldHVybiB1KHRoaXMsYSwhMSxiKX0sZC5wcm90b3R5cGUucmVhZERvdWJsZUxFPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHYodGhpcyxhLCEwLGIpfSxkLnByb3RvdHlwZS5yZWFkRG91YmxlQkU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdih0aGlzLGEsITEsYil9LGQucHJvdG90eXBlLndyaXRlVUludDg9ZnVuY3Rpb24oYSxiLGMpe2N8fChTKHZvaWQgMCE9PWEmJm51bGwhPT1hLFwibWlzc2luZyB2YWx1ZVwiKSxTKHZvaWQgMCE9PWImJm51bGwhPT1iLFwibWlzc2luZyBvZmZzZXRcIiksUyhiPHRoaXMubGVuZ3RoLFwidHJ5aW5nIHRvIHdyaXRlIGJleW9uZCBidWZmZXIgbGVuZ3RoXCIpLFAoYSwyNTUpKSxiPj10aGlzLmxlbmd0aHx8KHRoaXNbYl09YSl9LGQucHJvdG90eXBlLndyaXRlVUludDE2TEU9ZnVuY3Rpb24oYSxiLGMpe3codGhpcyxhLGIsITAsYyl9LGQucHJvdG90eXBlLndyaXRlVUludDE2QkU9ZnVuY3Rpb24oYSxiLGMpe3codGhpcyxhLGIsITEsYyl9LGQucHJvdG90eXBlLndyaXRlVUludDMyTEU9ZnVuY3Rpb24oYSxiLGMpe3godGhpcyxhLGIsITAsYyl9LGQucHJvdG90eXBlLndyaXRlVUludDMyQkU9ZnVuY3Rpb24oYSxiLGMpe3godGhpcyxhLGIsITEsYyl9LGQucHJvdG90eXBlLndyaXRlSW50OD1mdW5jdGlvbihhLGIsYyl7Y3x8KFModm9pZCAwIT09YSYmbnVsbCE9PWEsXCJtaXNzaW5nIHZhbHVlXCIpLFModm9pZCAwIT09YiYmbnVsbCE9PWIsXCJtaXNzaW5nIG9mZnNldFwiKSxTKGI8dGhpcy5sZW5ndGgsXCJUcnlpbmcgdG8gd3JpdGUgYmV5b25kIGJ1ZmZlciBsZW5ndGhcIiksUShhLDEyNywtMTI4KSksYj49dGhpcy5sZW5ndGh8fChhPj0wP3RoaXMud3JpdGVVSW50OChhLGIsYyk6dGhpcy53cml0ZVVJbnQ4KDI1NSthKzEsYixjKSl9LGQucHJvdG90eXBlLndyaXRlSW50MTZMRT1mdW5jdGlvbihhLGIsYyl7eSh0aGlzLGEsYiwhMCxjKX0sZC5wcm90b3R5cGUud3JpdGVJbnQxNkJFPWZ1bmN0aW9uKGEsYixjKXt5KHRoaXMsYSxiLCExLGMpfSxkLnByb3RvdHlwZS53cml0ZUludDMyTEU9ZnVuY3Rpb24oYSxiLGMpe3oodGhpcyxhLGIsITAsYyl9LGQucHJvdG90eXBlLndyaXRlSW50MzJCRT1mdW5jdGlvbihhLGIsYyl7eih0aGlzLGEsYiwhMSxjKX0sZC5wcm90b3R5cGUud3JpdGVGbG9hdExFPWZ1bmN0aW9uKGEsYixjKXtBKHRoaXMsYSxiLCEwLGMpfSxkLnByb3RvdHlwZS53cml0ZUZsb2F0QkU9ZnVuY3Rpb24oYSxiLGMpe0EodGhpcyxhLGIsITEsYyl9LGQucHJvdG90eXBlLndyaXRlRG91YmxlTEU9ZnVuY3Rpb24oYSxiLGMpe0IodGhpcyxhLGIsITAsYyl9LGQucHJvdG90eXBlLndyaXRlRG91YmxlQkU9ZnVuY3Rpb24oYSxiLGMpe0IodGhpcyxhLGIsITEsYyl9LGQucHJvdG90eXBlLmZpbGw9ZnVuY3Rpb24oYSxiLGMpe2lmKGF8fChhPTApLGJ8fChiPTApLGN8fChjPXRoaXMubGVuZ3RoKSxcInN0cmluZ1wiPT10eXBlb2YgYSYmKGE9YS5jaGFyQ29kZUF0KDApKSxTKFwibnVtYmVyXCI9PXR5cGVvZiBhJiYhaXNOYU4oYSksXCJ2YWx1ZSBpcyBub3QgYSBudW1iZXJcIiksUyhjPj1iLFwiZW5kIDwgc3RhcnRcIiksYyE9PWImJjAhPT10aGlzLmxlbmd0aCl7UyhiPj0wJiZiPHRoaXMubGVuZ3RoLFwic3RhcnQgb3V0IG9mIGJvdW5kc1wiKSxTKGM+PTAmJmM8PXRoaXMubGVuZ3RoLFwiZW5kIG91dCBvZiBib3VuZHNcIik7Zm9yKHZhciBkPWI7Yz5kO2QrKyl0aGlzW2RdPWF9fSxkLnByb3RvdHlwZS5pbnNwZWN0PWZ1bmN0aW9uKCl7Zm9yKHZhciBhPVtdLGI9dGhpcy5sZW5ndGgsZD0wO2I+ZDtkKyspaWYoYVtkXT1JKHRoaXNbZF0pLGQ9PT1jLklOU1BFQ1RfTUFYX0JZVEVTKXthW2QrMV09XCIuLi5cIjticmVha31yZXR1cm5cIjxCdWZmZXIgXCIrYS5qb2luKFwiIFwiKStcIj5cIn0sZC5wcm90b3R5cGUudG9BcnJheUJ1ZmZlcj1mdW5jdGlvbigpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFVpbnQ4QXJyYXkpe2lmKGQuX3VzZVR5cGVkQXJyYXlzKXJldHVybiBuZXcgZCh0aGlzKS5idWZmZXI7Zm9yKHZhciBhPW5ldyBVaW50OEFycmF5KHRoaXMubGVuZ3RoKSxiPTAsYz1hLmxlbmd0aDtjPmI7Yis9MSlhW2JdPXRoaXNbYl07cmV0dXJuIGEuYnVmZmVyfXRocm93IG5ldyBFcnJvcihcIkJ1ZmZlci50b0FycmF5QnVmZmVyIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyXCIpfTt2YXIgVj1kLnByb3RvdHlwZX0se1wiYmFzZTY0LWpzXCI6NyxpZWVlNzU0Ojh9XSw3OltmdW5jdGlvbihhLGIpe3ZhciBjPVwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrL1wiOyFmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGEoYSl7dmFyIGI9YS5jaGFyQ29kZUF0KDApO3JldHVybiBiPT09Zz82MjpiPT09aD82MzppPmI/LTE6aSsxMD5iP2ItaSsyNisyNjprKzI2PmI/Yi1rOmorMjY+Yj9iLWorMjY6dm9pZCAwfWZ1bmN0aW9uIGQoYil7ZnVuY3Rpb24gYyhhKXtqW2wrK109YX12YXIgZCxlLGcsaCxpLGo7aWYoYi5sZW5ndGglND4wKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgc3RyaW5nLiBMZW5ndGggbXVzdCBiZSBhIG11bHRpcGxlIG9mIDRcIik7dmFyIGs9Yi5sZW5ndGg7aT1cIj1cIj09PWIuY2hhckF0KGstMik/MjpcIj1cIj09PWIuY2hhckF0KGstMSk/MTowLGo9bmV3IGYoMypiLmxlbmd0aC80LWkpLGc9aT4wP2IubGVuZ3RoLTQ6Yi5sZW5ndGg7dmFyIGw9MDtmb3IoZD0wLGU9MDtnPmQ7ZCs9NCxlKz0zKWg9YShiLmNoYXJBdChkKSk8PDE4fGEoYi5jaGFyQXQoZCsxKSk8PDEyfGEoYi5jaGFyQXQoZCsyKSk8PDZ8YShiLmNoYXJBdChkKzMpKSxjKCgxNjcxMTY4MCZoKT4+MTYpLGMoKDY1MjgwJmgpPj44KSxjKDI1NSZoKTtyZXR1cm4gMj09PWk/KGg9YShiLmNoYXJBdChkKSk8PDJ8YShiLmNoYXJBdChkKzEpKT4+NCxjKDI1NSZoKSk6MT09PWkmJihoPWEoYi5jaGFyQXQoZCkpPDwxMHxhKGIuY2hhckF0KGQrMSkpPDw0fGEoYi5jaGFyQXQoZCsyKSk+PjIsYyhoPj44JjI1NSksYygyNTUmaCkpLGp9ZnVuY3Rpb24gZShhKXtmdW5jdGlvbiBiKGEpe3JldHVybiBjLmNoYXJBdChhKX1mdW5jdGlvbiBkKGEpe3JldHVybiBiKGE+PjE4JjYzKStiKGE+PjEyJjYzKStiKGE+PjYmNjMpK2IoNjMmYSl9dmFyIGUsZixnLGg9YS5sZW5ndGglMyxpPVwiXCI7Zm9yKGU9MCxnPWEubGVuZ3RoLWg7Zz5lO2UrPTMpZj0oYVtlXTw8MTYpKyhhW2UrMV08PDgpK2FbZSsyXSxpKz1kKGYpO3N3aXRjaChoKXtjYXNlIDE6Zj1hW2EubGVuZ3RoLTFdLGkrPWIoZj4+MiksaSs9YihmPDw0JjYzKSxpKz1cIj09XCI7YnJlYWs7Y2FzZSAyOmY9KGFbYS5sZW5ndGgtMl08PDgpK2FbYS5sZW5ndGgtMV0saSs9YihmPj4xMCksaSs9YihmPj40JjYzKSxpKz1iKGY8PDImNjMpLGkrPVwiPVwifXJldHVybiBpfXZhciBmPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBVaW50OEFycmF5P1VpbnQ4QXJyYXk6QXJyYXksZz0oXCIwXCIuY2hhckNvZGVBdCgwKSxcIitcIi5jaGFyQ29kZUF0KDApKSxoPVwiL1wiLmNoYXJDb2RlQXQoMCksaT1cIjBcIi5jaGFyQ29kZUF0KDApLGo9XCJhXCIuY2hhckNvZGVBdCgwKSxrPVwiQVwiLmNoYXJDb2RlQXQoMCk7Yi5leHBvcnRzLnRvQnl0ZUFycmF5PWQsYi5leHBvcnRzLmZyb21CeXRlQXJyYXk9ZX0oKX0se31dLDg6W2Z1bmN0aW9uKGEsYixjKXtjLnJlYWQ9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZixnLGg9OCplLWQtMSxpPSgxPDxoKS0xLGo9aT4+MSxrPS03LGw9Yz9lLTE6MCxtPWM/LTE6MSxuPWFbYitsXTtmb3IobCs9bSxmPW4mKDE8PC1rKS0xLG4+Pj0tayxrKz1oO2s+MDtmPTI1NipmK2FbYitsXSxsKz1tLGstPTgpO2ZvcihnPWYmKDE8PC1rKS0xLGY+Pj0tayxrKz1kO2s+MDtnPTI1NipnK2FbYitsXSxsKz1tLGstPTgpO2lmKDA9PT1mKWY9MS1qO2Vsc2V7aWYoZj09PWkpcmV0dXJuIGc/MC8wOjEvMCoobj8tMToxKTtnKz1NYXRoLnBvdygyLGQpLGYtPWp9cmV0dXJuKG4/LTE6MSkqZypNYXRoLnBvdygyLGYtZCl9LGMud3JpdGU9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3ZhciBnLGgsaSxqPTgqZi1lLTEsaz0oMTw8aiktMSxsPWs+PjEsbT0yMz09PWU/TWF0aC5wb3coMiwtMjQpLU1hdGgucG93KDIsLTc3KTowLG49ZD8wOmYtMSxvPWQ/MTotMSxwPTA+Ynx8MD09PWImJjA+MS9iPzE6MDtmb3IoYj1NYXRoLmFicyhiKSxpc05hTihiKXx8MS8wPT09Yj8oaD1pc05hTihiKT8xOjAsZz1rKTooZz1NYXRoLmZsb29yKE1hdGgubG9nKGIpL01hdGguTE4yKSxiKihpPU1hdGgucG93KDIsLWcpKTwxJiYoZy0tLGkqPTIpLGIrPWcrbD49MT9tL2k6bSpNYXRoLnBvdygyLDEtbCksYippPj0yJiYoZysrLGkvPTIpLGcrbD49az8oaD0wLGc9ayk6ZytsPj0xPyhoPShiKmktMSkqTWF0aC5wb3coMixlKSxnKz1sKTooaD1iKk1hdGgucG93KDIsbC0xKSpNYXRoLnBvdygyLGUpLGc9MCkpO2U+PTg7YVtjK25dPTI1NSZoLG4rPW8saC89MjU2LGUtPTgpO2ZvcihnPWc8PGV8aCxqKz1lO2o+MDthW2Mrbl09MjU1Jmcsbis9byxnLz0yNTYsai09OCk7YVtjK24tb118PTEyOCpwfX0se31dLDk6W2Z1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYygpe3RoaXMuX2V2ZW50cz10aGlzLl9ldmVudHN8fHt9LHRoaXMuX21heExpc3RlbmVycz10aGlzLl9tYXhMaXN0ZW5lcnN8fHZvaWQgMH1mdW5jdGlvbiBkKGEpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGF9ZnVuY3Rpb24gZShhKXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgYX1mdW5jdGlvbiBmKGEpe3JldHVyblwib2JqZWN0XCI9PXR5cGVvZiBhJiZudWxsIT09YX1mdW5jdGlvbiBnKGEpe3JldHVybiB2b2lkIDA9PT1hfWIuZXhwb3J0cz1jLGMuRXZlbnRFbWl0dGVyPWMsYy5wcm90b3R5cGUuX2V2ZW50cz12b2lkIDAsYy5wcm90b3R5cGUuX21heExpc3RlbmVycz12b2lkIDAsYy5kZWZhdWx0TWF4TGlzdGVuZXJzPTEwLGMucHJvdG90eXBlLnNldE1heExpc3RlbmVycz1mdW5jdGlvbihhKXtpZighZShhKXx8MD5hfHxpc05hTihhKSl0aHJvdyBUeXBlRXJyb3IoXCJuIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXJcIik7cmV0dXJuIHRoaXMuX21heExpc3RlbmVycz1hLHRoaXN9LGMucHJvdG90eXBlLmVtaXQ9ZnVuY3Rpb24oYSl7dmFyIGIsYyxlLGgsaSxqO2lmKHRoaXMuX2V2ZW50c3x8KHRoaXMuX2V2ZW50cz17fSksXCJlcnJvclwiPT09YSYmKCF0aGlzLl9ldmVudHMuZXJyb3J8fGYodGhpcy5fZXZlbnRzLmVycm9yKSYmIXRoaXMuX2V2ZW50cy5lcnJvci5sZW5ndGgpKXRocm93IGI9YXJndW1lbnRzWzFdLGIgaW5zdGFuY2VvZiBFcnJvcj9iOlR5cGVFcnJvcignVW5jYXVnaHQsIHVuc3BlY2lmaWVkIFwiZXJyb3JcIiBldmVudC4nKTtpZihjPXRoaXMuX2V2ZW50c1thXSxnKGMpKXJldHVybiExO2lmKGQoYykpc3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMTpjLmNhbGwodGhpcyk7YnJlYWs7Y2FzZSAyOmMuY2FsbCh0aGlzLGFyZ3VtZW50c1sxXSk7YnJlYWs7Y2FzZSAzOmMuY2FsbCh0aGlzLGFyZ3VtZW50c1sxXSxhcmd1bWVudHNbMl0pO2JyZWFrO2RlZmF1bHQ6Zm9yKGU9YXJndW1lbnRzLmxlbmd0aCxoPW5ldyBBcnJheShlLTEpLGk9MTtlPmk7aSsrKWhbaS0xXT1hcmd1bWVudHNbaV07Yy5hcHBseSh0aGlzLGgpfWVsc2UgaWYoZihjKSl7Zm9yKGU9YXJndW1lbnRzLmxlbmd0aCxoPW5ldyBBcnJheShlLTEpLGk9MTtlPmk7aSsrKWhbaS0xXT1hcmd1bWVudHNbaV07Zm9yKGo9Yy5zbGljZSgpLGU9ai5sZW5ndGgsaT0wO2U+aTtpKyspaltpXS5hcHBseSh0aGlzLGgpfXJldHVybiEwfSxjLnByb3RvdHlwZS5hZGRMaXN0ZW5lcj1mdW5jdGlvbihhLGIpe3ZhciBlO2lmKCFkKGIpKXRocm93IFR5cGVFcnJvcihcImxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvblwiKTtpZih0aGlzLl9ldmVudHN8fCh0aGlzLl9ldmVudHM9e30pLHRoaXMuX2V2ZW50cy5uZXdMaXN0ZW5lciYmdGhpcy5lbWl0KFwibmV3TGlzdGVuZXJcIixhLGQoYi5saXN0ZW5lcik/Yi5saXN0ZW5lcjpiKSx0aGlzLl9ldmVudHNbYV0/Zih0aGlzLl9ldmVudHNbYV0pP3RoaXMuX2V2ZW50c1thXS5wdXNoKGIpOnRoaXMuX2V2ZW50c1thXT1bdGhpcy5fZXZlbnRzW2FdLGJdOnRoaXMuX2V2ZW50c1thXT1iLGYodGhpcy5fZXZlbnRzW2FdKSYmIXRoaXMuX2V2ZW50c1thXS53YXJuZWQpe3ZhciBlO2U9Zyh0aGlzLl9tYXhMaXN0ZW5lcnMpP2MuZGVmYXVsdE1heExpc3RlbmVyczp0aGlzLl9tYXhMaXN0ZW5lcnMsZSYmZT4wJiZ0aGlzLl9ldmVudHNbYV0ubGVuZ3RoPmUmJih0aGlzLl9ldmVudHNbYV0ud2FybmVkPSEwLGNvbnNvbGUuZXJyb3IoXCIobm9kZSkgd2FybmluZzogcG9zc2libGUgRXZlbnRFbWl0dGVyIG1lbW9yeSBsZWFrIGRldGVjdGVkLiAlZCBsaXN0ZW5lcnMgYWRkZWQuIFVzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvIGluY3JlYXNlIGxpbWl0LlwiLHRoaXMuX2V2ZW50c1thXS5sZW5ndGgpLGNvbnNvbGUudHJhY2UoKSl9cmV0dXJuIHRoaXN9LGMucHJvdG90eXBlLm9uPWMucHJvdG90eXBlLmFkZExpc3RlbmVyLGMucHJvdG90eXBlLm9uY2U9ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKCl7dGhpcy5yZW1vdmVMaXN0ZW5lcihhLGMpLGV8fChlPSEwLGIuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1pZighZChiKSl0aHJvdyBUeXBlRXJyb3IoXCJsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb25cIik7dmFyIGU9ITE7cmV0dXJuIGMubGlzdGVuZXI9Yix0aGlzLm9uKGEsYyksdGhpc30sYy5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI9ZnVuY3Rpb24oYSxiKXt2YXIgYyxlLGcsaDtpZighZChiKSl0aHJvdyBUeXBlRXJyb3IoXCJsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb25cIik7aWYoIXRoaXMuX2V2ZW50c3x8IXRoaXMuX2V2ZW50c1thXSlyZXR1cm4gdGhpcztpZihjPXRoaXMuX2V2ZW50c1thXSxnPWMubGVuZ3RoLGU9LTEsYz09PWJ8fGQoYy5saXN0ZW5lcikmJmMubGlzdGVuZXI9PT1iKWRlbGV0ZSB0aGlzLl9ldmVudHNbYV0sdGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyJiZ0aGlzLmVtaXQoXCJyZW1vdmVMaXN0ZW5lclwiLGEsYik7ZWxzZSBpZihmKGMpKXtmb3IoaD1nO2gtLT4wOylpZihjW2hdPT09Ynx8Y1toXS5saXN0ZW5lciYmY1toXS5saXN0ZW5lcj09PWIpe2U9aDticmVha31pZigwPmUpcmV0dXJuIHRoaXM7MT09PWMubGVuZ3RoPyhjLmxlbmd0aD0wLGRlbGV0ZSB0aGlzLl9ldmVudHNbYV0pOmMuc3BsaWNlKGUsMSksdGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyJiZ0aGlzLmVtaXQoXCJyZW1vdmVMaXN0ZW5lclwiLGEsYil9cmV0dXJuIHRoaXN9LGMucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycz1mdW5jdGlvbihhKXt2YXIgYixjO2lmKCF0aGlzLl9ldmVudHMpcmV0dXJuIHRoaXM7aWYoIXRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcilyZXR1cm4gMD09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5fZXZlbnRzPXt9OnRoaXMuX2V2ZW50c1thXSYmZGVsZXRlIHRoaXMuX2V2ZW50c1thXSx0aGlzO2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXtmb3IoYiBpbiB0aGlzLl9ldmVudHMpXCJyZW1vdmVMaXN0ZW5lclwiIT09YiYmdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoYik7cmV0dXJuIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKFwicmVtb3ZlTGlzdGVuZXJcIiksdGhpcy5fZXZlbnRzPXt9LHRoaXN9aWYoYz10aGlzLl9ldmVudHNbYV0sZChjKSl0aGlzLnJlbW92ZUxpc3RlbmVyKGEsYyk7ZWxzZSBmb3IoO2MubGVuZ3RoOyl0aGlzLnJlbW92ZUxpc3RlbmVyKGEsY1tjLmxlbmd0aC0xXSk7cmV0dXJuIGRlbGV0ZSB0aGlzLl9ldmVudHNbYV0sdGhpc30sYy5wcm90b3R5cGUubGlzdGVuZXJzPWZ1bmN0aW9uKGEpe3ZhciBiO3JldHVybiBiPXRoaXMuX2V2ZW50cyYmdGhpcy5fZXZlbnRzW2FdP2QodGhpcy5fZXZlbnRzW2FdKT9bdGhpcy5fZXZlbnRzW2FdXTp0aGlzLl9ldmVudHNbYV0uc2xpY2UoKTpbXX0sYy5saXN0ZW5lckNvdW50PWZ1bmN0aW9uKGEsYil7dmFyIGM7cmV0dXJuIGM9YS5fZXZlbnRzJiZhLl9ldmVudHNbYl0/ZChhLl9ldmVudHNbYl0pPzE6YS5fZXZlbnRzW2JdLmxlbmd0aDowfX0se31dLDEwOltmdW5jdGlvbihhLGIpe3ZhciBjPWIuZXhwb3J0cz17fTtjLm5leHRUaWNrPWZ1bmN0aW9uKCl7dmFyIGE9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93LnNldEltbWVkaWF0ZSxiPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5wb3N0TWVzc2FnZSYmd2luZG93LmFkZEV2ZW50TGlzdGVuZXI7aWYoYSlyZXR1cm4gZnVuY3Rpb24oYSl7cmV0dXJuIHdpbmRvdy5zZXRJbW1lZGlhdGUoYSl9O2lmKGIpe3ZhciBjPVtdO3JldHVybiB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIixmdW5jdGlvbihhKXt2YXIgYj1hLnNvdXJjZTtpZigoYj09PXdpbmRvd3x8bnVsbD09PWIpJiZcInByb2Nlc3MtdGlja1wiPT09YS5kYXRhJiYoYS5zdG9wUHJvcGFnYXRpb24oKSxjLmxlbmd0aD4wKSl7dmFyIGQ9Yy5zaGlmdCgpO2QoKX19LCEwKSxmdW5jdGlvbihhKXtjLnB1c2goYSksd2luZG93LnBvc3RNZXNzYWdlKFwicHJvY2Vzcy10aWNrXCIsXCIqXCIpfX1yZXR1cm4gZnVuY3Rpb24oYSl7c2V0VGltZW91dChhLDApfX0oKSxjLnRpdGxlPVwiYnJvd3NlclwiLGMuYnJvd3Nlcj0hMCxjLmVudj17fSxjLmFyZ3Y9W10sYy5iaW5kaW5nPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWRcIil9LGMuY3dkPWZ1bmN0aW9uKCl7cmV0dXJuXCIvXCJ9LGMuY2hkaXI9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoXCJwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWRcIil9fSx7fV0sMTE6W2Z1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYyhhKXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIGM/KGcuY2FsbCh0aGlzLGEpLGguY2FsbCh0aGlzLGEpLGEmJmEucmVhZGFibGU9PT0hMSYmKHRoaXMucmVhZGFibGU9ITEpLGEmJmEud3JpdGFibGU9PT0hMSYmKHRoaXMud3JpdGFibGU9ITEpLHRoaXMuYWxsb3dIYWxmT3Blbj0hMCxhJiZhLmFsbG93SGFsZk9wZW49PT0hMSYmKHRoaXMuYWxsb3dIYWxmT3Blbj0hMSksdm9pZCB0aGlzLm9uY2UoXCJlbmRcIixkKSk6bmV3IGMoYSl9ZnVuY3Rpb24gZCgpe2lmKCF0aGlzLmFsbG93SGFsZk9wZW4mJiF0aGlzLl93cml0YWJsZVN0YXRlLmVuZGVkKXt2YXIgYT10aGlzO2YoZnVuY3Rpb24oKXthLmVuZCgpfSl9fWIuZXhwb3J0cz1jO3ZhciBlPWEoXCJpbmhlcml0c1wiKSxmPWEoXCJwcm9jZXNzL2Jyb3dzZXIuanNcIikubmV4dFRpY2ssZz1hKFwiLi9yZWFkYWJsZS5qc1wiKSxoPWEoXCIuL3dyaXRhYmxlLmpzXCIpO2UoYyxnKSxjLnByb3RvdHlwZS53cml0ZT1oLnByb3RvdHlwZS53cml0ZSxjLnByb3RvdHlwZS5lbmQ9aC5wcm90b3R5cGUuZW5kLGMucHJvdG90eXBlLl93cml0ZT1oLnByb3RvdHlwZS5fd3JpdGV9LHtcIi4vcmVhZGFibGUuanNcIjoxNSxcIi4vd3JpdGFibGUuanNcIjoxNyxpbmhlcml0czoxOSxcInByb2Nlc3MvYnJvd3Nlci5qc1wiOjEzfV0sMTI6W2Z1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYygpe2QuY2FsbCh0aGlzKX1iLmV4cG9ydHM9Yzt2YXIgZD1hKFwiZXZlbnRzXCIpLkV2ZW50RW1pdHRlcixlPWEoXCJpbmhlcml0c1wiKTtlKGMsZCksYy5SZWFkYWJsZT1hKFwiLi9yZWFkYWJsZS5qc1wiKSxjLldyaXRhYmxlPWEoXCIuL3dyaXRhYmxlLmpzXCIpLGMuRHVwbGV4PWEoXCIuL2R1cGxleC5qc1wiKSxjLlRyYW5zZm9ybT1hKFwiLi90cmFuc2Zvcm0uanNcIiksYy5QYXNzVGhyb3VnaD1hKFwiLi9wYXNzdGhyb3VnaC5qc1wiKSxjLlN0cmVhbT1jLGMucHJvdG90eXBlLnBpcGU9ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGIpe2Eud3JpdGFibGUmJiExPT09YS53cml0ZShiKSYmai5wYXVzZSYmai5wYXVzZSgpXG59ZnVuY3Rpb24gZSgpe2oucmVhZGFibGUmJmoucmVzdW1lJiZqLnJlc3VtZSgpfWZ1bmN0aW9uIGYoKXtrfHwoaz0hMCxhLmVuZCgpKX1mdW5jdGlvbiBnKCl7a3x8KGs9ITAsXCJmdW5jdGlvblwiPT10eXBlb2YgYS5kZXN0cm95JiZhLmRlc3Ryb3koKSl9ZnVuY3Rpb24gaChhKXtpZihpKCksMD09PWQubGlzdGVuZXJDb3VudCh0aGlzLFwiZXJyb3JcIikpdGhyb3cgYX1mdW5jdGlvbiBpKCl7ai5yZW1vdmVMaXN0ZW5lcihcImRhdGFcIixjKSxhLnJlbW92ZUxpc3RlbmVyKFwiZHJhaW5cIixlKSxqLnJlbW92ZUxpc3RlbmVyKFwiZW5kXCIsZiksai5yZW1vdmVMaXN0ZW5lcihcImNsb3NlXCIsZyksai5yZW1vdmVMaXN0ZW5lcihcImVycm9yXCIsaCksYS5yZW1vdmVMaXN0ZW5lcihcImVycm9yXCIsaCksai5yZW1vdmVMaXN0ZW5lcihcImVuZFwiLGkpLGoucmVtb3ZlTGlzdGVuZXIoXCJjbG9zZVwiLGkpLGEucmVtb3ZlTGlzdGVuZXIoXCJjbG9zZVwiLGkpfXZhciBqPXRoaXM7ai5vbihcImRhdGFcIixjKSxhLm9uKFwiZHJhaW5cIixlKSxhLl9pc1N0ZGlvfHxiJiZiLmVuZD09PSExfHwoai5vbihcImVuZFwiLGYpLGoub24oXCJjbG9zZVwiLGcpKTt2YXIgaz0hMTtyZXR1cm4gai5vbihcImVycm9yXCIsaCksYS5vbihcImVycm9yXCIsaCksai5vbihcImVuZFwiLGkpLGoub24oXCJjbG9zZVwiLGkpLGEub24oXCJjbG9zZVwiLGkpLGEuZW1pdChcInBpcGVcIixqKSxhfX0se1wiLi9kdXBsZXguanNcIjoxMSxcIi4vcGFzc3Rocm91Z2guanNcIjoxNCxcIi4vcmVhZGFibGUuanNcIjoxNSxcIi4vdHJhbnNmb3JtLmpzXCI6MTYsXCIuL3dyaXRhYmxlLmpzXCI6MTcsZXZlbnRzOjksaW5oZXJpdHM6MTl9XSwxMzpbZnVuY3Rpb24oYSxiKXtiLmV4cG9ydHM9YSgxMCl9LHt9XSwxNDpbZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGEpe3JldHVybiB0aGlzIGluc3RhbmNlb2YgYz92b2lkIGQuY2FsbCh0aGlzLGEpOm5ldyBjKGEpfWIuZXhwb3J0cz1jO3ZhciBkPWEoXCIuL3RyYW5zZm9ybS5qc1wiKSxlPWEoXCJpbmhlcml0c1wiKTtlKGMsZCksYy5wcm90b3R5cGUuX3RyYW5zZm9ybT1mdW5jdGlvbihhLGIsYyl7YyhudWxsLGEpfX0se1wiLi90cmFuc2Zvcm0uanNcIjoxNixpbmhlcml0czoxOX1dLDE1OltmdW5jdGlvbihhLGIpeyhmdW5jdGlvbihjKXtmdW5jdGlvbiBkKGIpe2I9Ynx8e307dmFyIGM9Yi5oaWdoV2F0ZXJNYXJrO3RoaXMuaGlnaFdhdGVyTWFyaz1jfHwwPT09Yz9jOjE2Mzg0LHRoaXMuaGlnaFdhdGVyTWFyaz1+fnRoaXMuaGlnaFdhdGVyTWFyayx0aGlzLmJ1ZmZlcj1bXSx0aGlzLmxlbmd0aD0wLHRoaXMucGlwZXM9bnVsbCx0aGlzLnBpcGVzQ291bnQ9MCx0aGlzLmZsb3dpbmc9ITEsdGhpcy5lbmRlZD0hMSx0aGlzLmVuZEVtaXR0ZWQ9ITEsdGhpcy5yZWFkaW5nPSExLHRoaXMuY2FsbGVkUmVhZD0hMSx0aGlzLnN5bmM9ITAsdGhpcy5uZWVkUmVhZGFibGU9ITEsdGhpcy5lbWl0dGVkUmVhZGFibGU9ITEsdGhpcy5yZWFkYWJsZUxpc3RlbmluZz0hMSx0aGlzLm9iamVjdE1vZGU9ISFiLm9iamVjdE1vZGUsdGhpcy5kZWZhdWx0RW5jb2Rpbmc9Yi5kZWZhdWx0RW5jb2Rpbmd8fFwidXRmOFwiLHRoaXMucmFuT3V0PSExLHRoaXMuYXdhaXREcmFpbj0wLHRoaXMucmVhZGluZ01vcmU9ITEsdGhpcy5kZWNvZGVyPW51bGwsdGhpcy5lbmNvZGluZz1udWxsLGIuZW5jb2RpbmcmJih4fHwoeD1hKFwic3RyaW5nX2RlY29kZXJcIikuU3RyaW5nRGVjb2RlciksdGhpcy5kZWNvZGVyPW5ldyB4KGIuZW5jb2RpbmcpLHRoaXMuZW5jb2Rpbmc9Yi5lbmNvZGluZyl9ZnVuY3Rpb24gZShhKXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIGU/KHRoaXMuX3JlYWRhYmxlU3RhdGU9bmV3IGQoYSx0aGlzKSx0aGlzLnJlYWRhYmxlPSEwLHZvaWQgei5jYWxsKHRoaXMpKTpuZXcgZShhKX1mdW5jdGlvbiBmKGEsYixjLGQsZSl7dmFyIGY9aihiLGMpO2lmKGYpYS5lbWl0KFwiZXJyb3JcIixmKTtlbHNlIGlmKG51bGw9PT1jfHx2b2lkIDA9PT1jKWIucmVhZGluZz0hMSxiLmVuZGVkfHxrKGEsYik7ZWxzZSBpZihiLm9iamVjdE1vZGV8fGMmJmMubGVuZ3RoPjApaWYoYi5lbmRlZCYmIWUpe3ZhciBoPW5ldyBFcnJvcihcInN0cmVhbS5wdXNoKCkgYWZ0ZXIgRU9GXCIpO2EuZW1pdChcImVycm9yXCIsaCl9ZWxzZSBpZihiLmVuZEVtaXR0ZWQmJmUpe3ZhciBoPW5ldyBFcnJvcihcInN0cmVhbS51bnNoaWZ0KCkgYWZ0ZXIgZW5kIGV2ZW50XCIpO2EuZW1pdChcImVycm9yXCIsaCl9ZWxzZSFiLmRlY29kZXJ8fGV8fGR8fChjPWIuZGVjb2Rlci53cml0ZShjKSksYi5sZW5ndGgrPWIub2JqZWN0TW9kZT8xOmMubGVuZ3RoLGU/Yi5idWZmZXIudW5zaGlmdChjKTooYi5yZWFkaW5nPSExLGIuYnVmZmVyLnB1c2goYykpLGIubmVlZFJlYWRhYmxlJiZsKGEpLG4oYSxiKTtlbHNlIGV8fChiLnJlYWRpbmc9ITEpO3JldHVybiBnKGIpfWZ1bmN0aW9uIGcoYSl7cmV0dXJuIWEuZW5kZWQmJihhLm5lZWRSZWFkYWJsZXx8YS5sZW5ndGg8YS5oaWdoV2F0ZXJNYXJrfHwwPT09YS5sZW5ndGgpfWZ1bmN0aW9uIGgoYSl7aWYoYT49RClhPUQ7ZWxzZXthLS07Zm9yKHZhciBiPTE7MzI+YjtiPDw9MSlhfD1hPj5iO2ErK31yZXR1cm4gYX1mdW5jdGlvbiBpKGEsYil7cmV0dXJuIDA9PT1iLmxlbmd0aCYmYi5lbmRlZD8wOmIub2JqZWN0TW9kZT8wPT09YT8wOjE6aXNOYU4oYSl8fG51bGw9PT1hP2IuZmxvd2luZyYmYi5idWZmZXIubGVuZ3RoP2IuYnVmZmVyWzBdLmxlbmd0aDpiLmxlbmd0aDowPj1hPzA6KGE+Yi5oaWdoV2F0ZXJNYXJrJiYoYi5oaWdoV2F0ZXJNYXJrPWgoYSkpLGE+Yi5sZW5ndGg/Yi5lbmRlZD9iLmxlbmd0aDooYi5uZWVkUmVhZGFibGU9ITAsMCk6YSl9ZnVuY3Rpb24gaihhLGIpe3ZhciBjPW51bGw7cmV0dXJuIEEuaXNCdWZmZXIoYil8fFwic3RyaW5nXCI9PXR5cGVvZiBifHxudWxsPT09Ynx8dm9pZCAwPT09Ynx8YS5vYmplY3RNb2RlfHxjfHwoYz1uZXcgVHlwZUVycm9yKFwiSW52YWxpZCBub24tc3RyaW5nL2J1ZmZlciBjaHVua1wiKSksY31mdW5jdGlvbiBrKGEsYil7aWYoYi5kZWNvZGVyJiYhYi5lbmRlZCl7dmFyIGM9Yi5kZWNvZGVyLmVuZCgpO2MmJmMubGVuZ3RoJiYoYi5idWZmZXIucHVzaChjKSxiLmxlbmd0aCs9Yi5vYmplY3RNb2RlPzE6Yy5sZW5ndGgpfWIuZW5kZWQ9ITAsYi5sZW5ndGg+MD9sKGEpOnUoYSl9ZnVuY3Rpb24gbChhKXt2YXIgYj1hLl9yZWFkYWJsZVN0YXRlO2IubmVlZFJlYWRhYmxlPSExLGIuZW1pdHRlZFJlYWRhYmxlfHwoYi5lbWl0dGVkUmVhZGFibGU9ITAsYi5zeW5jP0IoZnVuY3Rpb24oKXttKGEpfSk6bShhKSl9ZnVuY3Rpb24gbShhKXthLmVtaXQoXCJyZWFkYWJsZVwiKX1mdW5jdGlvbiBuKGEsYil7Yi5yZWFkaW5nTW9yZXx8KGIucmVhZGluZ01vcmU9ITAsQihmdW5jdGlvbigpe28oYSxiKX0pKX1mdW5jdGlvbiBvKGEsYil7Zm9yKHZhciBjPWIubGVuZ3RoOyFiLnJlYWRpbmcmJiFiLmZsb3dpbmcmJiFiLmVuZGVkJiZiLmxlbmd0aDxiLmhpZ2hXYXRlck1hcmsmJihhLnJlYWQoMCksYyE9PWIubGVuZ3RoKTspYz1iLmxlbmd0aDtiLnJlYWRpbmdNb3JlPSExfWZ1bmN0aW9uIHAoYSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGI9YS5fcmVhZGFibGVTdGF0ZTtiLmF3YWl0RHJhaW4tLSwwPT09Yi5hd2FpdERyYWluJiZxKGEpfX1mdW5jdGlvbiBxKGEpe2Z1bmN0aW9uIGIoYSl7dmFyIGI9YS53cml0ZShjKTshMT09PWImJmQuYXdhaXREcmFpbisrfXZhciBjLGQ9YS5fcmVhZGFibGVTdGF0ZTtmb3IoZC5hd2FpdERyYWluPTA7ZC5waXBlc0NvdW50JiZudWxsIT09KGM9YS5yZWFkKCkpOylpZigxPT09ZC5waXBlc0NvdW50P2IoZC5waXBlcywwLG51bGwpOnYoZC5waXBlcyxiKSxhLmVtaXQoXCJkYXRhXCIsYyksZC5hd2FpdERyYWluPjApcmV0dXJuO3JldHVybiAwPT09ZC5waXBlc0NvdW50PyhkLmZsb3dpbmc9ITEsdm9pZCh5Lmxpc3RlbmVyQ291bnQoYSxcImRhdGFcIik+MCYmcyhhKSkpOnZvaWQoZC5yYW5PdXQ9ITApfWZ1bmN0aW9uIHIoKXt0aGlzLl9yZWFkYWJsZVN0YXRlLnJhbk91dCYmKHRoaXMuX3JlYWRhYmxlU3RhdGUucmFuT3V0PSExLHEodGhpcykpfWZ1bmN0aW9uIHMoYSxiKXt2YXIgYz1hLl9yZWFkYWJsZVN0YXRlO2lmKGMuZmxvd2luZyl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3Qgc3dpdGNoIHRvIG9sZCBtb2RlIG5vdy5cIik7dmFyIGQ9Ynx8ITEsZT0hMTthLnJlYWRhYmxlPSEwLGEucGlwZT16LnByb3RvdHlwZS5waXBlLGEub249YS5hZGRMaXN0ZW5lcj16LnByb3RvdHlwZS5vbixhLm9uKFwicmVhZGFibGVcIixmdW5jdGlvbigpe2U9ITA7Zm9yKHZhciBiOyFkJiZudWxsIT09KGI9YS5yZWFkKCkpOylhLmVtaXQoXCJkYXRhXCIsYik7bnVsbD09PWImJihlPSExLGEuX3JlYWRhYmxlU3RhdGUubmVlZFJlYWRhYmxlPSEwKX0pLGEucGF1c2U9ZnVuY3Rpb24oKXtkPSEwLHRoaXMuZW1pdChcInBhdXNlXCIpfSxhLnJlc3VtZT1mdW5jdGlvbigpe2Q9ITEsZT9CKGZ1bmN0aW9uKCl7YS5lbWl0KFwicmVhZGFibGVcIil9KTp0aGlzLnJlYWQoMCksdGhpcy5lbWl0KFwicmVzdW1lXCIpfSxhLmVtaXQoXCJyZWFkYWJsZVwiKX1mdW5jdGlvbiB0KGEsYil7dmFyIGMsZD1iLmJ1ZmZlcixlPWIubGVuZ3RoLGY9ISFiLmRlY29kZXIsZz0hIWIub2JqZWN0TW9kZTtpZigwPT09ZC5sZW5ndGgpcmV0dXJuIG51bGw7aWYoMD09PWUpYz1udWxsO2Vsc2UgaWYoZyljPWQuc2hpZnQoKTtlbHNlIGlmKCFhfHxhPj1lKWM9Zj9kLmpvaW4oXCJcIik6QS5jb25jYXQoZCxlKSxkLmxlbmd0aD0wO2Vsc2UgaWYoYTxkWzBdLmxlbmd0aCl7dmFyIGg9ZFswXTtjPWguc2xpY2UoMCxhKSxkWzBdPWguc2xpY2UoYSl9ZWxzZSBpZihhPT09ZFswXS5sZW5ndGgpYz1kLnNoaWZ0KCk7ZWxzZXtjPWY/XCJcIjpuZXcgQShhKTtmb3IodmFyIGk9MCxqPTAsaz1kLmxlbmd0aDtrPmomJmE+aTtqKyspe3ZhciBoPWRbMF0sbD1NYXRoLm1pbihhLWksaC5sZW5ndGgpO2Y/Yys9aC5zbGljZSgwLGwpOmguY29weShjLGksMCxsKSxsPGgubGVuZ3RoP2RbMF09aC5zbGljZShsKTpkLnNoaWZ0KCksaSs9bH19cmV0dXJuIGN9ZnVuY3Rpb24gdShhKXt2YXIgYj1hLl9yZWFkYWJsZVN0YXRlO2lmKGIubGVuZ3RoPjApdGhyb3cgbmV3IEVycm9yKFwiZW5kUmVhZGFibGUgY2FsbGVkIG9uIG5vbi1lbXB0eSBzdHJlYW1cIik7IWIuZW5kRW1pdHRlZCYmYi5jYWxsZWRSZWFkJiYoYi5lbmRlZD0hMCxCKGZ1bmN0aW9uKCl7Yi5lbmRFbWl0dGVkfHwwIT09Yi5sZW5ndGh8fChiLmVuZEVtaXR0ZWQ9ITAsYS5yZWFkYWJsZT0hMSxhLmVtaXQoXCJlbmRcIikpfSkpfWZ1bmN0aW9uIHYoYSxiKXtmb3IodmFyIGM9MCxkPWEubGVuZ3RoO2Q+YztjKyspYihhW2NdLGMpfWZ1bmN0aW9uIHcoYSxiKXtmb3IodmFyIGM9MCxkPWEubGVuZ3RoO2Q+YztjKyspaWYoYVtjXT09PWIpcmV0dXJuIGM7cmV0dXJuLTF9Yi5leHBvcnRzPWUsZS5SZWFkYWJsZVN0YXRlPWQ7dmFyIHgseT1hKFwiZXZlbnRzXCIpLkV2ZW50RW1pdHRlcix6PWEoXCIuL2luZGV4LmpzXCIpLEE9YShcImJ1ZmZlclwiKS5CdWZmZXIsQj1hKFwicHJvY2Vzcy9icm93c2VyLmpzXCIpLm5leHRUaWNrLEM9YShcImluaGVyaXRzXCIpO0MoZSx6KSxlLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5fcmVhZGFibGVTdGF0ZTtyZXR1cm5cInN0cmluZ1wiIT10eXBlb2YgYXx8Yy5vYmplY3RNb2RlfHwoYj1ifHxjLmRlZmF1bHRFbmNvZGluZyxiIT09Yy5lbmNvZGluZyYmKGE9bmV3IEEoYSxiKSxiPVwiXCIpKSxmKHRoaXMsYyxhLGIsITEpfSxlLnByb3RvdHlwZS51bnNoaWZ0PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuX3JlYWRhYmxlU3RhdGU7cmV0dXJuIGYodGhpcyxiLGEsXCJcIiwhMCl9LGUucHJvdG90eXBlLnNldEVuY29kaW5nPWZ1bmN0aW9uKGIpe3h8fCh4PWEoXCJzdHJpbmdfZGVjb2RlclwiKS5TdHJpbmdEZWNvZGVyKSx0aGlzLl9yZWFkYWJsZVN0YXRlLmRlY29kZXI9bmV3IHgoYiksdGhpcy5fcmVhZGFibGVTdGF0ZS5lbmNvZGluZz1ifTt2YXIgRD04Mzg4NjA4O2UucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5fcmVhZGFibGVTdGF0ZTtiLmNhbGxlZFJlYWQ9ITA7dmFyIGM9YTtpZigoXCJudW1iZXJcIiE9dHlwZW9mIGF8fGE+MCkmJihiLmVtaXR0ZWRSZWFkYWJsZT0hMSksMD09PWEmJmIubmVlZFJlYWRhYmxlJiYoYi5sZW5ndGg+PWIuaGlnaFdhdGVyTWFya3x8Yi5lbmRlZCkpcmV0dXJuIGwodGhpcyksbnVsbDtpZihhPWkoYSxiKSwwPT09YSYmYi5lbmRlZClyZXR1cm4gMD09PWIubGVuZ3RoJiZ1KHRoaXMpLG51bGw7dmFyIGQ9Yi5uZWVkUmVhZGFibGU7Yi5sZW5ndGgtYTw9Yi5oaWdoV2F0ZXJNYXJrJiYoZD0hMCksKGIuZW5kZWR8fGIucmVhZGluZykmJihkPSExKSxkJiYoYi5yZWFkaW5nPSEwLGIuc3luYz0hMCwwPT09Yi5sZW5ndGgmJihiLm5lZWRSZWFkYWJsZT0hMCksdGhpcy5fcmVhZChiLmhpZ2hXYXRlck1hcmspLGIuc3luYz0hMSksZCYmIWIucmVhZGluZyYmKGE9aShjLGIpKTt2YXIgZTtyZXR1cm4gZT1hPjA/dChhLGIpOm51bGwsbnVsbD09PWUmJihiLm5lZWRSZWFkYWJsZT0hMCxhPTApLGIubGVuZ3RoLT1hLDAhPT1iLmxlbmd0aHx8Yi5lbmRlZHx8KGIubmVlZFJlYWRhYmxlPSEwKSxiLmVuZGVkJiYhYi5lbmRFbWl0dGVkJiYwPT09Yi5sZW5ndGgmJnUodGhpcyksZX0sZS5wcm90b3R5cGUuX3JlYWQ9ZnVuY3Rpb24oKXt0aGlzLmVtaXQoXCJlcnJvclwiLG5ldyBFcnJvcihcIm5vdCBpbXBsZW1lbnRlZFwiKSl9LGUucHJvdG90eXBlLnBpcGU9ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBkKGEpe2E9PT1rJiZmKCl9ZnVuY3Rpb24gZSgpe2EuZW5kKCl9ZnVuY3Rpb24gZigpe2EucmVtb3ZlTGlzdGVuZXIoXCJjbG9zZVwiLGgpLGEucmVtb3ZlTGlzdGVuZXIoXCJmaW5pc2hcIixpKSxhLnJlbW92ZUxpc3RlbmVyKFwiZHJhaW5cIixvKSxhLnJlbW92ZUxpc3RlbmVyKFwiZXJyb3JcIixnKSxhLnJlbW92ZUxpc3RlbmVyKFwidW5waXBlXCIsZCksay5yZW1vdmVMaXN0ZW5lcihcImVuZFwiLGUpLGsucmVtb3ZlTGlzdGVuZXIoXCJlbmRcIixmKSwoIWEuX3dyaXRhYmxlU3RhdGV8fGEuX3dyaXRhYmxlU3RhdGUubmVlZERyYWluKSYmbygpfWZ1bmN0aW9uIGcoYil7aigpLDA9PT1zJiYwPT09eS5saXN0ZW5lckNvdW50KGEsXCJlcnJvclwiKSYmYS5lbWl0KFwiZXJyb3JcIixiKX1mdW5jdGlvbiBoKCl7YS5yZW1vdmVMaXN0ZW5lcihcImZpbmlzaFwiLGkpLGooKX1mdW5jdGlvbiBpKCl7YS5yZW1vdmVMaXN0ZW5lcihcImNsb3NlXCIsaCksaigpfWZ1bmN0aW9uIGooKXtrLnVucGlwZShhKX12YXIgaz10aGlzLGw9dGhpcy5fcmVhZGFibGVTdGF0ZTtzd2l0Y2gobC5waXBlc0NvdW50KXtjYXNlIDA6bC5waXBlcz1hO2JyZWFrO2Nhc2UgMTpsLnBpcGVzPVtsLnBpcGVzLGFdO2JyZWFrO2RlZmF1bHQ6bC5waXBlcy5wdXNoKGEpfWwucGlwZXNDb3VudCs9MTt2YXIgbT0oIWJ8fGIuZW5kIT09ITEpJiZhIT09Yy5zdGRvdXQmJmEhPT1jLnN0ZGVycixuPW0/ZTpmO2wuZW5kRW1pdHRlZD9CKG4pOmsub25jZShcImVuZFwiLG4pLGEub24oXCJ1bnBpcGVcIixkKTt2YXIgbz1wKGspO2Eub24oXCJkcmFpblwiLG8pO3ZhciBzPXkubGlzdGVuZXJDb3VudChhLFwiZXJyb3JcIik7cmV0dXJuIGEub25jZShcImVycm9yXCIsZyksYS5vbmNlKFwiY2xvc2VcIixoKSxhLm9uY2UoXCJmaW5pc2hcIixpKSxhLmVtaXQoXCJwaXBlXCIsayksbC5mbG93aW5nfHwodGhpcy5vbihcInJlYWRhYmxlXCIsciksbC5mbG93aW5nPSEwLEIoZnVuY3Rpb24oKXtxKGspfSkpLGF9LGUucHJvdG90eXBlLnVucGlwZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLl9yZWFkYWJsZVN0YXRlO2lmKDA9PT1iLnBpcGVzQ291bnQpcmV0dXJuIHRoaXM7aWYoMT09PWIucGlwZXNDb3VudClyZXR1cm4gYSYmYSE9PWIucGlwZXM/dGhpczooYXx8KGE9Yi5waXBlcyksYi5waXBlcz1udWxsLGIucGlwZXNDb3VudD0wLHRoaXMucmVtb3ZlTGlzdGVuZXIoXCJyZWFkYWJsZVwiLHIpLGIuZmxvd2luZz0hMSxhJiZhLmVtaXQoXCJ1bnBpcGVcIix0aGlzKSx0aGlzKTtpZighYSl7dmFyIGM9Yi5waXBlcyxkPWIucGlwZXNDb3VudDtiLnBpcGVzPW51bGwsYi5waXBlc0NvdW50PTAsdGhpcy5yZW1vdmVMaXN0ZW5lcihcInJlYWRhYmxlXCIsciksYi5mbG93aW5nPSExO2Zvcih2YXIgZT0wO2Q+ZTtlKyspY1tlXS5lbWl0KFwidW5waXBlXCIsdGhpcyk7cmV0dXJuIHRoaXN9dmFyIGU9dyhiLnBpcGVzLGEpO3JldHVybi0xPT09ZT90aGlzOihiLnBpcGVzLnNwbGljZShlLDEpLGIucGlwZXNDb3VudC09MSwxPT09Yi5waXBlc0NvdW50JiYoYi5waXBlcz1iLnBpcGVzWzBdKSxhLmVtaXQoXCJ1bnBpcGVcIix0aGlzKSx0aGlzKX0sZS5wcm90b3R5cGUub249ZnVuY3Rpb24oYSxiKXt2YXIgYz16LnByb3RvdHlwZS5vbi5jYWxsKHRoaXMsYSxiKTtpZihcImRhdGFcIiE9PWF8fHRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZ3x8cyh0aGlzKSxcInJlYWRhYmxlXCI9PT1hJiZ0aGlzLnJlYWRhYmxlKXt2YXIgZD10aGlzLl9yZWFkYWJsZVN0YXRlO2QucmVhZGFibGVMaXN0ZW5pbmd8fChkLnJlYWRhYmxlTGlzdGVuaW5nPSEwLGQuZW1pdHRlZFJlYWRhYmxlPSExLGQubmVlZFJlYWRhYmxlPSEwLGQucmVhZGluZz9kLmxlbmd0aCYmbCh0aGlzLGQpOnRoaXMucmVhZCgwKSl9cmV0dXJuIGN9LGUucHJvdG90eXBlLmFkZExpc3RlbmVyPWUucHJvdG90eXBlLm9uLGUucHJvdG90eXBlLnJlc3VtZT1mdW5jdGlvbigpe3ModGhpcyksdGhpcy5yZWFkKDApLHRoaXMuZW1pdChcInJlc3VtZVwiKX0sZS5wcm90b3R5cGUucGF1c2U9ZnVuY3Rpb24oKXtzKHRoaXMsITApLHRoaXMuZW1pdChcInBhdXNlXCIpfSxlLnByb3RvdHlwZS53cmFwPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuX3JlYWRhYmxlU3RhdGUsYz0hMSxkPXRoaXM7YS5vbihcImVuZFwiLGZ1bmN0aW9uKCl7aWYoYi5kZWNvZGVyJiYhYi5lbmRlZCl7dmFyIGE9Yi5kZWNvZGVyLmVuZCgpO2EmJmEubGVuZ3RoJiZkLnB1c2goYSl9ZC5wdXNoKG51bGwpfSksYS5vbihcImRhdGFcIixmdW5jdGlvbihlKXtpZihiLmRlY29kZXImJihlPWIuZGVjb2Rlci53cml0ZShlKSksZSYmKGIub2JqZWN0TW9kZXx8ZS5sZW5ndGgpKXt2YXIgZj1kLnB1c2goZSk7Znx8KGM9ITAsYS5wYXVzZSgpKX19KTtmb3IodmFyIGUgaW4gYSlcImZ1bmN0aW9uXCI9PXR5cGVvZiBhW2VdJiZcInVuZGVmaW5lZFwiPT10eXBlb2YgdGhpc1tlXSYmKHRoaXNbZV09ZnVuY3Rpb24oYil7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGFbYl0uYXBwbHkoYSxhcmd1bWVudHMpfX0oZSkpO3ZhciBmPVtcImVycm9yXCIsXCJjbG9zZVwiLFwiZGVzdHJveVwiLFwicGF1c2VcIixcInJlc3VtZVwiXTtyZXR1cm4gdihmLGZ1bmN0aW9uKGIpe2Eub24oYixmdW5jdGlvbihhKXtyZXR1cm4gZC5lbWl0LmFwcGx5KGQsYixhKX0pfSksZC5fcmVhZD1mdW5jdGlvbigpe2MmJihjPSExLGEucmVzdW1lKCkpfSxkfSxlLl9mcm9tTGlzdD10fSkuY2FsbCh0aGlzLGEoXCIvVXNlcnMvaGFydGgvcmVwb3MvYnJhaW4vbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2luc2VydC1tb2R1bGUtZ2xvYmFscy9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzXCIpKX0se1wiLi9pbmRleC5qc1wiOjEyLFwiL1VzZXJzL2hhcnRoL3JlcG9zL2JyYWluL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9pbnNlcnQtbW9kdWxlLWdsb2JhbHMvbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qc1wiOjEwLGJ1ZmZlcjo2LGV2ZW50czo5LGluaGVyaXRzOjE5LFwicHJvY2Vzcy9icm93c2VyLmpzXCI6MTMsc3RyaW5nX2RlY29kZXI6MTh9XSwxNjpbZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGEsYil7dGhpcy5hZnRlclRyYW5zZm9ybT1mdW5jdGlvbihhLGMpe3JldHVybiBkKGIsYSxjKX0sdGhpcy5uZWVkVHJhbnNmb3JtPSExLHRoaXMudHJhbnNmb3JtaW5nPSExLHRoaXMud3JpdGVjYj1udWxsLHRoaXMud3JpdGVjaHVuaz1udWxsfWZ1bmN0aW9uIGQoYSxiLGMpe3ZhciBkPWEuX3RyYW5zZm9ybVN0YXRlO2QudHJhbnNmb3JtaW5nPSExO3ZhciBlPWQud3JpdGVjYjtpZighZSlyZXR1cm4gYS5lbWl0KFwiZXJyb3JcIixuZXcgRXJyb3IoXCJubyB3cml0ZWNiIGluIFRyYW5zZm9ybSBjbGFzc1wiKSk7ZC53cml0ZWNodW5rPW51bGwsZC53cml0ZWNiPW51bGwsbnVsbCE9PWMmJnZvaWQgMCE9PWMmJmEucHVzaChjKSxlJiZlKGIpO3ZhciBmPWEuX3JlYWRhYmxlU3RhdGU7Zi5yZWFkaW5nPSExLChmLm5lZWRSZWFkYWJsZXx8Zi5sZW5ndGg8Zi5oaWdoV2F0ZXJNYXJrKSYmYS5fcmVhZChmLmhpZ2hXYXRlck1hcmspfWZ1bmN0aW9uIGUoYSl7aWYoISh0aGlzIGluc3RhbmNlb2YgZSkpcmV0dXJuIG5ldyBlKGEpO2cuY2FsbCh0aGlzLGEpO3ZhciBiPSh0aGlzLl90cmFuc2Zvcm1TdGF0ZT1uZXcgYyhhLHRoaXMpLHRoaXMpO3RoaXMuX3JlYWRhYmxlU3RhdGUubmVlZFJlYWRhYmxlPSEwLHRoaXMuX3JlYWRhYmxlU3RhdGUuc3luYz0hMSx0aGlzLm9uY2UoXCJmaW5pc2hcIixmdW5jdGlvbigpe1wiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMuX2ZsdXNoP3RoaXMuX2ZsdXNoKGZ1bmN0aW9uKGEpe2YoYixhKX0pOmYoYil9KX1mdW5jdGlvbiBmKGEsYil7aWYoYilyZXR1cm4gYS5lbWl0KFwiZXJyb3JcIixiKTt2YXIgYz1hLl93cml0YWJsZVN0YXRlLGQ9KGEuX3JlYWRhYmxlU3RhdGUsYS5fdHJhbnNmb3JtU3RhdGUpO2lmKGMubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcImNhbGxpbmcgdHJhbnNmb3JtIGRvbmUgd2hlbiB3cy5sZW5ndGggIT0gMFwiKTtpZihkLnRyYW5zZm9ybWluZyl0aHJvdyBuZXcgRXJyb3IoXCJjYWxsaW5nIHRyYW5zZm9ybSBkb25lIHdoZW4gc3RpbGwgdHJhbnNmb3JtaW5nXCIpO3JldHVybiBhLnB1c2gobnVsbCl9Yi5leHBvcnRzPWU7dmFyIGc9YShcIi4vZHVwbGV4LmpzXCIpLGg9YShcImluaGVyaXRzXCIpO2goZSxnKSxlLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuX3RyYW5zZm9ybVN0YXRlLm5lZWRUcmFuc2Zvcm09ITEsZy5wcm90b3R5cGUucHVzaC5jYWxsKHRoaXMsYSxiKX0sZS5wcm90b3R5cGUuX3RyYW5zZm9ybT1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcihcIm5vdCBpbXBsZW1lbnRlZFwiKX0sZS5wcm90b3R5cGUuX3dyaXRlPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLl90cmFuc2Zvcm1TdGF0ZTtpZihkLndyaXRlY2I9YyxkLndyaXRlY2h1bms9YSxkLndyaXRlZW5jb2Rpbmc9YiwhZC50cmFuc2Zvcm1pbmcpe3ZhciBlPXRoaXMuX3JlYWRhYmxlU3RhdGU7KGQubmVlZFRyYW5zZm9ybXx8ZS5uZWVkUmVhZGFibGV8fGUubGVuZ3RoPGUuaGlnaFdhdGVyTWFyaykmJnRoaXMuX3JlYWQoZS5oaWdoV2F0ZXJNYXJrKX19LGUucHJvdG90eXBlLl9yZWFkPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fdHJhbnNmb3JtU3RhdGU7YS53cml0ZWNodW5rJiZhLndyaXRlY2ImJiFhLnRyYW5zZm9ybWluZz8oYS50cmFuc2Zvcm1pbmc9ITAsdGhpcy5fdHJhbnNmb3JtKGEud3JpdGVjaHVuayxhLndyaXRlZW5jb2RpbmcsYS5hZnRlclRyYW5zZm9ybSkpOmEubmVlZFRyYW5zZm9ybT0hMH19LHtcIi4vZHVwbGV4LmpzXCI6MTEsaW5oZXJpdHM6MTl9XSwxNzpbZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGEsYixjKXt0aGlzLmNodW5rPWEsdGhpcy5lbmNvZGluZz1iLHRoaXMuY2FsbGJhY2s9Y31mdW5jdGlvbiBkKGEsYil7YT1hfHx7fTt2YXIgYz1hLmhpZ2hXYXRlck1hcms7dGhpcy5oaWdoV2F0ZXJNYXJrPWN8fDA9PT1jP2M6MTYzODQsdGhpcy5vYmplY3RNb2RlPSEhYS5vYmplY3RNb2RlLHRoaXMuaGlnaFdhdGVyTWFyaz1+fnRoaXMuaGlnaFdhdGVyTWFyayx0aGlzLm5lZWREcmFpbj0hMSx0aGlzLmVuZGluZz0hMSx0aGlzLmVuZGVkPSExLHRoaXMuZmluaXNoZWQ9ITE7dmFyIGQ9YS5kZWNvZGVTdHJpbmdzPT09ITE7dGhpcy5kZWNvZGVTdHJpbmdzPSFkLHRoaXMuZGVmYXVsdEVuY29kaW5nPWEuZGVmYXVsdEVuY29kaW5nfHxcInV0ZjhcIix0aGlzLmxlbmd0aD0wLHRoaXMud3JpdGluZz0hMSx0aGlzLnN5bmM9ITAsdGhpcy5idWZmZXJQcm9jZXNzaW5nPSExLHRoaXMub253cml0ZT1mdW5jdGlvbihhKXttKGIsYSl9LHRoaXMud3JpdGVjYj1udWxsLHRoaXMud3JpdGVsZW49MCx0aGlzLmJ1ZmZlcj1bXX1mdW5jdGlvbiBlKGEpe3JldHVybiB0aGlzIGluc3RhbmNlb2YgZXx8dGhpcyBpbnN0YW5jZW9mIHcuRHVwbGV4Pyh0aGlzLl93cml0YWJsZVN0YXRlPW5ldyBkKGEsdGhpcyksdGhpcy53cml0YWJsZT0hMCx2b2lkIHcuY2FsbCh0aGlzKSk6bmV3IGUoYSl9ZnVuY3Rpb24gZihhLGIsYyl7dmFyIGQ9bmV3IEVycm9yKFwid3JpdGUgYWZ0ZXIgZW5kXCIpO2EuZW1pdChcImVycm9yXCIsZCkseChmdW5jdGlvbigpe2MoZCl9KX1mdW5jdGlvbiBnKGEsYixjLGQpe3ZhciBlPSEwO2lmKCF5LmlzQnVmZmVyKGMpJiZcInN0cmluZ1wiIT10eXBlb2YgYyYmbnVsbCE9PWMmJnZvaWQgMCE9PWMmJiFiLm9iamVjdE1vZGUpe3ZhciBmPW5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIG5vbi1zdHJpbmcvYnVmZmVyIGNodW5rXCIpO2EuZW1pdChcImVycm9yXCIsZikseChmdW5jdGlvbigpe2QoZil9KSxlPSExfXJldHVybiBlfWZ1bmN0aW9uIGgoYSxiLGMpe3JldHVybiBhLm9iamVjdE1vZGV8fGEuZGVjb2RlU3RyaW5ncz09PSExfHxcInN0cmluZ1wiIT10eXBlb2YgYnx8KGI9bmV3IHkoYixjKSksYn1mdW5jdGlvbiBpKGEsYixkLGUsZil7ZD1oKGIsZCxlKTt2YXIgZz1iLm9iamVjdE1vZGU/MTpkLmxlbmd0aDtiLmxlbmd0aCs9Zzt2YXIgaT1iLmxlbmd0aDxiLmhpZ2hXYXRlck1hcms7cmV0dXJuIGIubmVlZERyYWluPSFpLGIud3JpdGluZz9iLmJ1ZmZlci5wdXNoKG5ldyBjKGQsZSxmKSk6aihhLGIsZyxkLGUsZiksaX1mdW5jdGlvbiBqKGEsYixjLGQsZSxmKXtiLndyaXRlbGVuPWMsYi53cml0ZWNiPWYsYi53cml0aW5nPSEwLGIuc3luYz0hMCxhLl93cml0ZShkLGUsYi5vbndyaXRlKSxiLnN5bmM9ITF9ZnVuY3Rpb24gayhhLGIsYyxkLGUpe2M/eChmdW5jdGlvbigpe2UoZCl9KTplKGQpLGEuZW1pdChcImVycm9yXCIsZCl9ZnVuY3Rpb24gbChhKXthLndyaXRpbmc9ITEsYS53cml0ZWNiPW51bGwsYS5sZW5ndGgtPWEud3JpdGVsZW4sYS53cml0ZWxlbj0wfWZ1bmN0aW9uIG0oYSxiKXt2YXIgYz1hLl93cml0YWJsZVN0YXRlLGQ9Yy5zeW5jLGU9Yy53cml0ZWNiO2lmKGwoYyksYilrKGEsYyxkLGIsZSk7ZWxzZXt2YXIgZj1xKGEsYyk7Znx8Yy5idWZmZXJQcm9jZXNzaW5nfHwhYy5idWZmZXIubGVuZ3RofHxwKGEsYyksZD94KGZ1bmN0aW9uKCl7bihhLGMsZixlKX0pOm4oYSxjLGYsZSl9fWZ1bmN0aW9uIG4oYSxiLGMsZCl7Y3x8byhhLGIpLGQoKSxjJiZyKGEsYil9ZnVuY3Rpb24gbyhhLGIpezA9PT1iLmxlbmd0aCYmYi5uZWVkRHJhaW4mJihiLm5lZWREcmFpbj0hMSxhLmVtaXQoXCJkcmFpblwiKSl9ZnVuY3Rpb24gcChhLGIpe2IuYnVmZmVyUHJvY2Vzc2luZz0hMDtmb3IodmFyIGM9MDtjPGIuYnVmZmVyLmxlbmd0aDtjKyspe3ZhciBkPWIuYnVmZmVyW2NdLGU9ZC5jaHVuayxmPWQuZW5jb2RpbmcsZz1kLmNhbGxiYWNrLGg9Yi5vYmplY3RNb2RlPzE6ZS5sZW5ndGg7aWYoaihhLGIsaCxlLGYsZyksYi53cml0aW5nKXtjKys7YnJlYWt9fWIuYnVmZmVyUHJvY2Vzc2luZz0hMSxjPGIuYnVmZmVyLmxlbmd0aD9iLmJ1ZmZlcj1iLmJ1ZmZlci5zbGljZShjKTpiLmJ1ZmZlci5sZW5ndGg9MH1mdW5jdGlvbiBxKGEsYil7cmV0dXJuIGIuZW5kaW5nJiYwPT09Yi5sZW5ndGgmJiFiLmZpbmlzaGVkJiYhYi53cml0aW5nfWZ1bmN0aW9uIHIoYSxiKXt2YXIgYz1xKGEsYik7cmV0dXJuIGMmJihiLmZpbmlzaGVkPSEwLGEuZW1pdChcImZpbmlzaFwiKSksY31mdW5jdGlvbiBzKGEsYixjKXtiLmVuZGluZz0hMCxyKGEsYiksYyYmKGIuZmluaXNoZWQ/eChjKTphLm9uY2UoXCJmaW5pc2hcIixjKSksYi5lbmRlZD0hMH1iLmV4cG9ydHM9ZSxlLldyaXRhYmxlU3RhdGU9ZDt2YXIgdD1cInVuZGVmaW5lZFwiIT10eXBlb2YgVWludDhBcnJheT9mdW5jdGlvbihhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXl9OmZ1bmN0aW9uKGEpe3JldHVybiBhJiZhLmNvbnN0cnVjdG9yJiZcIlVpbnQ4QXJyYXlcIj09PWEuY29uc3RydWN0b3IubmFtZX0sdT1cInVuZGVmaW5lZFwiIT10eXBlb2YgQXJyYXlCdWZmZXI/ZnVuY3Rpb24oYSl7cmV0dXJuIGEgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcn06ZnVuY3Rpb24oYSl7cmV0dXJuIGEmJmEuY29uc3RydWN0b3ImJlwiQXJyYXlCdWZmZXJcIj09PWEuY29uc3RydWN0b3IubmFtZX0sdj1hKFwiaW5oZXJpdHNcIiksdz1hKFwiLi9pbmRleC5qc1wiKSx4PWEoXCJwcm9jZXNzL2Jyb3dzZXIuanNcIikubmV4dFRpY2sseT1hKFwiYnVmZmVyXCIpLkJ1ZmZlcjt2KGUsdyksZS5wcm90b3R5cGUucGlwZT1mdW5jdGlvbigpe3RoaXMuZW1pdChcImVycm9yXCIsbmV3IEVycm9yKFwiQ2Fubm90IHBpcGUuIE5vdCByZWFkYWJsZS5cIikpfSxlLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5fd3JpdGFibGVTdGF0ZSxlPSExO3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGImJihjPWIsYj1udWxsKSwheS5pc0J1ZmZlcihhKSYmdChhKSYmKGE9bmV3IHkoYSkpLHUoYSkmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBVaW50OEFycmF5JiYoYT1uZXcgeShuZXcgVWludDhBcnJheShhKSkpLHkuaXNCdWZmZXIoYSk/Yj1cImJ1ZmZlclwiOmJ8fChiPWQuZGVmYXVsdEVuY29kaW5nKSxcImZ1bmN0aW9uXCIhPXR5cGVvZiBjJiYoYz1mdW5jdGlvbigpe30pLGQuZW5kZWQ/Zih0aGlzLGQsYyk6Zyh0aGlzLGQsYSxjKSYmKGU9aSh0aGlzLGQsYSxiLGMpKSxlfSxlLnByb3RvdHlwZS5fd3JpdGU9ZnVuY3Rpb24oYSxiLGMpe2MobmV3IEVycm9yKFwibm90IGltcGxlbWVudGVkXCIpKX0sZS5wcm90b3R5cGUuZW5kPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLl93cml0YWJsZVN0YXRlO1wiZnVuY3Rpb25cIj09dHlwZW9mIGE/KGM9YSxhPW51bGwsYj1udWxsKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBiJiYoYz1iLGI9bnVsbCksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEmJm51bGwhPT1hJiZ0aGlzLndyaXRlKGEsYiksZC5lbmRpbmd8fGQuZmluaXNoZWR8fHModGhpcyxkLGMpfX0se1wiLi9pbmRleC5qc1wiOjEyLGJ1ZmZlcjo2LGluaGVyaXRzOjE5LFwicHJvY2Vzcy9icm93c2VyLmpzXCI6MTN9XSwxODpbZnVuY3Rpb24oYSxiLGMpe2Z1bmN0aW9uIGQoYSl7aWYoYSYmIWguaXNFbmNvZGluZyhhKSl0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIGVuY29kaW5nOiBcIithKX1mdW5jdGlvbiBlKGEpe3JldHVybiBhLnRvU3RyaW5nKHRoaXMuZW5jb2RpbmcpfWZ1bmN0aW9uIGYoYSl7dmFyIGI9dGhpcy5jaGFyUmVjZWl2ZWQ9YS5sZW5ndGglMjtyZXR1cm4gdGhpcy5jaGFyTGVuZ3RoPWI/MjowLGJ9ZnVuY3Rpb24gZyhhKXt2YXIgYj10aGlzLmNoYXJSZWNlaXZlZD1hLmxlbmd0aCUzO3JldHVybiB0aGlzLmNoYXJMZW5ndGg9Yj8zOjAsYn12YXIgaD1hKFwiYnVmZmVyXCIpLkJ1ZmZlcixpPWMuU3RyaW5nRGVjb2Rlcj1mdW5jdGlvbihhKXtzd2l0Y2godGhpcy5lbmNvZGluZz0oYXx8XCJ1dGY4XCIpLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvWy1fXS8sXCJcIiksZChhKSx0aGlzLmVuY29kaW5nKXtjYXNlXCJ1dGY4XCI6dGhpcy5zdXJyb2dhdGVTaXplPTM7YnJlYWs7Y2FzZVwidWNzMlwiOmNhc2VcInV0ZjE2bGVcIjp0aGlzLnN1cnJvZ2F0ZVNpemU9Mix0aGlzLmRldGVjdEluY29tcGxldGVDaGFyPWY7YnJlYWs7Y2FzZVwiYmFzZTY0XCI6dGhpcy5zdXJyb2dhdGVTaXplPTMsdGhpcy5kZXRlY3RJbmNvbXBsZXRlQ2hhcj1nO2JyZWFrO2RlZmF1bHQ6cmV0dXJuIHZvaWQodGhpcy53cml0ZT1lKX10aGlzLmNoYXJCdWZmZXI9bmV3IGgoNiksdGhpcy5jaGFyUmVjZWl2ZWQ9MCx0aGlzLmNoYXJMZW5ndGg9MH07aS5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVwiXCIsYz0wO3RoaXMuY2hhckxlbmd0aDspe3ZhciBkPWEubGVuZ3RoPj10aGlzLmNoYXJMZW5ndGgtdGhpcy5jaGFyUmVjZWl2ZWQ/dGhpcy5jaGFyTGVuZ3RoLXRoaXMuY2hhclJlY2VpdmVkOmEubGVuZ3RoO2lmKGEuY29weSh0aGlzLmNoYXJCdWZmZXIsdGhpcy5jaGFyUmVjZWl2ZWQsYyxkKSx0aGlzLmNoYXJSZWNlaXZlZCs9ZC1jLGM9ZCx0aGlzLmNoYXJSZWNlaXZlZDx0aGlzLmNoYXJMZW5ndGgpcmV0dXJuXCJcIjtiPXRoaXMuY2hhckJ1ZmZlci5zbGljZSgwLHRoaXMuY2hhckxlbmd0aCkudG9TdHJpbmcodGhpcy5lbmNvZGluZyk7dmFyIGU9Yi5jaGFyQ29kZUF0KGIubGVuZ3RoLTEpO2lmKCEoZT49NTUyOTYmJjU2MzE5Pj1lKSl7aWYodGhpcy5jaGFyUmVjZWl2ZWQ9dGhpcy5jaGFyTGVuZ3RoPTAsZD09YS5sZW5ndGgpcmV0dXJuIGI7YT1hLnNsaWNlKGQsYS5sZW5ndGgpO2JyZWFrfXRoaXMuY2hhckxlbmd0aCs9dGhpcy5zdXJyb2dhdGVTaXplLGI9XCJcIn12YXIgZj10aGlzLmRldGVjdEluY29tcGxldGVDaGFyKGEpLGc9YS5sZW5ndGg7dGhpcy5jaGFyTGVuZ3RoJiYoYS5jb3B5KHRoaXMuY2hhckJ1ZmZlciwwLGEubGVuZ3RoLWYsZyksdGhpcy5jaGFyUmVjZWl2ZWQ9ZixnLT1mKSxiKz1hLnRvU3RyaW5nKHRoaXMuZW5jb2RpbmcsMCxnKTt2YXIgZz1iLmxlbmd0aC0xLGU9Yi5jaGFyQ29kZUF0KGcpO2lmKGU+PTU1Mjk2JiY1NjMxOT49ZSl7dmFyIGg9dGhpcy5zdXJyb2dhdGVTaXplO3JldHVybiB0aGlzLmNoYXJMZW5ndGgrPWgsdGhpcy5jaGFyUmVjZWl2ZWQrPWgsdGhpcy5jaGFyQnVmZmVyLmNvcHkodGhpcy5jaGFyQnVmZmVyLGgsMCxoKSx0aGlzLmNoYXJCdWZmZXIud3JpdGUoYi5jaGFyQXQoYi5sZW5ndGgtMSksdGhpcy5lbmNvZGluZyksYi5zdWJzdHJpbmcoMCxnKX1yZXR1cm4gYn0saS5wcm90b3R5cGUuZGV0ZWN0SW5jb21wbGV0ZUNoYXI9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPWEubGVuZ3RoPj0zPzM6YS5sZW5ndGg7Yj4wO2ItLSl7dmFyIGM9YVthLmxlbmd0aC1iXTtpZigxPT1iJiZjPj41PT02KXt0aGlzLmNoYXJMZW5ndGg9MjticmVha31pZigyPj1iJiZjPj40PT0xNCl7dGhpcy5jaGFyTGVuZ3RoPTM7YnJlYWt9aWYoMz49YiYmYz4+Mz09MzApe3RoaXMuY2hhckxlbmd0aD00O2JyZWFrfX1yZXR1cm4gYn0saS5wcm90b3R5cGUuZW5kPWZ1bmN0aW9uKGEpe3ZhciBiPVwiXCI7aWYoYSYmYS5sZW5ndGgmJihiPXRoaXMud3JpdGUoYSkpLHRoaXMuY2hhclJlY2VpdmVkKXt2YXIgYz10aGlzLmNoYXJSZWNlaXZlZCxkPXRoaXMuY2hhckJ1ZmZlcixlPXRoaXMuZW5jb2Rpbmc7Yis9ZC5zbGljZSgwLGMpLnRvU3RyaW5nKGUpfXJldHVybiBifX0se2J1ZmZlcjo2fV0sMTk6W2Z1bmN0aW9uKGEsYil7Yi5leHBvcnRzPVwiZnVuY3Rpb25cIj09dHlwZW9mIE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oYSxiKXthLnN1cGVyXz1iLGEucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYi5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTphLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pfTpmdW5jdGlvbihhLGIpe2Euc3VwZXJfPWI7dmFyIGM9ZnVuY3Rpb24oKXt9O2MucHJvdG90eXBlPWIucHJvdG90eXBlLGEucHJvdG90eXBlPW5ldyBjLGEucHJvdG90eXBlLmNvbnN0cnVjdG9yPWF9fSx7fV0sMjA6W2Z1bmN0aW9uKGEsYixjKXsoZnVuY3Rpb24oKXt2YXIgYT10aGlzLGQ9YS5fLGU9e30sZj1BcnJheS5wcm90b3R5cGUsZz1PYmplY3QucHJvdG90eXBlLGg9RnVuY3Rpb24ucHJvdG90eXBlLGk9Zi5wdXNoLGo9Zi5zbGljZSxrPWYuY29uY2F0LGw9Zy50b1N0cmluZyxtPWcuaGFzT3duUHJvcGVydHksbj1mLmZvckVhY2gsbz1mLm1hcCxwPWYucmVkdWNlLHE9Zi5yZWR1Y2VSaWdodCxyPWYuZmlsdGVyLHM9Zi5ldmVyeSx0PWYuc29tZSx1PWYuaW5kZXhPZix2PWYubGFzdEluZGV4T2Ysdz1BcnJheS5pc0FycmF5LHg9T2JqZWN0LmtleXMseT1oLmJpbmQsej1mdW5jdGlvbihhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIHo/YTp0aGlzIGluc3RhbmNlb2Ygej92b2lkKHRoaXMuX3dyYXBwZWQ9YSk6bmV3IHooYSl9O1widW5kZWZpbmVkXCIhPXR5cGVvZiBjPyhcInVuZGVmaW5lZFwiIT10eXBlb2YgYiYmYi5leHBvcnRzJiYoYz1iLmV4cG9ydHM9eiksYy5fPXopOmEuXz16LHouVkVSU0lPTj1cIjEuNi4wXCI7dmFyIEE9ei5lYWNoPXouZm9yRWFjaD1mdW5jdGlvbihhLGIsYyl7aWYobnVsbD09YSlyZXR1cm4gYTtpZihuJiZhLmZvckVhY2g9PT1uKWEuZm9yRWFjaChiLGMpO2Vsc2UgaWYoYS5sZW5ndGg9PT0rYS5sZW5ndGgpe2Zvcih2YXIgZD0wLGY9YS5sZW5ndGg7Zj5kO2QrKylpZihiLmNhbGwoYyxhW2RdLGQsYSk9PT1lKXJldHVybn1lbHNlIGZvcih2YXIgZz16LmtleXMoYSksZD0wLGY9Zy5sZW5ndGg7Zj5kO2QrKylpZihiLmNhbGwoYyxhW2dbZF1dLGdbZF0sYSk9PT1lKXJldHVybjtyZXR1cm4gYX07ei5tYXA9ei5jb2xsZWN0PWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1bXTtyZXR1cm4gbnVsbD09YT9kOm8mJmEubWFwPT09bz9hLm1hcChiLGMpOihBKGEsZnVuY3Rpb24oYSxlLGYpe2QucHVzaChiLmNhbGwoYyxhLGUsZikpfSksZCl9O3ZhciBCPVwiUmVkdWNlIG9mIGVtcHR5IGFycmF5IHdpdGggbm8gaW5pdGlhbCB2YWx1ZVwiO3oucmVkdWNlPXouZm9sZGw9ei5pbmplY3Q9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4yO2lmKG51bGw9PWEmJihhPVtdKSxwJiZhLnJlZHVjZT09PXApcmV0dXJuIGQmJihiPXouYmluZChiLGQpKSxlP2EucmVkdWNlKGIsYyk6YS5yZWR1Y2UoYik7aWYoQShhLGZ1bmN0aW9uKGEsZixnKXtlP2M9Yi5jYWxsKGQsYyxhLGYsZyk6KGM9YSxlPSEwKX0pLCFlKXRocm93IG5ldyBUeXBlRXJyb3IoQik7cmV0dXJuIGN9LHoucmVkdWNlUmlnaHQ9ei5mb2xkcj1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjI7aWYobnVsbD09YSYmKGE9W10pLHEmJmEucmVkdWNlUmlnaHQ9PT1xKXJldHVybiBkJiYoYj16LmJpbmQoYixkKSksZT9hLnJlZHVjZVJpZ2h0KGIsYyk6YS5yZWR1Y2VSaWdodChiKTt2YXIgZj1hLmxlbmd0aDtpZihmIT09K2Ype3ZhciBnPXoua2V5cyhhKTtmPWcubGVuZ3RofWlmKEEoYSxmdW5jdGlvbihoLGksail7aT1nP2dbLS1mXTotLWYsZT9jPWIuY2FsbChkLGMsYVtpXSxpLGopOihjPWFbaV0sZT0hMCl9KSwhZSl0aHJvdyBuZXcgVHlwZUVycm9yKEIpO3JldHVybiBjfSx6LmZpbmQ9ei5kZXRlY3Q9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkO3JldHVybiBDKGEsZnVuY3Rpb24oYSxlLGYpe3JldHVybiBiLmNhbGwoYyxhLGUsZik/KGQ9YSwhMCk6dm9pZCAwfSksZH0sei5maWx0ZXI9ei5zZWxlY3Q9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPVtdO3JldHVybiBudWxsPT1hP2Q6ciYmYS5maWx0ZXI9PT1yP2EuZmlsdGVyKGIsYyk6KEEoYSxmdW5jdGlvbihhLGUsZil7Yi5jYWxsKGMsYSxlLGYpJiZkLnB1c2goYSl9KSxkKX0sei5yZWplY3Q9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB6LmZpbHRlcihhLGZ1bmN0aW9uKGEsZCxlKXtyZXR1cm4hYi5jYWxsKGMsYSxkLGUpfSxjKX0sei5ldmVyeT16LmFsbD1mdW5jdGlvbihhLGIsYyl7Ynx8KGI9ei5pZGVudGl0eSk7dmFyIGQ9ITA7cmV0dXJuIG51bGw9PWE/ZDpzJiZhLmV2ZXJ5PT09cz9hLmV2ZXJ5KGIsYyk6KEEoYSxmdW5jdGlvbihhLGYsZyl7cmV0dXJuKGQ9ZCYmYi5jYWxsKGMsYSxmLGcpKT92b2lkIDA6ZX0pLCEhZCl9O3ZhciBDPXouc29tZT16LmFueT1mdW5jdGlvbihhLGIsYyl7Ynx8KGI9ei5pZGVudGl0eSk7dmFyIGQ9ITE7cmV0dXJuIG51bGw9PWE/ZDp0JiZhLnNvbWU9PT10P2Euc29tZShiLGMpOihBKGEsZnVuY3Rpb24oYSxmLGcpe3JldHVybiBkfHwoZD1iLmNhbGwoYyxhLGYsZykpP2U6dm9pZCAwfSksISFkKX07ei5jb250YWlucz16LmluY2x1ZGU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbnVsbD09YT8hMTp1JiZhLmluZGV4T2Y9PT11Py0xIT1hLmluZGV4T2YoYik6QyhhLGZ1bmN0aW9uKGEpe3JldHVybiBhPT09Yn0pfSx6Lmludm9rZT1mdW5jdGlvbihhLGIpe3ZhciBjPWouY2FsbChhcmd1bWVudHMsMiksZD16LmlzRnVuY3Rpb24oYik7cmV0dXJuIHoubWFwKGEsZnVuY3Rpb24oYSl7cmV0dXJuKGQ/YjphW2JdKS5hcHBseShhLGMpfSl9LHoucGx1Y2s9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gei5tYXAoYSx6LnByb3BlcnR5KGIpKX0sei53aGVyZT1mdW5jdGlvbihhLGIpe3JldHVybiB6LmZpbHRlcihhLHoubWF0Y2hlcyhiKSl9LHouZmluZFdoZXJlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHouZmluZChhLHoubWF0Y2hlcyhiKSl9LHoubWF4PWZ1bmN0aW9uKGEsYixjKXtpZighYiYmei5pc0FycmF5KGEpJiZhWzBdPT09K2FbMF0mJmEubGVuZ3RoPDY1NTM1KXJldHVybiBNYXRoLm1heC5hcHBseShNYXRoLGEpO3ZhciBkPS0xLzAsZT0tMS8wO3JldHVybiBBKGEsZnVuY3Rpb24oYSxmLGcpe3ZhciBoPWI/Yi5jYWxsKGMsYSxmLGcpOmE7aD5lJiYoZD1hLGU9aCl9KSxkfSx6Lm1pbj1mdW5jdGlvbihhLGIsYyl7aWYoIWImJnouaXNBcnJheShhKSYmYVswXT09PSthWzBdJiZhLmxlbmd0aDw2NTUzNSlyZXR1cm4gTWF0aC5taW4uYXBwbHkoTWF0aCxhKTt2YXIgZD0xLzAsZT0xLzA7cmV0dXJuIEEoYSxmdW5jdGlvbihhLGYsZyl7dmFyIGg9Yj9iLmNhbGwoYyxhLGYsZyk6YTtlPmgmJihkPWEsZT1oKX0pLGR9LHouc2h1ZmZsZT1mdW5jdGlvbihhKXt2YXIgYixjPTAsZD1bXTtyZXR1cm4gQShhLGZ1bmN0aW9uKGEpe2I9ei5yYW5kb20oYysrKSxkW2MtMV09ZFtiXSxkW2JdPWF9KSxkfSx6LnNhbXBsZT1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIG51bGw9PWJ8fGM/KGEubGVuZ3RoIT09K2EubGVuZ3RoJiYoYT16LnZhbHVlcyhhKSksYVt6LnJhbmRvbShhLmxlbmd0aC0xKV0pOnouc2h1ZmZsZShhKS5zbGljZSgwLE1hdGgubWF4KDAsYikpfTt2YXIgRD1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YT96LmlkZW50aXR5OnouaXNGdW5jdGlvbihhKT9hOnoucHJvcGVydHkoYSl9O3ouc29ydEJ5PWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYj1EKGIpLHoucGx1Y2soei5tYXAoYSxmdW5jdGlvbihhLGQsZSl7cmV0dXJue3ZhbHVlOmEsaW5kZXg6ZCxjcml0ZXJpYTpiLmNhbGwoYyxhLGQsZSl9fSkuc29ydChmdW5jdGlvbihhLGIpe3ZhciBjPWEuY3JpdGVyaWEsZD1iLmNyaXRlcmlhO2lmKGMhPT1kKXtpZihjPmR8fHZvaWQgMD09PWMpcmV0dXJuIDE7aWYoZD5jfHx2b2lkIDA9PT1kKXJldHVybi0xfXJldHVybiBhLmluZGV4LWIuaW5kZXh9KSxcInZhbHVlXCIpfTt2YXIgRT1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYixjLGQpe3ZhciBlPXt9O3JldHVybiBjPUQoYyksQShiLGZ1bmN0aW9uKGYsZyl7dmFyIGg9Yy5jYWxsKGQsZixnLGIpO2EoZSxoLGYpfSksZX19O3ouZ3JvdXBCeT1FKGZ1bmN0aW9uKGEsYixjKXt6LmhhcyhhLGIpP2FbYl0ucHVzaChjKTphW2JdPVtjXX0pLHouaW5kZXhCeT1FKGZ1bmN0aW9uKGEsYixjKXthW2JdPWN9KSx6LmNvdW50Qnk9RShmdW5jdGlvbihhLGIpe3ouaGFzKGEsYik/YVtiXSsrOmFbYl09MX0pLHouc29ydGVkSW5kZXg9ZnVuY3Rpb24oYSxiLGMsZCl7Yz1EKGMpO2Zvcih2YXIgZT1jLmNhbGwoZCxiKSxmPTAsZz1hLmxlbmd0aDtnPmY7KXt2YXIgaD1mK2c+Pj4xO2MuY2FsbChkLGFbaF0pPGU/Zj1oKzE6Zz1ofXJldHVybiBmfSx6LnRvQXJyYXk9ZnVuY3Rpb24oYSl7cmV0dXJuIGE/ei5pc0FycmF5KGEpP2ouY2FsbChhKTphLmxlbmd0aD09PSthLmxlbmd0aD96Lm1hcChhLHouaWRlbnRpdHkpOnoudmFsdWVzKGEpOltdfSx6LnNpemU9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PWE/MDphLmxlbmd0aD09PSthLmxlbmd0aD9hLmxlbmd0aDp6LmtleXMoYSkubGVuZ3RofSx6LmZpcnN0PXouaGVhZD16LnRha2U9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBudWxsPT1hP3ZvaWQgMDpudWxsPT1ifHxjP2FbMF06MD5iP1tdOmouY2FsbChhLDAsYil9LHouaW5pdGlhbD1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGouY2FsbChhLDAsYS5sZW5ndGgtKG51bGw9PWJ8fGM/MTpiKSl9LHoubGFzdD1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIG51bGw9PWE/dm9pZCAwOm51bGw9PWJ8fGM/YVthLmxlbmd0aC0xXTpqLmNhbGwoYSxNYXRoLm1heChhLmxlbmd0aC1iLDApKX0sei5yZXN0PXoudGFpbD16LmRyb3A9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBqLmNhbGwoYSxudWxsPT1ifHxjPzE6Yil9LHouY29tcGFjdD1mdW5jdGlvbihhKXtyZXR1cm4gei5maWx0ZXIoYSx6LmlkZW50aXR5KX07dmFyIEY9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBiJiZ6LmV2ZXJ5KGEsei5pc0FycmF5KT9rLmFwcGx5KGMsYSk6KEEoYSxmdW5jdGlvbihhKXt6LmlzQXJyYXkoYSl8fHouaXNBcmd1bWVudHMoYSk/Yj9pLmFwcGx5KGMsYSk6RihhLGIsYyk6Yy5wdXNoKGEpfSksYyl9O3ouZmxhdHRlbj1mdW5jdGlvbihhLGIpe3JldHVybiBGKGEsYixbXSl9LHoud2l0aG91dD1mdW5jdGlvbihhKXtyZXR1cm4gei5kaWZmZXJlbmNlKGEsai5jYWxsKGFyZ3VtZW50cywxKSl9LHoucGFydGl0aW9uPWZ1bmN0aW9uKGEsYil7dmFyIGM9W10sZD1bXTtyZXR1cm4gQShhLGZ1bmN0aW9uKGEpeyhiKGEpP2M6ZCkucHVzaChhKX0pLFtjLGRdfSx6LnVuaXE9ei51bmlxdWU9ZnVuY3Rpb24oYSxiLGMsZCl7ei5pc0Z1bmN0aW9uKGIpJiYoZD1jLGM9YixiPSExKTt2YXIgZT1jP3oubWFwKGEsYyxkKTphLGY9W10sZz1bXTtyZXR1cm4gQShlLGZ1bmN0aW9uKGMsZCl7KGI/ZCYmZ1tnLmxlbmd0aC0xXT09PWM6ei5jb250YWlucyhnLGMpKXx8KGcucHVzaChjKSxmLnB1c2goYVtkXSkpfSksZn0sei51bmlvbj1mdW5jdGlvbigpe3JldHVybiB6LnVuaXEoei5mbGF0dGVuKGFyZ3VtZW50cywhMCkpfSx6LmludGVyc2VjdGlvbj1mdW5jdGlvbihhKXt2YXIgYj1qLmNhbGwoYXJndW1lbnRzLDEpO3JldHVybiB6LmZpbHRlcih6LnVuaXEoYSksZnVuY3Rpb24oYSl7cmV0dXJuIHouZXZlcnkoYixmdW5jdGlvbihiKXtyZXR1cm4gei5jb250YWlucyhiLGEpfSl9KX0sei5kaWZmZXJlbmNlPWZ1bmN0aW9uKGEpe3ZhciBiPWsuYXBwbHkoZixqLmNhbGwoYXJndW1lbnRzLDEpKTtyZXR1cm4gei5maWx0ZXIoYSxmdW5jdGlvbihhKXtyZXR1cm4hei5jb250YWlucyhiLGEpfSl9LHouemlwPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPXoubWF4KHoucGx1Y2soYXJndW1lbnRzLFwibGVuZ3RoXCIpLmNvbmNhdCgwKSksYj1uZXcgQXJyYXkoYSksYz0wO2E+YztjKyspYltjXT16LnBsdWNrKGFyZ3VtZW50cyxcIlwiK2MpO3JldHVybiBifSx6Lm9iamVjdD1mdW5jdGlvbihhLGIpe2lmKG51bGw9PWEpcmV0dXJue307Zm9yKHZhciBjPXt9LGQ9MCxlPWEubGVuZ3RoO2U+ZDtkKyspYj9jW2FbZF1dPWJbZF06Y1thW2RdWzBdXT1hW2RdWzFdO3JldHVybiBjfSx6LmluZGV4T2Y9ZnVuY3Rpb24oYSxiLGMpe2lmKG51bGw9PWEpcmV0dXJuLTE7dmFyIGQ9MCxlPWEubGVuZ3RoO2lmKGMpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBjKXJldHVybiBkPXouc29ydGVkSW5kZXgoYSxiKSxhW2RdPT09Yj9kOi0xO2Q9MD5jP01hdGgubWF4KDAsZStjKTpjfWlmKHUmJmEuaW5kZXhPZj09PXUpcmV0dXJuIGEuaW5kZXhPZihiLGMpO2Zvcig7ZT5kO2QrKylpZihhW2RdPT09YilyZXR1cm4gZDtyZXR1cm4tMX0sei5sYXN0SW5kZXhPZj1mdW5jdGlvbihhLGIsYyl7aWYobnVsbD09YSlyZXR1cm4tMTt2YXIgZD1udWxsIT1jO2lmKHYmJmEubGFzdEluZGV4T2Y9PT12KXJldHVybiBkP2EubGFzdEluZGV4T2YoYixjKTphLmxhc3RJbmRleE9mKGIpO2Zvcih2YXIgZT1kP2M6YS5sZW5ndGg7ZS0tOylpZihhW2VdPT09YilyZXR1cm4gZTtyZXR1cm4tMX0sei5yYW5nZT1mdW5jdGlvbihhLGIsYyl7YXJndW1lbnRzLmxlbmd0aDw9MSYmKGI9YXx8MCxhPTApLGM9YXJndW1lbnRzWzJdfHwxO2Zvcih2YXIgZD1NYXRoLm1heChNYXRoLmNlaWwoKGItYSkvYyksMCksZT0wLGY9bmV3IEFycmF5KGQpO2Q+ZTspZltlKytdPWEsYSs9YztyZXR1cm4gZn07dmFyIEc9ZnVuY3Rpb24oKXt9O3ouYmluZD1mdW5jdGlvbihhLGIpe3ZhciBjLGQ7aWYoeSYmYS5iaW5kPT09eSlyZXR1cm4geS5hcHBseShhLGouY2FsbChhcmd1bWVudHMsMSkpO2lmKCF6LmlzRnVuY3Rpb24oYSkpdGhyb3cgbmV3IFR5cGVFcnJvcjtyZXR1cm4gYz1qLmNhbGwoYXJndW1lbnRzLDIpLGQ9ZnVuY3Rpb24oKXtpZighKHRoaXMgaW5zdGFuY2VvZiBkKSlyZXR1cm4gYS5hcHBseShiLGMuY29uY2F0KGouY2FsbChhcmd1bWVudHMpKSk7Ry5wcm90b3R5cGU9YS5wcm90b3R5cGU7dmFyIGU9bmV3IEc7Ry5wcm90b3R5cGU9bnVsbDt2YXIgZj1hLmFwcGx5KGUsYy5jb25jYXQoai5jYWxsKGFyZ3VtZW50cykpKTtyZXR1cm4gT2JqZWN0KGYpPT09Zj9mOmV9fSx6LnBhcnRpYWw9ZnVuY3Rpb24oYSl7dmFyIGI9ai5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIGM9MCxkPWIuc2xpY2UoKSxlPTAsZj1kLmxlbmd0aDtmPmU7ZSsrKWRbZV09PT16JiYoZFtlXT1hcmd1bWVudHNbYysrXSk7Zm9yKDtjPGFyZ3VtZW50cy5sZW5ndGg7KWQucHVzaChhcmd1bWVudHNbYysrXSk7cmV0dXJuIGEuYXBwbHkodGhpcyxkKX19LHouYmluZEFsbD1mdW5jdGlvbihhKXt2YXIgYj1qLmNhbGwoYXJndW1lbnRzLDEpO2lmKDA9PT1iLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJiaW5kQWxsIG11c3QgYmUgcGFzc2VkIGZ1bmN0aW9uIG5hbWVzXCIpO3JldHVybiBBKGIsZnVuY3Rpb24oYil7YVtiXT16LmJpbmQoYVtiXSxhKX0pLGF9LHoubWVtb2l6ZT1mdW5jdGlvbihhLGIpe3ZhciBjPXt9O3JldHVybiBifHwoYj16LmlkZW50aXR5KSxmdW5jdGlvbigpe3ZhciBkPWIuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB6LmhhcyhjLGQpP2NbZF06Y1tkXT1hLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19LHouZGVsYXk9ZnVuY3Rpb24oYSxiKXt2YXIgYz1qLmNhbGwoYXJndW1lbnRzLDIpO3JldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmV0dXJuIGEuYXBwbHkobnVsbCxjKX0sYil9LHouZGVmZXI9ZnVuY3Rpb24oYSl7cmV0dXJuIHouZGVsYXkuYXBwbHkoeixbYSwxXS5jb25jYXQoai5jYWxsKGFyZ3VtZW50cywxKSkpfSx6LnRocm90dGxlPWZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZz1udWxsLGg9MDtjfHwoYz17fSk7dmFyIGk9ZnVuY3Rpb24oKXtoPWMubGVhZGluZz09PSExPzA6ei5ub3coKSxnPW51bGwsZj1hLmFwcGx5KGQsZSksZD1lPW51bGx9O3JldHVybiBmdW5jdGlvbigpe3ZhciBqPXoubm93KCk7aHx8Yy5sZWFkaW5nIT09ITF8fChoPWopO3ZhciBrPWItKGotaCk7cmV0dXJuIGQ9dGhpcyxlPWFyZ3VtZW50cywwPj1rPyhjbGVhclRpbWVvdXQoZyksZz1udWxsLGg9aixmPWEuYXBwbHkoZCxlKSxkPWU9bnVsbCk6Z3x8Yy50cmFpbGluZz09PSExfHwoZz1zZXRUaW1lb3V0KGksaykpLGZ9fSx6LmRlYm91bmNlPWZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZyxoLGk9ZnVuY3Rpb24oKXt2YXIgaj16Lm5vdygpLWc7Yj5qP2Q9c2V0VGltZW91dChpLGItaik6KGQ9bnVsbCxjfHwoaD1hLmFwcGx5KGYsZSksZj1lPW51bGwpKX07cmV0dXJuIGZ1bmN0aW9uKCl7Zj10aGlzLGU9YXJndW1lbnRzLGc9ei5ub3coKTt2YXIgaj1jJiYhZDtyZXR1cm4gZHx8KGQ9c2V0VGltZW91dChpLGIpKSxqJiYoaD1hLmFwcGx5KGYsZSksZj1lPW51bGwpLGh9fSx6Lm9uY2U9ZnVuY3Rpb24oYSl7dmFyIGIsYz0hMTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYz9iOihjPSEwLGI9YS5hcHBseSh0aGlzLGFyZ3VtZW50cyksYT1udWxsLGIpfX0sei53cmFwPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHoucGFydGlhbChiLGEpfSx6LmNvbXBvc2U9ZnVuY3Rpb24oKXt2YXIgYT1hcmd1bWVudHM7cmV0dXJuIGZ1bmN0aW9uKCl7Zm9yKHZhciBiPWFyZ3VtZW50cyxjPWEubGVuZ3RoLTE7Yz49MDtjLS0pYj1bYVtjXS5hcHBseSh0aGlzLGIpXTtyZXR1cm4gYlswXX19LHouYWZ0ZXI9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4tLWE8MT9iLmFwcGx5KHRoaXMsYXJndW1lbnRzKTp2b2lkIDB9fSx6LmtleXM9ZnVuY3Rpb24oYSl7aWYoIXouaXNPYmplY3QoYSkpcmV0dXJuW107aWYoeClyZXR1cm4geChhKTt2YXIgYj1bXTtmb3IodmFyIGMgaW4gYSl6LmhhcyhhLGMpJiZiLnB1c2goYyk7cmV0dXJuIGJ9LHoudmFsdWVzPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj16LmtleXMoYSksYz1iLmxlbmd0aCxkPW5ldyBBcnJheShjKSxlPTA7Yz5lO2UrKylkW2VdPWFbYltlXV07cmV0dXJuIGR9LHoucGFpcnM9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXoua2V5cyhhKSxjPWIubGVuZ3RoLGQ9bmV3IEFycmF5KGMpLGU9MDtjPmU7ZSsrKWRbZV09W2JbZV0sYVtiW2VdXV07cmV0dXJuIGR9LHouaW52ZXJ0PWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj17fSxjPXoua2V5cyhhKSxkPTAsZT1jLmxlbmd0aDtlPmQ7ZCsrKWJbYVtjW2RdXV09Y1tkXTtyZXR1cm4gYn0sei5mdW5jdGlvbnM9ei5tZXRob2RzPWZ1bmN0aW9uKGEpe3ZhciBiPVtdO2Zvcih2YXIgYyBpbiBhKXouaXNGdW5jdGlvbihhW2NdKSYmYi5wdXNoKGMpO3JldHVybiBiLnNvcnQoKX0sei5leHRlbmQ9ZnVuY3Rpb24oYSl7cmV0dXJuIEEoai5jYWxsKGFyZ3VtZW50cywxKSxmdW5jdGlvbihiKXtpZihiKWZvcih2YXIgYyBpbiBiKWFbY109YltjXX0pLGF9LHoucGljaz1mdW5jdGlvbihhKXt2YXIgYj17fSxjPWsuYXBwbHkoZixqLmNhbGwoYXJndW1lbnRzLDEpKTtyZXR1cm4gQShjLGZ1bmN0aW9uKGMpe2MgaW4gYSYmKGJbY109YVtjXSl9KSxifSx6Lm9taXQ9ZnVuY3Rpb24oYSl7dmFyIGI9e30sYz1rLmFwcGx5KGYsai5jYWxsKGFyZ3VtZW50cywxKSk7Zm9yKHZhciBkIGluIGEpei5jb250YWlucyhjLGQpfHwoYltkXT1hW2RdKTtyZXR1cm4gYn0sei5kZWZhdWx0cz1mdW5jdGlvbihhKXtyZXR1cm4gQShqLmNhbGwoYXJndW1lbnRzLDEpLGZ1bmN0aW9uKGIpe2lmKGIpZm9yKHZhciBjIGluIGIpdm9pZCAwPT09YVtjXSYmKGFbY109YltjXSl9KSxhfSx6LmNsb25lPWZ1bmN0aW9uKGEpe3JldHVybiB6LmlzT2JqZWN0KGEpP3ouaXNBcnJheShhKT9hLnNsaWNlKCk6ei5leHRlbmQoe30sYSk6YX0sei50YXA9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYihhKSxhfTt2YXIgSD1mdW5jdGlvbihhLGIsYyxkKXtpZihhPT09YilyZXR1cm4gMCE9PWF8fDEvYT09MS9iO2lmKG51bGw9PWF8fG51bGw9PWIpcmV0dXJuIGE9PT1iO2EgaW5zdGFuY2VvZiB6JiYoYT1hLl93cmFwcGVkKSxiIGluc3RhbmNlb2YgeiYmKGI9Yi5fd3JhcHBlZCk7dmFyIGU9bC5jYWxsKGEpO2lmKGUhPWwuY2FsbChiKSlyZXR1cm4hMTtzd2l0Y2goZSl7Y2FzZVwiW29iamVjdCBTdHJpbmddXCI6cmV0dXJuIGE9PVN0cmluZyhiKTtjYXNlXCJbb2JqZWN0IE51bWJlcl1cIjpyZXR1cm4gYSE9K2E/YiE9K2I6MD09YT8xL2E9PTEvYjphPT0rYjtjYXNlXCJbb2JqZWN0IERhdGVdXCI6Y2FzZVwiW29iamVjdCBCb29sZWFuXVwiOnJldHVybithPT0rYjtjYXNlXCJbb2JqZWN0IFJlZ0V4cF1cIjpyZXR1cm4gYS5zb3VyY2U9PWIuc291cmNlJiZhLmdsb2JhbD09Yi5nbG9iYWwmJmEubXVsdGlsaW5lPT1iLm11bHRpbGluZSYmYS5pZ25vcmVDYXNlPT1iLmlnbm9yZUNhc2V9aWYoXCJvYmplY3RcIiE9dHlwZW9mIGF8fFwib2JqZWN0XCIhPXR5cGVvZiBiKXJldHVybiExO2Zvcih2YXIgZj1jLmxlbmd0aDtmLS07KWlmKGNbZl09PWEpcmV0dXJuIGRbZl09PWI7dmFyIGc9YS5jb25zdHJ1Y3RvcixoPWIuY29uc3RydWN0b3I7aWYoZyE9PWgmJiEoei5pc0Z1bmN0aW9uKGcpJiZnIGluc3RhbmNlb2YgZyYmei5pc0Z1bmN0aW9uKGgpJiZoIGluc3RhbmNlb2YgaCkmJlwiY29uc3RydWN0b3JcImluIGEmJlwiY29uc3RydWN0b3JcImluIGIpcmV0dXJuITE7Yy5wdXNoKGEpLGQucHVzaChiKTt2YXIgaT0wLGo9ITA7aWYoXCJbb2JqZWN0IEFycmF5XVwiPT1lKXtpZihpPWEubGVuZ3RoLGo9aT09Yi5sZW5ndGgpZm9yKDtpLS0mJihqPUgoYVtpXSxiW2ldLGMsZCkpOyk7fWVsc2V7Zm9yKHZhciBrIGluIGEpaWYoei5oYXMoYSxrKSYmKGkrKywhKGo9ei5oYXMoYixrKSYmSChhW2tdLGJba10sYyxkKSkpKWJyZWFrO2lmKGope2ZvcihrIGluIGIpaWYoei5oYXMoYixrKSYmIWktLSlicmVhaztqPSFpfX1yZXR1cm4gYy5wb3AoKSxkLnBvcCgpLGp9O3ouaXNFcXVhbD1mdW5jdGlvbihhLGIpe3JldHVybiBIKGEsYixbXSxbXSl9LHouaXNFbXB0eT1mdW5jdGlvbihhKXtpZihudWxsPT1hKXJldHVybiEwO2lmKHouaXNBcnJheShhKXx8ei5pc1N0cmluZyhhKSlyZXR1cm4gMD09PWEubGVuZ3RoO2Zvcih2YXIgYiBpbiBhKWlmKHouaGFzKGEsYikpcmV0dXJuITE7cmV0dXJuITB9LHouaXNFbGVtZW50PWZ1bmN0aW9uKGEpe3JldHVybiEoIWF8fDEhPT1hLm5vZGVUeXBlKX0sei5pc0FycmF5PXd8fGZ1bmN0aW9uKGEpe3JldHVyblwiW29iamVjdCBBcnJheV1cIj09bC5jYWxsKGEpfSx6LmlzT2JqZWN0PWZ1bmN0aW9uKGEpe3JldHVybiBhPT09T2JqZWN0KGEpfSxBKFtcIkFyZ3VtZW50c1wiLFwiRnVuY3Rpb25cIixcIlN0cmluZ1wiLFwiTnVtYmVyXCIsXCJEYXRlXCIsXCJSZWdFeHBcIl0sZnVuY3Rpb24oYSl7eltcImlzXCIrYV09ZnVuY3Rpb24oYil7cmV0dXJuIGwuY2FsbChiKT09XCJbb2JqZWN0IFwiK2ErXCJdXCJ9fSksei5pc0FyZ3VtZW50cyhhcmd1bWVudHMpfHwoei5pc0FyZ3VtZW50cz1mdW5jdGlvbihhKXtyZXR1cm4hKCFhfHwhei5oYXMoYSxcImNhbGxlZVwiKSl9KSxcImZ1bmN0aW9uXCIhPXR5cGVvZi8uLyYmKHouaXNGdW5jdGlvbj1mdW5jdGlvbihhKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBhfSksei5pc0Zpbml0ZT1mdW5jdGlvbihhKXtyZXR1cm4gaXNGaW5pdGUoYSkmJiFpc05hTihwYXJzZUZsb2F0KGEpKX0sei5pc05hTj1mdW5jdGlvbihhKXtyZXR1cm4gei5pc051bWJlcihhKSYmYSE9K2F9LHouaXNCb29sZWFuPWZ1bmN0aW9uKGEpe3JldHVybiBhPT09ITB8fGE9PT0hMXx8XCJbb2JqZWN0IEJvb2xlYW5dXCI9PWwuY2FsbChhKX0sei5pc051bGw9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PT1hfSx6LmlzVW5kZWZpbmVkPWZ1bmN0aW9uKGEpe3JldHVybiB2b2lkIDA9PT1hfSx6Lmhhcz1mdW5jdGlvbihhLGIpe3JldHVybiBtLmNhbGwoYSxiKX0sei5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIGEuXz1kLHRoaXN9LHouaWRlbnRpdHk9ZnVuY3Rpb24oYSl7cmV0dXJuIGF9LHouY29uc3RhbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGF9fSx6LnByb3BlcnR5PWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gYlthXX19LHoubWF0Y2hlcz1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7aWYoYj09PWEpcmV0dXJuITA7Zm9yKHZhciBjIGluIGEpaWYoYVtjXSE9PWJbY10pcmV0dXJuITE7cmV0dXJuITB9fSx6LnRpbWVzPWZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9QXJyYXkoTWF0aC5tYXgoMCxhKSksZT0wO2E+ZTtlKyspZFtlXT1iLmNhbGwoYyxlKTtyZXR1cm4gZH0sei5yYW5kb209ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbnVsbD09YiYmKGI9YSxhPTApLGErTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKihiLWErMSkpfSx6Lm5vdz1EYXRlLm5vd3x8ZnVuY3Rpb24oKXtyZXR1cm4obmV3IERhdGUpLmdldFRpbWUoKX07dmFyIEk9e2VzY2FwZTp7XCImXCI6XCImYW1wO1wiLFwiPFwiOlwiJmx0O1wiLFwiPlwiOlwiJmd0O1wiLCdcIic6XCImcXVvdDtcIixcIidcIjpcIiYjeDI3O1wifX07SS51bmVzY2FwZT16LmludmVydChJLmVzY2FwZSk7dmFyIEo9e2VzY2FwZTpuZXcgUmVnRXhwKFwiW1wiK3oua2V5cyhJLmVzY2FwZSkuam9pbihcIlwiKStcIl1cIixcImdcIiksdW5lc2NhcGU6bmV3IFJlZ0V4cChcIihcIit6LmtleXMoSS51bmVzY2FwZSkuam9pbihcInxcIikrXCIpXCIsXCJnXCIpfTt6LmVhY2goW1wiZXNjYXBlXCIsXCJ1bmVzY2FwZVwiXSxmdW5jdGlvbihhKXt6W2FdPWZ1bmN0aW9uKGIpe3JldHVybiBudWxsPT1iP1wiXCI6KFwiXCIrYikucmVwbGFjZShKW2FdLGZ1bmN0aW9uKGIpe3JldHVybiBJW2FdW2JdfSl9fSksei5yZXN1bHQ9ZnVuY3Rpb24oYSxiKXtpZihudWxsPT1hKXJldHVybiB2b2lkIDA7dmFyIGM9YVtiXTtyZXR1cm4gei5pc0Z1bmN0aW9uKGMpP2MuY2FsbChhKTpjfSx6Lm1peGluPWZ1bmN0aW9uKGEpe0Eoei5mdW5jdGlvbnMoYSksZnVuY3Rpb24oYil7dmFyIGM9eltiXT1hW2JdO3oucHJvdG90eXBlW2JdPWZ1bmN0aW9uKCl7dmFyIGE9W3RoaXMuX3dyYXBwZWRdO3JldHVybiBpLmFwcGx5KGEsYXJndW1lbnRzKSxPLmNhbGwodGhpcyxjLmFwcGx5KHosYSkpfX0pfTt2YXIgSz0wO3oudW5pcXVlSWQ9ZnVuY3Rpb24oYSl7dmFyIGI9KytLK1wiXCI7cmV0dXJuIGE/YStiOmJ9LHoudGVtcGxhdGVTZXR0aW5ncz17ZXZhbHVhdGU6LzwlKFtcXHNcXFNdKz8pJT4vZyxpbnRlcnBvbGF0ZTovPCU9KFtcXHNcXFNdKz8pJT4vZyxlc2NhcGU6LzwlLShbXFxzXFxTXSs/KSU+L2d9O3ZhciBMPS8oLileLyxNPXtcIidcIjpcIidcIixcIlxcXFxcIjpcIlxcXFxcIixcIlxcclwiOlwiclwiLFwiXFxuXCI6XCJuXCIsXCJcdFwiOlwidFwiLFwiXFx1MjAyOFwiOlwidTIwMjhcIixcIlxcdTIwMjlcIjpcInUyMDI5XCJ9LE49L1xcXFx8J3xcXHJ8XFxufFxcdHxcXHUyMDI4fFxcdTIwMjkvZzt6LnRlbXBsYXRlPWZ1bmN0aW9uKGEsYixjKXt2YXIgZDtjPXouZGVmYXVsdHMoe30sYyx6LnRlbXBsYXRlU2V0dGluZ3MpO3ZhciBlPW5ldyBSZWdFeHAoWyhjLmVzY2FwZXx8TCkuc291cmNlLChjLmludGVycG9sYXRlfHxMKS5zb3VyY2UsKGMuZXZhbHVhdGV8fEwpLnNvdXJjZV0uam9pbihcInxcIikrXCJ8JFwiLFwiZ1wiKSxmPTAsZz1cIl9fcCs9J1wiO2EucmVwbGFjZShlLGZ1bmN0aW9uKGIsYyxkLGUsaCl7cmV0dXJuIGcrPWEuc2xpY2UoZixoKS5yZXBsYWNlKE4sZnVuY3Rpb24oYSl7cmV0dXJuXCJcXFxcXCIrTVthXX0pLGMmJihnKz1cIicrXFxuKChfX3Q9KFwiK2MrXCIpKT09bnVsbD8nJzpfLmVzY2FwZShfX3QpKStcXG4nXCIpLGQmJihnKz1cIicrXFxuKChfX3Q9KFwiK2QrXCIpKT09bnVsbD8nJzpfX3QpK1xcbidcIiksZSYmKGcrPVwiJztcXG5cIitlK1wiXFxuX19wKz0nXCIpLGY9aCtiLmxlbmd0aCxifSksZys9XCInO1xcblwiLGMudmFyaWFibGV8fChnPVwid2l0aChvYmp8fHt9KXtcXG5cIitnK1wifVxcblwiKSxnPVwidmFyIF9fdCxfX3A9JycsX19qPUFycmF5LnByb3RvdHlwZS5qb2luLHByaW50PWZ1bmN0aW9uKCl7X19wKz1fX2ouY2FsbChhcmd1bWVudHMsJycpO307XFxuXCIrZytcInJldHVybiBfX3A7XFxuXCI7dHJ5e2Q9bmV3IEZ1bmN0aW9uKGMudmFyaWFibGV8fFwib2JqXCIsXCJfXCIsZyl9Y2F0Y2goaCl7dGhyb3cgaC5zb3VyY2U9ZyxofWlmKGIpcmV0dXJuIGQoYix6KTt2YXIgaT1mdW5jdGlvbihhKXtyZXR1cm4gZC5jYWxsKHRoaXMsYSx6KX07cmV0dXJuIGkuc291cmNlPVwiZnVuY3Rpb24oXCIrKGMudmFyaWFibGV8fFwib2JqXCIpK1wiKXtcXG5cIitnK1wifVwiLGl9LHouY2hhaW49ZnVuY3Rpb24oYSl7cmV0dXJuIHooYSkuY2hhaW4oKX07dmFyIE89ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuX2NoYWluP3ooYSkuY2hhaW4oKTphfTt6Lm1peGluKHopLEEoW1wicG9wXCIsXCJwdXNoXCIsXCJyZXZlcnNlXCIsXCJzaGlmdFwiLFwic29ydFwiLFwic3BsaWNlXCIsXCJ1bnNoaWZ0XCJdLGZ1bmN0aW9uKGEpe3ZhciBiPWZbYV07ei5wcm90b3R5cGVbYV09ZnVuY3Rpb24oKXt2YXIgYz10aGlzLl93cmFwcGVkO3JldHVybiBiLmFwcGx5KGMsYXJndW1lbnRzKSxcInNoaWZ0XCIhPWEmJlwic3BsaWNlXCIhPWF8fDAhPT1jLmxlbmd0aHx8ZGVsZXRlIGNbMF0sTy5jYWxsKHRoaXMsYyl9fSksQShbXCJjb25jYXRcIixcImpvaW5cIixcInNsaWNlXCJdLGZ1bmN0aW9uKGEpe3ZhciBiPWZbYV07ei5wcm90b3R5cGVbYV09ZnVuY3Rpb24oKXtyZXR1cm4gTy5jYWxsKHRoaXMsYi5hcHBseSh0aGlzLl93cmFwcGVkLGFyZ3VtZW50cykpfX0pLHouZXh0ZW5kKHoucHJvdG90eXBlLHtjaGFpbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGFpbj0hMCx0aGlzfSx2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93cmFwcGVkfX0pLFwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZCYmZGVmaW5lKFwidW5kZXJzY29yZVwiLFtdLGZ1bmN0aW9uKCl7cmV0dXJuIHp9KX0pLmNhbGwodGhpcyl9LHt9XX0se30sWzFdKTsiLCIndXNlIHN0cmljdCc7XHJcblxyXG5mdW5jdGlvbiBicmFpbihuZXR3b3JrKVxyXG57XHJcbiAgICB2YXIgbmV0ID0gbmV3IGJyYWluLk5ldXJhbE5ldHdvcmsoKS5mcm9tSlNPTihuZXR3b3JrKTtcclxuICAgIG5ldC5mcm9tSlNPTihuZXR3b3JrKTtcclxufVxyXG5cclxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKVxyXG57XHJcblxyXG4gICAgbGV0IHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PlxyXG4gICAge1xyXG5cclxuICAgICAgICAkLmdldEpTT04oXCIuL25lcnVhbF9uZXR3b3JrL25ldHdvcmsuanNvblwiLCBmdW5jdGlvbiAoanNvbilcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJlc29sdmUoanNvbik7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgIH0pO1xyXG5cclxuICAgIHByb21pc2VcclxuICAgICAgICAudGhlbihcclxuICAgICAgICAgICAgcmVzcG9uc2UgPT5cclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgbGV0IG5ldHdvcmsgPSBKU09OLnBhcnNlKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXR3b3JrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKVxyXG4gICAgICAgIC50aGVuKGJyYWluKTtcclxuXHJcblxyXG5cclxuXHJcbn0pOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
